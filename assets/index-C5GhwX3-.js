function BV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var cbe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sv={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM;function VV(){if(uM)return $u;uM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return $u.Fragment=t,$u.jsx=n,$u.jsxs=n,$u}var dM;function UV(){return dM||(dM=1,sv.exports=VV()),sv.exports}var d=UV(),ov={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function FV(){if(fM)return He;fM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function j($,Q,ne){this.props=$,this.context=Q,this.refs=w,this.updater=ne||v}j.prototype.isReactComponent={},j.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=j.prototype;function _($,Q,ne){this.props=$,this.context=Q,this.refs=w,this.updater=ne||v}var k=_.prototype=new A;k.constructor=_,b(k,j.prototype),k.isPureReactComponent=!0;var E=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function L($,Q,ne,ue,xe,J){return ne=J.ref,{$$typeof:e,type:$,key:Q,ref:ne!==void 0?ne:null,props:J}}function D($,Q){return L($.type,Q,void 0,void 0,void 0,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function F($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return Q[ne]})}var I=/\/+/g;function V($,Q){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Q.toString(36)}function q(){}function re($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(q,q):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function se($,Q,ne,ue,xe){var J=typeof $;(J==="undefined"||J==="boolean")&&($=null);var le=!1;if($===null)le=!0;else switch(J){case"bigint":case"string":case"number":le=!0;break;case"object":switch($.$$typeof){case e:case t:le=!0;break;case m:return le=$._init,se(le($._payload),Q,ne,ue,xe)}}if(le)return xe=xe($),le=ue===""?"."+V($,0):ue,E(xe)?(ne="",le!=null&&(ne=le.replace(I,"$&/")+"/"),se(xe,Q,ne,"",function(ee){return ee})):xe!=null&&(R(xe)&&(xe=D(xe,ne+(xe.key==null||$&&$.key===xe.key?"":(""+xe.key).replace(I,"$&/")+"/")+le)),Q.push(xe)),1;le=0;var _e=ue===""?".":ue+":";if(E($))for(var Te=0;Te<$.length;Te++)ue=$[Te],J=_e+V(ue,Te),le+=se(ue,Q,ne,J,xe);else if(Te=y($),typeof Te=="function")for($=Te.call($),Te=0;!(ue=$.next()).done;)ue=ue.value,J=_e+V(ue,Te++),le+=se(ue,Q,ne,J,xe);else if(J==="object"){if(typeof $.then=="function")return se(re($),Q,ne,ue,xe);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return le}function H($,Q,ne){if($==null)return $;var ue=[],xe=0;return se($,ue,"","",function(J){return Q.call(ne,J,xe++)}),ue}function z($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var G=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ie(){}return He.Children={map:H,forEach:function($,Q,ne){H($,function(){Q.apply(this,arguments)},ne)},count:function($){var Q=0;return H($,function(){Q++}),Q},toArray:function($){return H($,function(Q){return Q})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}},He.Component=j,He.Fragment=n,He.Profiler=i,He.PureComponent=_,He.StrictMode=r,He.Suspense=u,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,He.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},He.cache=function($){return function(){return $.apply(null,arguments)}},He.cloneElement=function($,Q,ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=b({},$.props),xe=$.key,J=void 0;if(Q!=null)for(le in Q.ref!==void 0&&(J=void 0),Q.key!==void 0&&(xe=""+Q.key),Q)!O.call(Q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Q.ref===void 0||(ue[le]=Q[le]);var le=arguments.length-2;if(le===1)ue.children=ne;else if(1<le){for(var _e=Array(le),Te=0;Te<le;Te++)_e[Te]=arguments[Te+2];ue.children=_e}return L($.type,xe,void 0,void 0,J,ue)},He.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},He.createElement=function($,Q,ne){var ue,xe={},J=null;if(Q!=null)for(ue in Q.key!==void 0&&(J=""+Q.key),Q)O.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(xe[ue]=Q[ue]);var le=arguments.length-2;if(le===1)xe.children=ne;else if(1<le){for(var _e=Array(le),Te=0;Te<le;Te++)_e[Te]=arguments[Te+2];xe.children=_e}if($&&$.defaultProps)for(ue in le=$.defaultProps,le)xe[ue]===void 0&&(xe[ue]=le[ue]);return L($,J,void 0,void 0,null,xe)},He.createRef=function(){return{current:null}},He.forwardRef=function($){return{$$typeof:l,render:$}},He.isValidElement=R,He.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:z}},He.memo=function($,Q){return{$$typeof:f,type:$,compare:Q===void 0?null:Q}},He.startTransition=function($){var Q=M.T,ne={};M.T=ne;try{var ue=$(),xe=M.S;xe!==null&&xe(ne,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,G)}catch(J){G(J)}finally{M.T=Q}},He.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},He.use=function($){return M.H.use($)},He.useActionState=function($,Q,ne){return M.H.useActionState($,Q,ne)},He.useCallback=function($,Q){return M.H.useCallback($,Q)},He.useContext=function($){return M.H.useContext($)},He.useDebugValue=function(){},He.useDeferredValue=function($,Q){return M.H.useDeferredValue($,Q)},He.useEffect=function($,Q,ne){var ue=M.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect($,Q)},He.useId=function(){return M.H.useId()},He.useImperativeHandle=function($,Q,ne){return M.H.useImperativeHandle($,Q,ne)},He.useInsertionEffect=function($,Q){return M.H.useInsertionEffect($,Q)},He.useLayoutEffect=function($,Q){return M.H.useLayoutEffect($,Q)},He.useMemo=function($,Q){return M.H.useMemo($,Q)},He.useOptimistic=function($,Q){return M.H.useOptimistic($,Q)},He.useReducer=function($,Q,ne){return M.H.useReducer($,Q,ne)},He.useRef=function($){return M.H.useRef($)},He.useState=function($){return M.H.useState($)},He.useSyncExternalStore=function($,Q,ne){return M.H.useSyncExternalStore($,Q,ne)},He.useTransition=function(){return M.H.useTransition()},He.version="19.1.1",He}var hM;function Zo(){return hM||(hM=1,ov.exports=FV()),ov.exports}var N=Zo();const ln=Gi(N),HV=BV({__proto__:null,default:ln},[N]);var lv={exports:{}},zu={},cv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function qV(){return mM||(mM=1,(function(e){function t(H,z){var G=H.length;H.push(z);e:for(;0<G;){var ie=G-1>>>1,$=H[ie];if(0<i($,z))H[ie]=z,H[G]=$,G=ie;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var z=H[0],G=H.pop();if(G!==z){H[0]=G;e:for(var ie=0,$=H.length,Q=$>>>1;ie<Q;){var ne=2*(ie+1)-1,ue=H[ne],xe=ne+1,J=H[xe];if(0>i(ue,G))xe<$&&0>i(J,ue)?(H[ie]=J,H[xe]=G,ie=xe):(H[ie]=ue,H[ne]=G,ie=ne);else if(xe<$&&0>i(J,G))H[ie]=J,H[xe]=G,ie=xe;else break e}}return z}function i(H,z){var G=H.sortIndex-z.sortIndex;return G!==0?G:H.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],m=1,p=null,y=3,v=!1,b=!1,w=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=H)r(f),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(f)}}function M(H){if(w=!1,E(H),!b)if(n(u)!==null)b=!0,O||(O=!0,V());else{var z=n(f);z!==null&&se(M,z.startTime-H)}}var O=!1,L=-1,D=5,R=-1;function F(){return j?!0:!(e.unstable_now()-R<D)}function I(){if(j=!1,O){var H=e.unstable_now();R=H;var z=!0;try{e:{b=!1,w&&(w=!1,_(L),L=-1),v=!0;var G=y;try{t:{for(E(H),p=n(u);p!==null&&!(p.expirationTime>H&&F());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,y=p.priorityLevel;var $=ie(p.expirationTime<=H);if(H=e.unstable_now(),typeof $=="function"){p.callback=$,E(H),z=!0;break t}p===n(u)&&r(u),E(H)}else r(u);p=n(u)}if(p!==null)z=!0;else{var Q=n(f);Q!==null&&se(M,Q.startTime-H),z=!1}}break e}finally{p=null,y=G,v=!1}z=void 0}}finally{z?V():O=!1}}}var V;if(typeof k=="function")V=function(){k(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=I,V=function(){re.postMessage(null)}}else V=function(){A(I,0)};function se(H,z){L=A(function(){H(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var G=y;y=z;try{return H()}finally{y=G}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=y;y=H;try{return z()}finally{y=G}},e.unstable_scheduleCallback=function(H,z,G){var ie=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,H={id:m++,callback:z,priorityLevel:H,startTime:G,expirationTime:$,sortIndex:-1},G>ie?(H.sortIndex=G,t(f,H),n(u)===null&&H===n(f)&&(w?(_(L),L=-1):w=!0,se(M,G-ie))):(H.sortIndex=$,t(u,H),b||v||(b=!0,O||(O=!0,V()))),H},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(H){var z=y;return function(){var G=y;y=z;try{return H.apply(this,arguments)}finally{y=G}}}})(uv)),uv}var pM;function WV(){return pM||(pM=1,cv.exports=qV()),cv.exports}var dv={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function GV(){if(gM)return Wn;gM=1;var e=Zo();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,m)},Wn.flushSync=function(u){var f=s.T,m=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=f,r.p=m,r.d.f()}},Wn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Wn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Wn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Wn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wn.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Wn.requestFormReset=function(u){r.d.r(u)},Wn.unstable_batchedUpdates=function(u,f){return u(f)},Wn.useFormState=function(u,f,m){return s.H.useFormState(u,f,m)},Wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Wn.version="19.1.1",Wn}var yM;function i5(){if(yM)return dv.exports;yM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dv.exports=GV(),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function YV(){if(vM)return zu;vM=1;var e=WV(),t=Zo(),n=i5();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return l(x),o;if(S===g)return l(x),c;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=S;else{for(var C=!1,P=x.child;P;){if(P===h){C=!0,h=x,g=S;break}if(P===g){C=!0,g=x,h=S;break}P=P.sibling}if(!C){for(P=S.child;P;){if(P===h){C=!0,h=S,g=x;break}if(P===g){C=!0,g=S,h=x;break}P=P.sibling}if(!C)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=I&&o[I]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function re(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case k:return(o.displayName||"Context")+".Provider";case _:return(o._context.displayName||"Context")+".Consumer";case E:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return c=o.displayName||null,c!==null?c:re(o.type)||"Memo";case D:c=o._payload,o=o._init;try{return re(o(c))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ie=[],$=-1;function Q(o){return{current:o}}function ne(o){0>$||(o.current=ie[$],ie[$]=null,$--)}function ue(o,c){$++,ie[$]=o.current,o.current=c}var xe=Q(null),J=Q(null),le=Q(null),_e=Q(null);function Te(o,c){switch(ue(le,c),ue(J,o),ue(xe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?$A(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=$A(c),o=zA(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(xe),ue(xe,o)}function ee(){ne(xe),ne(J),ne(le)}function we(o){o.memoizedState!==null&&ue(_e,o);var c=xe.current,h=zA(c,o.type);c!==h&&(ue(J,o),ue(xe,h))}function Se(o){J.current===o&&(ne(xe),ne(J)),_e.current===o&&(ne(_e),Pu._currentValue=G)}var ye=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,he=e.unstable_shouldYield,Ce=e.unstable_requestPaint,Ye=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,T=e.unstable_UserBlockingPriority,B=e.unstable_NormalPriority,Y=e.unstable_LowPriority,fe=e.unstable_IdlePriority,be=e.log,ve=e.unstable_setDisableYieldValue,je=null,ze=null;function Ke(o){if(typeof be=="function"&&ve(o),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(je,o)}catch{}}var ct=Math.clz32?Math.clz32:Fs,qa=Math.log,Fn=Math.LN2;function Fs(o){return o>>>=0,o===0?32:31-(qa(o)/Fn|0)|0}var Wa=256,Ga=4194304;function Xi(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Hs(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var x=0,S=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var P=g&134217727;return P!==0?(g=P&~S,g!==0?x=Xi(g):(C&=P,C!==0?x=Xi(C):h||(h=P&~o,h!==0&&(x=Xi(h))))):(P=g&~S,P!==0?x=Xi(P):C!==0?x=Xi(C):h||(h=g&~o,h!==0&&(x=Xi(h)))),x===0?0:c!==0&&c!==x&&(c&S)===0&&(S=x&-x,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:x}function qs(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Pf(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w2(){var o=Wa;return Wa<<=1,(Wa&4194048)===0&&(Wa=256),o}function S2(){var o=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),o}function Kg(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Fc(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kz(o,c,h,g,x,S){var C=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var P=o.entanglements,U=o.expirationTimes,X=o.hiddenUpdates;for(h=C&~h;0<h;){var de=31-ct(h),ge=1<<de;P[de]=0,U[de]=-1;var te=X[de];if(te!==null)for(X[de]=null,de=0;de<te.length;de++){var ae=te[de];ae!==null&&(ae.lane&=-536870913)}h&=~ge}g!==0&&j2(o,g,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(C&~c))}function j2(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-ct(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function N2(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-ct(h),x=1<<g;x&c|o[g]&c&&(o[g]|=c),h&=~x}}function Zg(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xg(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function _2(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:iM(o.type))}function Cz(o,c){var h=z.p;try{return z.p=o,c()}finally{z.p=h}}var Ya=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ya,cr="__reactProps$"+Ya,ol="__reactContainer$"+Ya,Qg="__reactEvents$"+Ya,Ez="__reactListeners$"+Ya,Tz="__reactHandles$"+Ya,A2="__reactResources$"+Ya,Hc="__reactMarker$"+Ya;function Jg(o){delete o[Hn],delete o[cr],delete o[Qg],delete o[Ez],delete o[Tz]}function ll(o){var c=o[Hn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[ol]||h[Hn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=FA(o);o!==null;){if(h=o[Hn])return h;o=FA(o)}return c}o=h,h=o.parentNode}return null}function cl(o){if(o=o[Hn]||o[ol]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function qc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function ul(o){var c=o[A2];return c||(c=o[A2]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Sn(o){o[Hc]=!0}var M2=new Set,k2={};function Ws(o,c){dl(o,c),dl(o+"Capture",c)}function dl(o,c){for(k2[o]=c,o=0;o<c.length;o++)M2.add(c[o])}var Oz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),C2={},E2={};function Pz(o){return ye.call(E2,o)?!0:ye.call(C2,o)?!1:Oz.test(o)?E2[o]=!0:(C2[o]=!0,!1)}function Df(o,c,h){if(Pz(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Rf(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Qi(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}var e0,T2;function fl(o){if(e0===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);e0=c&&c[1]||"",T2=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+e0+o+T2}var t0=!1;function n0(o,c){if(!o||t0)return"";t0=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var te=ae}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(ae){te=ae}o.call(ge.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),C=S[0],P=S[1];if(C&&P){var U=C.split(`
`),X=P.split(`
`);for(x=g=0;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;for(;x<X.length&&!X[x].includes("DetermineComponentFrameRoot");)x++;if(g===U.length||x===X.length)for(g=U.length-1,x=X.length-1;1<=g&&0<=x&&U[g]!==X[x];)x--;for(;1<=g&&0<=x;g--,x--)if(U[g]!==X[x]){if(g!==1||x!==1)do if(g--,x--,0>x||U[g]!==X[x]){var de=`
`+U[g].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=g&&0<=x);break}}}finally{t0=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?fl(h):""}function Dz(o){switch(o.tag){case 26:case 27:case 5:return fl(o.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 15:return n0(o.type,!1);case 11:return n0(o.type.render,!1);case 1:return n0(o.type,!0);case 31:return fl("Activity");default:return""}}function O2(o){try{var c="";do c+=Dz(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Hr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function P2(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Rz(o){var c=P2(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(C){g=""+C,S.call(this,C)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Lf(o){o._valueTracker||(o._valueTracker=Rz(o))}function D2(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=P2(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function If(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Lz=/[\n"\\]/g;function qr(o){return o.replace(Lz,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function r0(o,c,h,g,x,S,C,P){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),c!=null?C==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Hr(c)):o.value!==""+Hr(c)&&(o.value=""+Hr(c)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),c!=null?i0(o,C,Hr(c)):h!=null?i0(o,C,Hr(h)):g!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+Hr(P):o.removeAttribute("name")}function R2(o,c,h,g,x,S,C,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;h=h!=null?""+Hr(h):"",c=c!=null?""+Hr(c):h,P||c===o.value||(o.value=c),o.defaultValue=c}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=P?o.checked:!!g,o.defaultChecked=!!g,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function i0(o,c,h){c==="number"&&If(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function hl(o,c,h,g){if(o=o.options,c){c={};for(var x=0;x<h.length;x++)c["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=c.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Hr(h),c=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function L2(o,c,h){if(c!=null&&(c=""+Hr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Hr(h):""}function I2(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(se(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Hr(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function ml(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Iz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $2(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||Iz.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function z2(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in c)g=c[x],c.hasOwnProperty(x)&&h[x]!==g&&$2(o,x,g)}else for(var S in c)c.hasOwnProperty(S)&&$2(o,S,c[S])}function a0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $z=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $f(o){return zz.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var s0=null;function o0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var pl=null,gl=null;function B2(o){var c=cl(o);if(c&&(o=c.stateNode)){var h=o[cr]||null;e:switch(o=c.stateNode,c.type){case"input":if(r0(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+qr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var x=g[cr]||null;if(!x)throw Error(r(90));r0(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&D2(g)}break e;case"textarea":L2(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&hl(o,!!h.multiple,c,!1)}}}var l0=!1;function V2(o,c,h){if(l0)return o(c,h);l0=!0;try{var g=o(c);return g}finally{if(l0=!1,(pl!==null||gl!==null)&&(jh(),pl&&(c=pl,o=gl,gl=pl=null,B2(c),o)))for(c=0;c<o.length;c++)B2(o[c])}}function Wc(o,c){var h=o.stateNode;if(h===null)return null;var g=h[cr]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c0=!1;if(Ji)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){c0=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{c0=!1}var Ka=null,u0=null,zf=null;function U2(){if(zf)return zf;var o,c=u0,h=c.length,g,x="value"in Ka?Ka.value:Ka.textContent,S=x.length;for(o=0;o<h&&c[o]===x[o];o++);var C=h-o;for(g=1;g<=C&&c[h-g]===x[S-g];g++);return zf=x.slice(o,1<g?1-g:void 0)}function Bf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Vf(){return!0}function F2(){return!1}function ur(o){function c(h,g,x,S,C){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=C,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(h=o[P],this[P]=h?h(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Vf:F2,this.isPropagationStopped=F2,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),c}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=ur(Gs),Yc=m({},Gs,{view:0,detail:0}),Bz=ur(Yc),d0,f0,Kc,Ff=m({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Kc&&(Kc&&o.type==="mousemove"?(d0=o.screenX-Kc.screenX,f0=o.screenY-Kc.screenY):f0=d0=0,Kc=o),d0)},movementY:function(o){return"movementY"in o?o.movementY:f0}}),H2=ur(Ff),Vz=m({},Ff,{dataTransfer:0}),Uz=ur(Vz),Fz=m({},Yc,{relatedTarget:0}),h0=ur(Fz),Hz=m({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),qz=ur(Hz),Wz=m({},Gs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Gz=ur(Wz),Yz=m({},Gs,{data:0}),q2=ur(Yz),Kz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qz(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Xz[o])?!!c[o]:!1}function m0(){return Qz}var Jz=m({},Yc,{key:function(o){if(o.key){var c=Kz[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Bf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m0,charCode:function(o){return o.type==="keypress"?Bf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),eB=ur(Jz),tB=m({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W2=ur(tB),nB=m({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m0}),rB=ur(nB),iB=m({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),aB=ur(iB),sB=m({},Ff,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),oB=ur(sB),lB=m({},Gs,{newState:0,oldState:0}),cB=ur(lB),uB=[9,13,27,32],p0=Ji&&"CompositionEvent"in window,Zc=null;Ji&&"documentMode"in document&&(Zc=document.documentMode);var dB=Ji&&"TextEvent"in window&&!Zc,G2=Ji&&(!p0||Zc&&8<Zc&&11>=Zc),Y2=" ",K2=!1;function Z2(o,c){switch(o){case"keyup":return uB.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var yl=!1;function fB(o,c){switch(o){case"compositionend":return X2(c);case"keypress":return c.which!==32?null:(K2=!0,Y2);case"textInput":return o=c.data,o===Y2&&K2?null:o;default:return null}}function hB(o,c){if(yl)return o==="compositionend"||!p0&&Z2(o,c)?(o=U2(),zf=u0=Ka=null,yl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return G2&&c.locale!=="ko"?null:c.data;default:return null}}var mB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!mB[o.type]:c==="textarea"}function J2(o,c,h,g){pl?gl?gl.push(g):gl=[g]:pl=g,c=Ch(c,"onChange"),0<c.length&&(h=new Uf("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var Xc=null,Qc=null;function pB(o){PA(o,0)}function Hf(o){var c=qc(o);if(D2(c))return o}function eN(o,c){if(o==="change")return c}var tN=!1;if(Ji){var g0;if(Ji){var y0="oninput"in document;if(!y0){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),y0=typeof nN.oninput=="function"}g0=y0}else g0=!1;tN=g0&&(!document.documentMode||9<document.documentMode)}function rN(){Xc&&(Xc.detachEvent("onpropertychange",iN),Qc=Xc=null)}function iN(o){if(o.propertyName==="value"&&Hf(Qc)){var c=[];J2(c,Qc,o,o0(o)),V2(pB,c)}}function gB(o,c,h){o==="focusin"?(rN(),Xc=c,Qc=h,Xc.attachEvent("onpropertychange",iN)):o==="focusout"&&rN()}function yB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hf(Qc)}function vB(o,c){if(o==="click")return Hf(c)}function xB(o,c){if(o==="input"||o==="change")return Hf(c)}function bB(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Sr=typeof Object.is=="function"?Object.is:bB;function Jc(o,c){if(Sr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!ye.call(c,x)||!Sr(o[x],c[x]))return!1}return!0}function aN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sN(o,c){var h=aN(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=aN(h)}}function oN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?oN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function lN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=If(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=If(o.document)}return c}function v0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var wB=Ji&&"documentMode"in document&&11>=document.documentMode,vl=null,x0=null,eu=null,b0=!1;function cN(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;b0||vl==null||vl!==If(g)||(g=vl,"selectionStart"in g&&v0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),eu&&Jc(eu,g)||(eu=g,g=Ch(x0,"onSelect"),0<g.length&&(c=new Uf("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=vl)))}function Ys(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var xl={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},w0={},uN={};Ji&&(uN=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Ks(o){if(w0[o])return w0[o];if(!xl[o])return o;var c=xl[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in uN)return w0[o]=c[h];return o}var dN=Ks("animationend"),fN=Ks("animationiteration"),hN=Ks("animationstart"),SB=Ks("transitionrun"),jB=Ks("transitionstart"),NB=Ks("transitioncancel"),mN=Ks("transitionend"),pN=new Map,S0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");S0.push("scrollEnd");function pi(o,c){pN.set(o,c),Ws(c,[o])}var gN=new WeakMap;function Wr(o,c){if(typeof o=="object"&&o!==null){var h=gN.get(o);return h!==void 0?h:(c={value:o,source:c,stack:O2(c)},gN.set(o,c),c)}return{value:o,source:c,stack:O2(c)}}var Gr=[],bl=0,j0=0;function qf(){for(var o=bl,c=j0=bl=0;c<o;){var h=Gr[c];Gr[c++]=null;var g=Gr[c];Gr[c++]=null;var x=Gr[c];Gr[c++]=null;var S=Gr[c];if(Gr[c++]=null,g!==null&&x!==null){var C=g.pending;C===null?x.next=x:(x.next=C.next,C.next=x),g.pending=x}S!==0&&yN(h,x,S)}}function Wf(o,c,h,g){Gr[bl++]=o,Gr[bl++]=c,Gr[bl++]=h,Gr[bl++]=g,j0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function N0(o,c,h,g){return Wf(o,c,h,g),Gf(o)}function wl(o,c){return Wf(o,null,null,c),Gf(o)}function yN(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var x=!1,S=o.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&c!==null&&(x=31-ct(h),o=S.hiddenUpdates,g=o[x],g===null?o[x]=[c]:g.push(c),c.lane=h|536870912),S):null}function Gf(o){if(50<_u)throw _u=0,Ey=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Sl={};function _B(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(o,c,h,g){return new _B(o,c,h,g)}function _0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ea(o,c){var h=o.alternate;return h===null?(h=jr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function vN(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Yf(o,c,h,g,x,S){var C=0;if(g=o,typeof o=="function")_0(o)&&(C=1);else if(typeof o=="string")C=MV(o,h,xe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case R:return o=jr(31,h,c,x),o.elementType=R,o.lanes=S,o;case b:return Zs(h.children,x,S,c);case w:C=8,x|=24;break;case j:return o=jr(12,h,c,x|2),o.elementType=j,o.lanes=S,o;case M:return o=jr(13,h,c,x),o.elementType=M,o.lanes=S,o;case O:return o=jr(19,h,c,x),o.elementType=O,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:case k:C=10;break e;case _:C=9;break e;case E:C=11;break e;case L:C=14;break e;case D:C=16,g=null;break e}C=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=jr(C,h,c,x),c.elementType=o,c.type=g,c.lanes=S,c}function Zs(o,c,h,g){return o=jr(7,o,g,c),o.lanes=h,o}function A0(o,c,h){return o=jr(6,o,null,c),o.lanes=h,o}function M0(o,c,h){return c=jr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var jl=[],Nl=0,Kf=null,Zf=0,Yr=[],Kr=0,Xs=null,ta=1,na="";function Qs(o,c){jl[Nl++]=Zf,jl[Nl++]=Kf,Kf=o,Zf=c}function xN(o,c,h){Yr[Kr++]=ta,Yr[Kr++]=na,Yr[Kr++]=Xs,Xs=o;var g=ta;o=na;var x=32-ct(g)-1;g&=~(1<<x),h+=1;var S=32-ct(c)+x;if(30<S){var C=x-x%5;S=(g&(1<<C)-1).toString(32),g>>=C,x-=C,ta=1<<32-ct(c)+x|h<<x|g,na=S+o}else ta=1<<S|h<<x|g,na=o}function k0(o){o.return!==null&&(Qs(o,1),xN(o,1,0))}function C0(o){for(;o===Kf;)Kf=jl[--Nl],jl[Nl]=null,Zf=jl[--Nl],jl[Nl]=null;for(;o===Xs;)Xs=Yr[--Kr],Yr[Kr]=null,na=Yr[--Kr],Yr[Kr]=null,ta=Yr[--Kr],Yr[Kr]=null}var rr=null,Ft=null,st=!1,Js=null,Mi=!1,E0=Error(r(519));function eo(o){var c=Error(r(418,""));throw ru(Wr(c,o)),E0}function bN(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Hn]=o,c[cr]=g,h){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(h=0;h<Mu.length;h++)Qe(Mu[h],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":Qe("invalid",c),R2(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Lf(c);break;case"select":Qe("invalid",c);break;case"textarea":Qe("invalid",c),I2(c,g.value,g.defaultValue,g.children),Lf(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||IA(c.textContent,h)?(g.popover!=null&&(Qe("beforetoggle",c),Qe("toggle",c)),g.onScroll!=null&&Qe("scroll",c),g.onScrollEnd!=null&&Qe("scrollend",c),g.onClick!=null&&(c.onclick=Eh),c=!0):c=!1,c||eo(o)}function wN(o){for(rr=o.return;rr;)switch(rr.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:rr=rr.return}}function tu(o){if(o!==rr)return!1;if(!st)return wN(o),st=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Wy(o.type,o.memoizedProps)),h=!h),h&&Ft&&eo(o),wN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){Ft=yi(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}Ft=null}}else c===27?(c=Ft,ds(o.type)?(o=Zy,Zy=null,Ft=o):Ft=c):Ft=rr?yi(o.stateNode.nextSibling):null;return!0}function nu(){Ft=rr=null,st=!1}function SN(){var o=Js;return o!==null&&(hr===null?hr=o:hr.push.apply(hr,o),Js=null),o}function ru(o){Js===null?Js=[o]:Js.push(o)}var T0=Q(null),to=null,ra=null;function Za(o,c,h){ue(T0,c._currentValue),c._currentValue=h}function ia(o){o._currentValue=T0.current,ne(T0)}function O0(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function P0(o,c,h,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var C=x.child;S=S.firstContext;e:for(;S!==null;){var P=S;S=x;for(var U=0;U<c.length;U++)if(P.context===c[U]){S.lanes|=h,P=S.alternate,P!==null&&(P.lanes|=h),O0(S.return,h,o),g||(C=null);break e}S=P.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(r(341));C.lanes|=h,S=C.alternate,S!==null&&(S.lanes|=h),O0(C,h,o),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===o){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function iu(o,c,h,g){o=null;for(var x=c,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var P=x.type;Sr(x.pendingProps.value,C.value)||(o!==null?o.push(P):o=[P])}}else if(x===_e.current){if(C=x.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Pu):o=[Pu])}x=x.return}o!==null&&P0(c,o,h,g),c.flags|=262144}function Xf(o){for(o=o.firstContext;o!==null;){if(!Sr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function no(o){to=o,ra=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qn(o){return jN(to,o)}function Qf(o,c){return to===null&&no(o),jN(o,c)}function jN(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ra===null){if(o===null)throw Error(r(308));ra=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ra=ra.next=c;return h}var AB=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},MB=e.unstable_scheduleCallback,kB=e.unstable_NormalPriority,gn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D0(){return{controller:new AB,data:new Map,refCount:0}}function au(o){o.refCount--,o.refCount===0&&MB(kB,function(){o.controller.abort()})}var su=null,R0=0,_l=0,Al=null;function CB(o,c){if(su===null){var h=su=[];R0=0,_l=Iy(),Al={status:"pending",value:void 0,then:function(g){h.push(g)}}}return R0++,c.then(NN,NN),c}function NN(){if(--R0===0&&su!==null){Al!==null&&(Al.status="fulfilled");var o=su;su=null,_l=0,Al=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function EB(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var x=0;x<h.length;x++)(0,h[x])(c)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var _N=H.S;H.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&CB(o,c),_N!==null&&_N(o,c)};var ro=Q(null);function L0(){var o=ro.current;return o!==null?o:Nt.pooledCache}function Jf(o,c){c===null?ue(ro,ro.current):ue(ro,c.pool)}function AN(){var o=L0();return o===null?null:{parent:gn._currentValue,pool:o}}var ou=Error(r(460)),MN=Error(r(474)),eh=Error(r(542)),I0={then:function(){}};function kN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function th(){}function CN(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(th,th),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TN(o),o;default:if(typeof c.status=="string")c.then(th,th);else{if(o=Nt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=g}},function(g){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TN(o),o}throw lu=c,ou}}var lu=null;function EN(){if(lu===null)throw Error(r(459));var o=lu;return lu=null,o}function TN(o){if(o===ou||o===eh)throw Error(r(483))}var Xa=!1;function $0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function z0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ja(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,c=Gf(o),yN(o,null,h),c}return Wf(o,g,c,h),Gf(o)}function cu(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,N2(o,h)}}function B0(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var C={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?x=S=C:S=S.next=C,h=h.next}while(h!==null);S===null?x=S=c:S=S.next=c}else x=S=c;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var V0=!1;function uu(){if(V0){var o=Al;if(o!==null)throw o}}function du(o,c,h,g){V0=!1;var x=o.updateQueue;Xa=!1;var S=x.firstBaseUpdate,C=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var U=P,X=U.next;U.next=null,C===null?S=X:C.next=X,C=U;var de=o.alternate;de!==null&&(de=de.updateQueue,P=de.lastBaseUpdate,P!==C&&(P===null?de.firstBaseUpdate=X:P.next=X,de.lastBaseUpdate=U))}if(S!==null){var ge=x.baseState;C=0,de=X=U=null,P=S;do{var te=P.lane&-536870913,ae=te!==P.lane;if(ae?(nt&te)===te:(g&te)===te){te!==0&&te===_l&&(V0=!0),de!==null&&(de=de.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Be=o,Ie=P;te=c;var xt=h;switch(Ie.tag){case 1:if(Be=Ie.payload,typeof Be=="function"){ge=Be.call(xt,ge,te);break e}ge=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ie.payload,te=typeof Be=="function"?Be.call(xt,ge,te):Be,te==null)break e;ge=m({},ge,te);break e;case 2:Xa=!0}}te=P.callback,te!==null&&(o.flags|=64,ae&&(o.flags|=8192),ae=x.callbacks,ae===null?x.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},de===null?(X=de=ae,U=ge):de=de.next=ae,C|=te;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);de===null&&(U=ge),x.baseState=U,x.firstBaseUpdate=X,x.lastBaseUpdate=de,S===null&&(x.shared.lanes=0),os|=C,o.lanes=C,o.memoizedState=ge}}function ON(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function PN(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ON(h[o],c)}var Ml=Q(null),nh=Q(0);function DN(o,c){o=da,ue(nh,o),ue(Ml,c),da=o|c.baseLanes}function U0(){ue(nh,da),ue(Ml,Ml.current)}function F0(){da=nh.current,ne(Ml),ne(nh)}var es=0,Ge=null,yt=null,an=null,rh=!1,kl=!1,io=!1,ih=0,fu=0,Cl=null,TB=0;function Yt(){throw Error(r(321))}function H0(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Sr(o[h],c[h]))return!1;return!0}function q0(o,c,h,g,x,S){return es=S,Ge=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=o===null||o.memoizedState===null?y_:v_,io=!1,S=h(g,x),io=!1,kl&&(S=LN(c,h,g,x)),RN(o),S}function RN(o){H.H=uh;var c=yt!==null&&yt.next!==null;if(es=0,an=yt=Ge=null,rh=!1,fu=0,Cl=null,c)throw Error(r(300));o===null||jn||(o=o.dependencies,o!==null&&Xf(o)&&(jn=!0))}function LN(o,c,h,g){Ge=o;var x=0;do{if(kl&&(Cl=null),fu=0,kl=!1,25<=x)throw Error(r(301));if(x+=1,an=yt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=$B,S=c(h,g)}while(kl);return S}function OB(){var o=H.H,c=o.useState()[0];return c=typeof c.then=="function"?hu(c):c,o=o.useState()[0],(yt!==null?yt.memoizedState:null)!==o&&(Ge.flags|=1024),c}function W0(){var o=ih!==0;return ih=0,o}function G0(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Y0(o){if(rh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}rh=!1}es=0,an=yt=Ge=null,kl=!1,fu=ih=0,Cl=null}function dr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ge.memoizedState=an=o:an=an.next=o,an}function sn(){if(yt===null){var o=Ge.alternate;o=o!==null?o.memoizedState:null}else o=yt.next;var c=an===null?Ge.memoizedState:an.next;if(c!==null)an=c,yt=o;else{if(o===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));yt=o,o={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},an===null?Ge.memoizedState=an=o:an=an.next=o}return an}function K0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(o){var c=fu;return fu+=1,Cl===null&&(Cl=[]),o=CN(Cl,o,c),c=Ge,(an===null?c.memoizedState:an.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?y_:v_),o}function ah(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hu(o);if(o.$$typeof===k)return qn(o)}throw Error(r(438,String(o)))}function Z0(o){var c=null,h=Ge.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Ge.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=K0(),Ge.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=F;return c.index++,h}function aa(o,c){return typeof c=="function"?c(o):c}function sh(o){var c=sn();return X0(c,yt,o)}function X0(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=o.baseQueue,S=g.pending;if(S!==null){if(x!==null){var C=x.next;x.next=S.next,S.next=C}c.baseQueue=x=S,g.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{c=x.next;var P=C=null,U=null,X=c,de=!1;do{var ge=X.lane&-536870913;if(ge!==X.lane?(nt&ge)===ge:(es&ge)===ge){var te=X.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ge===_l&&(de=!0);else if((es&te)===te){X=X.next,te===_l&&(de=!0);continue}else ge={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(P=U=ge,C=S):U=U.next=ge,Ge.lanes|=te,os|=te;ge=X.action,io&&h(S,ge),S=X.hasEagerState?X.eagerState:h(S,ge)}else te={lane:ge,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(P=U=te,C=S):U=U.next=te,Ge.lanes|=ge,os|=ge;X=X.next}while(X!==null&&X!==c);if(U===null?C=S:U.next=P,!Sr(S,o.memoizedState)&&(jn=!0,de&&(h=Al,h!==null)))throw h;o.memoizedState=S,o.baseState=C,o.baseQueue=U,g.lastRenderedState=S}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Q0(o){var c=sn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,S=c.memoizedState;if(x!==null){h.pending=null;var C=x=x.next;do S=o(S,C.action),C=C.next;while(C!==x);Sr(S,c.memoizedState)||(jn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,g]}function IN(o,c,h){var g=Ge,x=sn(),S=st;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=c();var C=!Sr((yt||x).memoizedState,h);C&&(x.memoizedState=h,jn=!0),x=x.queue;var P=BN.bind(null,g,x,o);if(mu(2048,8,P,[o]),x.getSnapshot!==c||C||an!==null&&an.memoizedState.tag&1){if(g.flags|=2048,El(9,oh(),zN.bind(null,g,x,h,c),null),Nt===null)throw Error(r(349));S||(es&124)!==0||$N(g,c,h)}return h}function $N(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Ge.updateQueue,c===null?(c=K0(),Ge.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function zN(o,c,h,g){c.value=h,c.getSnapshot=g,VN(c)&&UN(o)}function BN(o,c,h){return h(function(){VN(c)&&UN(o)})}function VN(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Sr(o,h)}catch{return!0}}function UN(o){var c=wl(o,2);c!==null&&kr(c,o,2)}function J0(o){var c=dr();if(typeof o=="function"){var h=o;if(o=h(),io){Ke(!0);try{h()}finally{Ke(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:o},c}function FN(o,c,h,g){return o.baseState=h,X0(o,yt,typeof g=="function"?g:aa)}function PB(o,c,h,g,x){if(ch(o))throw Error(r(485));if(o=c.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){S.listeners.push(C)}};H.T!==null?h(!0):S.isTransition=!1,g(S),h=c.pending,h===null?(S.next=c.pending=S,HN(c,S)):(S.next=h.next,c.pending=h.next=S)}}function HN(o,c){var h=c.action,g=c.payload,x=o.state;if(c.isTransition){var S=H.T,C={};H.T=C;try{var P=h(x,g),U=H.S;U!==null&&U(C,P),qN(o,c,P)}catch(X){ey(o,c,X)}finally{H.T=S}}else try{S=h(x,g),qN(o,c,S)}catch(X){ey(o,c,X)}}function qN(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){WN(o,c,g)},function(g){return ey(o,c,g)}):WN(o,c,h)}function WN(o,c,h){c.status="fulfilled",c.value=h,GN(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,HN(o,h)))}function ey(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,GN(c),c=c.next;while(c!==g)}o.action=null}function GN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function YN(o,c){return c}function KN(o,c){if(st){var h=Nt.formState;if(h!==null){e:{var g=Ge;if(st){if(Ft){t:{for(var x=Ft,S=Mi;x.nodeType!==8;){if(!S){x=null;break t}if(x=yi(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Ft=yi(x.nextSibling),g=x.data==="F!";break e}}eo(g)}g=!1}g&&(c=h[0])}}return h=dr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YN,lastRenderedState:c},h.queue=g,h=m_.bind(null,Ge,g),g.dispatch=h,g=J0(!1),S=ay.bind(null,Ge,!1,g.queue),g=dr(),x={state:c,dispatch:null,action:o,pending:null},g.queue=x,h=PB.bind(null,Ge,x,S,h),x.dispatch=h,g.memoizedState=o,[c,h,!1]}function ZN(o){var c=sn();return XN(c,yt,o)}function XN(o,c,h){if(c=X0(o,c,YN)[0],o=sh(aa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=hu(c)}catch(C){throw C===ou?eh:C}else g=c;c=sn();var x=c.queue,S=x.dispatch;return h!==c.memoizedState&&(Ge.flags|=2048,El(9,oh(),DB.bind(null,x,h),null)),[g,S,o]}function DB(o,c){o.action=c}function QN(o){var c=sn(),h=yt;if(h!==null)return XN(c,h,o);sn(),c=c.memoizedState,h=sn();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function El(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Ge.updateQueue,c===null&&(c=K0(),Ge.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function oh(){return{destroy:void 0,resource:void 0}}function JN(){return sn().memoizedState}function lh(o,c,h,g){var x=dr();g=g===void 0?null:g,Ge.flags|=o,x.memoizedState=El(1|c,oh(),h,g)}function mu(o,c,h,g){var x=sn();g=g===void 0?null:g;var S=x.memoizedState.inst;yt!==null&&g!==null&&H0(g,yt.memoizedState.deps)?x.memoizedState=El(c,S,h,g):(Ge.flags|=o,x.memoizedState=El(1|c,S,h,g))}function e_(o,c){lh(8390656,8,o,c)}function t_(o,c){mu(2048,8,o,c)}function n_(o,c){return mu(4,2,o,c)}function r_(o,c){return mu(4,4,o,c)}function i_(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function a_(o,c,h){h=h!=null?h.concat([o]):null,mu(4,4,i_.bind(null,c,o),h)}function ty(){}function s_(o,c){var h=sn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&H0(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function o_(o,c){var h=sn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&H0(c,g[1]))return g[0];if(g=o(),io){Ke(!0);try{o()}finally{Ke(!1)}}return h.memoizedState=[g,c],g}function ny(o,c,h){return h===void 0||(es&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=uA(),Ge.lanes|=o,os|=o,h)}function l_(o,c,h,g){return Sr(h,c)?h:Ml.current!==null?(o=ny(o,h,g),Sr(o,c)||(jn=!0),o):(es&42)===0?(jn=!0,o.memoizedState=h):(o=uA(),Ge.lanes|=o,os|=o,c)}function c_(o,c,h,g,x){var S=z.p;z.p=S!==0&&8>S?S:8;var C=H.T,P={};H.T=P,ay(o,!1,c,h);try{var U=x(),X=H.S;if(X!==null&&X(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var de=EB(U,g);pu(o,c,de,Mr(o))}else pu(o,c,g,Mr(o))}catch(ge){pu(o,c,{then:function(){},status:"rejected",reason:ge},Mr())}finally{z.p=S,H.T=C}}function RB(){}function ry(o,c,h,g){if(o.tag!==5)throw Error(r(476));var x=u_(o).queue;c_(o,x,c,G,h===null?RB:function(){return d_(o),h(g)})}function u_(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:G},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function d_(o){var c=u_(o).next.queue;pu(o,c,{},Mr())}function iy(){return qn(Pu)}function f_(){return sn().memoizedState}function h_(){return sn().memoizedState}function LB(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Mr();o=Qa(h);var g=Ja(c,o,h);g!==null&&(kr(g,c,h),cu(g,c,h)),c={cache:D0()},o.payload=c;return}c=c.return}}function IB(o,c,h){var g=Mr();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ch(o)?p_(c,h):(h=N0(o,c,h,g),h!==null&&(kr(h,o,g),g_(h,c,g)))}function m_(o,c,h){var g=Mr();pu(o,c,h,g)}function pu(o,c,h,g){var x={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ch(o))p_(c,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var C=c.lastRenderedState,P=S(C,h);if(x.hasEagerState=!0,x.eagerState=P,Sr(P,C))return Wf(o,c,x,0),Nt===null&&qf(),!1}catch{}finally{}if(h=N0(o,c,x,g),h!==null)return kr(h,o,g),g_(h,c,g),!0}return!1}function ay(o,c,h,g){if(g={lane:2,revertLane:Iy(),action:g,hasEagerState:!1,eagerState:null,next:null},ch(o)){if(c)throw Error(r(479))}else c=N0(o,h,g,2),c!==null&&kr(c,o,2)}function ch(o){var c=o.alternate;return o===Ge||c!==null&&c===Ge}function p_(o,c){kl=rh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function g_(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,N2(o,h)}}var uh={readContext:qn,use:ah,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},y_={readContext:qn,use:ah,useCallback:function(o,c){return dr().memoizedState=[o,c===void 0?null:c],o},useContext:qn,useEffect:e_,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,lh(4194308,4,i_.bind(null,c,o),h)},useLayoutEffect:function(o,c){return lh(4194308,4,o,c)},useInsertionEffect:function(o,c){lh(4,2,o,c)},useMemo:function(o,c){var h=dr();c=c===void 0?null:c;var g=o();if(io){Ke(!0);try{o()}finally{Ke(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=dr();if(h!==void 0){var x=h(c);if(io){Ke(!0);try{h(c)}finally{Ke(!1)}}}else x=c;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=IB.bind(null,Ge,o),[g.memoizedState,o]},useRef:function(o){var c=dr();return o={current:o},c.memoizedState=o},useState:function(o){o=J0(o);var c=o.queue,h=m_.bind(null,Ge,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:ty,useDeferredValue:function(o,c){var h=dr();return ny(h,o,c)},useTransition:function(){var o=J0(!1);return o=c_.bind(null,Ge,o.queue,!0,!1),dr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Ge,x=dr();if(st){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Nt===null)throw Error(r(349));(nt&124)!==0||$N(g,c,h)}x.memoizedState=h;var S={value:h,getSnapshot:c};return x.queue=S,e_(BN.bind(null,g,S,o),[o]),g.flags|=2048,El(9,oh(),zN.bind(null,g,S,h,c),null),h},useId:function(){var o=dr(),c=Nt.identifierPrefix;if(st){var h=na,g=ta;h=(g&~(1<<32-ct(g)-1)).toString(32)+h,c="«"+c+"R"+h,h=ih++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=TB++,c="«"+c+"r"+h.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:iy,useFormState:KN,useActionState:KN,useOptimistic:function(o){var c=dr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ay.bind(null,Ge,!0,h),h.dispatch=c,[o,c]},useMemoCache:Z0,useCacheRefresh:function(){return dr().memoizedState=LB.bind(null,Ge)}},v_={readContext:qn,use:ah,useCallback:s_,useContext:qn,useEffect:t_,useImperativeHandle:a_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:sh,useRef:JN,useState:function(){return sh(aa)},useDebugValue:ty,useDeferredValue:function(o,c){var h=sn();return l_(h,yt.memoizedState,o,c)},useTransition:function(){var o=sh(aa)[0],c=sn().memoizedState;return[typeof o=="boolean"?o:hu(o),c]},useSyncExternalStore:IN,useId:f_,useHostTransitionStatus:iy,useFormState:ZN,useActionState:ZN,useOptimistic:function(o,c){var h=sn();return FN(h,yt,o,c)},useMemoCache:Z0,useCacheRefresh:h_},$B={readContext:qn,use:ah,useCallback:s_,useContext:qn,useEffect:t_,useImperativeHandle:a_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:Q0,useRef:JN,useState:function(){return Q0(aa)},useDebugValue:ty,useDeferredValue:function(o,c){var h=sn();return yt===null?ny(h,o,c):l_(h,yt.memoizedState,o,c)},useTransition:function(){var o=Q0(aa)[0],c=sn().memoizedState;return[typeof o=="boolean"?o:hu(o),c]},useSyncExternalStore:IN,useId:f_,useHostTransitionStatus:iy,useFormState:QN,useActionState:QN,useOptimistic:function(o,c){var h=sn();return yt!==null?FN(h,yt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Z0,useCacheRefresh:h_},Tl=null,gu=0;function dh(o){var c=gu;return gu+=1,Tl===null&&(Tl=[]),CN(Tl,o,c)}function yu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function fh(o,c){throw c.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function x_(o){var c=o._init;return c(o._payload)}function b_(o){function c(K,W){if(o){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function h(K,W){if(!o)return null;for(;W!==null;)c(K,W),W=W.sibling;return null}function g(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function x(K,W){return K=ea(K,W),K.index=0,K.sibling=null,K}function S(K,W,Z){return K.index=Z,o?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function C(K){return o&&K.alternate===null&&(K.flags|=67108866),K}function P(K,W,Z,me){return W===null||W.tag!==6?(W=A0(Z,K.mode,me),W.return=K,W):(W=x(W,Z),W.return=K,W)}function U(K,W,Z,me){var Ae=Z.type;return Ae===b?de(K,W,Z.props.children,me,Z.key):W!==null&&(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&x_(Ae)===W.type)?(W=x(W,Z.props),yu(W,Z),W.return=K,W):(W=Yf(Z.type,Z.key,Z.props,null,K.mode,me),yu(W,Z),W.return=K,W)}function X(K,W,Z,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=M0(Z,K.mode,me),W.return=K,W):(W=x(W,Z.children||[]),W.return=K,W)}function de(K,W,Z,me,Ae){return W===null||W.tag!==7?(W=Zs(Z,K.mode,me,Ae),W.return=K,W):(W=x(W,Z),W.return=K,W)}function ge(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=A0(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return Z=Yf(W.type,W.key,W.props,null,K.mode,Z),yu(Z,W),Z.return=K,Z;case v:return W=M0(W,K.mode,Z),W.return=K,W;case D:var me=W._init;return W=me(W._payload),ge(K,W,Z)}if(se(W)||V(W))return W=Zs(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return ge(K,dh(W),Z);if(W.$$typeof===k)return ge(K,Qf(K,W),Z);fh(K,W)}return null}function te(K,W,Z,me){var Ae=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ae!==null?null:P(K,W,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ae?U(K,W,Z,me):null;case v:return Z.key===Ae?X(K,W,Z,me):null;case D:return Ae=Z._init,Z=Ae(Z._payload),te(K,W,Z,me)}if(se(Z)||V(Z))return Ae!==null?null:de(K,W,Z,me,null);if(typeof Z.then=="function")return te(K,W,dh(Z),me);if(Z.$$typeof===k)return te(K,W,Qf(K,Z),me);fh(K,Z)}return null}function ae(K,W,Z,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return K=K.get(Z)||null,P(W,K,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return K=K.get(me.key===null?Z:me.key)||null,U(W,K,me,Ae);case v:return K=K.get(me.key===null?Z:me.key)||null,X(W,K,me,Ae);case D:var Ze=me._init;return me=Ze(me._payload),ae(K,W,Z,me,Ae)}if(se(me)||V(me))return K=K.get(Z)||null,de(W,K,me,Ae,null);if(typeof me.then=="function")return ae(K,W,Z,dh(me),Ae);if(me.$$typeof===k)return ae(K,W,Z,Qf(W,me),Ae);fh(W,me)}return null}function Be(K,W,Z,me){for(var Ae=null,Ze=null,Ee=W,$e=W=0,_n=null;Ee!==null&&$e<Z.length;$e++){Ee.index>$e?(_n=Ee,Ee=null):_n=Ee.sibling;var rt=te(K,Ee,Z[$e],me);if(rt===null){Ee===null&&(Ee=_n);break}o&&Ee&&rt.alternate===null&&c(K,Ee),W=S(rt,W,$e),Ze===null?Ae=rt:Ze.sibling=rt,Ze=rt,Ee=_n}if($e===Z.length)return h(K,Ee),st&&Qs(K,$e),Ae;if(Ee===null){for(;$e<Z.length;$e++)Ee=ge(K,Z[$e],me),Ee!==null&&(W=S(Ee,W,$e),Ze===null?Ae=Ee:Ze.sibling=Ee,Ze=Ee);return st&&Qs(K,$e),Ae}for(Ee=g(Ee);$e<Z.length;$e++)_n=ae(Ee,K,$e,Z[$e],me),_n!==null&&(o&&_n.alternate!==null&&Ee.delete(_n.key===null?$e:_n.key),W=S(_n,W,$e),Ze===null?Ae=_n:Ze.sibling=_n,Ze=_n);return o&&Ee.forEach(function(gs){return c(K,gs)}),st&&Qs(K,$e),Ae}function Ie(K,W,Z,me){if(Z==null)throw Error(r(151));for(var Ae=null,Ze=null,Ee=W,$e=W=0,_n=null,rt=Z.next();Ee!==null&&!rt.done;$e++,rt=Z.next()){Ee.index>$e?(_n=Ee,Ee=null):_n=Ee.sibling;var gs=te(K,Ee,rt.value,me);if(gs===null){Ee===null&&(Ee=_n);break}o&&Ee&&gs.alternate===null&&c(K,Ee),W=S(gs,W,$e),Ze===null?Ae=gs:Ze.sibling=gs,Ze=gs,Ee=_n}if(rt.done)return h(K,Ee),st&&Qs(K,$e),Ae;if(Ee===null){for(;!rt.done;$e++,rt=Z.next())rt=ge(K,rt.value,me),rt!==null&&(W=S(rt,W,$e),Ze===null?Ae=rt:Ze.sibling=rt,Ze=rt);return st&&Qs(K,$e),Ae}for(Ee=g(Ee);!rt.done;$e++,rt=Z.next())rt=ae(Ee,K,$e,rt.value,me),rt!==null&&(o&&rt.alternate!==null&&Ee.delete(rt.key===null?$e:rt.key),W=S(rt,W,$e),Ze===null?Ae=rt:Ze.sibling=rt,Ze=rt);return o&&Ee.forEach(function(zV){return c(K,zV)}),st&&Qs(K,$e),Ae}function xt(K,W,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Ae=Z.key;W!==null;){if(W.key===Ae){if(Ae=Z.type,Ae===b){if(W.tag===7){h(K,W.sibling),me=x(W,Z.props.children),me.return=K,K=me;break e}}else if(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&x_(Ae)===W.type){h(K,W.sibling),me=x(W,Z.props),yu(me,Z),me.return=K,K=me;break e}h(K,W);break}else c(K,W);W=W.sibling}Z.type===b?(me=Zs(Z.props.children,K.mode,me,Z.key),me.return=K,K=me):(me=Yf(Z.type,Z.key,Z.props,null,K.mode,me),yu(me,Z),me.return=K,K=me)}return C(K);case v:e:{for(Ae=Z.key;W!==null;){if(W.key===Ae)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){h(K,W.sibling),me=x(W,Z.children||[]),me.return=K,K=me;break e}else{h(K,W);break}else c(K,W);W=W.sibling}me=M0(Z,K.mode,me),me.return=K,K=me}return C(K);case D:return Ae=Z._init,Z=Ae(Z._payload),xt(K,W,Z,me)}if(se(Z))return Be(K,W,Z,me);if(V(Z)){if(Ae=V(Z),typeof Ae!="function")throw Error(r(150));return Z=Ae.call(Z),Ie(K,W,Z,me)}if(typeof Z.then=="function")return xt(K,W,dh(Z),me);if(Z.$$typeof===k)return xt(K,W,Qf(K,Z),me);fh(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(h(K,W.sibling),me=x(W,Z),me.return=K,K=me):(h(K,W),me=A0(Z,K.mode,me),me.return=K,K=me),C(K)):h(K,W)}return function(K,W,Z,me){try{gu=0;var Ae=xt(K,W,Z,me);return Tl=null,Ae}catch(Ee){if(Ee===ou||Ee===eh)throw Ee;var Ze=jr(29,Ee,null,K.mode);return Ze.lanes=me,Ze.return=K,Ze}finally{}}}var Ol=b_(!0),w_=b_(!1),Zr=Q(null),ki=null;function ts(o){var c=o.alternate;ue(yn,yn.current&1),ue(Zr,o),ki===null&&(c===null||Ml.current!==null||c.memoizedState!==null)&&(ki=o)}function S_(o){if(o.tag===22){if(ue(yn,yn.current),ue(Zr,o),ki===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ki=o)}}else ns()}function ns(){ue(yn,yn.current),ue(Zr,Zr.current)}function sa(o){ne(Zr),ki===o&&(ki=null),ne(yn)}var yn=Q(0);function hh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ky(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function sy(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:m({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var oy={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Mr(),x=Qa(g);x.payload=c,h!=null&&(x.callback=h),c=Ja(o,x,g),c!==null&&(kr(c,o,g),cu(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Mr(),x=Qa(g);x.tag=1,x.payload=c,h!=null&&(x.callback=h),c=Ja(o,x,g),c!==null&&(kr(c,o,g),cu(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Mr(),g=Qa(h);g.tag=2,c!=null&&(g.callback=c),c=Ja(o,g,h),c!==null&&(kr(c,o,h),cu(c,o,h))}};function j_(o,c,h,g,x,S,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,S,C):c.prototype&&c.prototype.isPureReactComponent?!Jc(h,g)||!Jc(x,S):!0}function N_(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&oy.enqueueReplaceState(c,c.state,null)}function ao(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=m({},h));for(var x in o)h[x]===void 0&&(h[x]=o[x])}return h}var mh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function __(o){mh(o)}function A_(o){console.error(o)}function M_(o){mh(o)}function ph(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function k_(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ly(o,c,h){return h=Qa(h),h.tag=3,h.payload={element:null},h.callback=function(){ph(o,c)},h}function C_(o){return o=Qa(o),o.tag=3,o}function E_(o,c,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;o.payload=function(){return x(S)},o.callback=function(){k_(c,h,g)}}var C=h.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){k_(c,h,g),typeof x!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function zB(o,c,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&iu(c,h,x,!0),h=Zr.current,h!==null){switch(h.tag){case 13:return ki===null?Oy():h.alternate===null&&Ht===0&&(Ht=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===I0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Dy(o,g,x)),!1;case 22:return h.flags|=65536,g===I0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Dy(o,g,x)),!1}throw Error(r(435,h.tag))}return Dy(o,g,x),Oy(),!1}if(st)return c=Zr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,g!==E0&&(o=Error(r(422),{cause:g}),ru(Wr(o,h)))):(g!==E0&&(c=Error(r(423),{cause:g}),ru(Wr(c,h))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=Wr(g,h),x=ly(o.stateNode,g,x),B0(o,x),Ht!==4&&(Ht=2)),!1;var S=Error(r(520),{cause:g});if(S=Wr(S,h),Nu===null?Nu=[S]:Nu.push(S),Ht!==4&&(Ht=2),c===null)return!0;g=Wr(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=x&-x,h.lanes|=o,o=ly(h.stateNode,g,o),B0(h,o),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ls===null||!ls.has(S))))return h.flags|=65536,x&=-x,h.lanes|=x,x=C_(x),E_(x,o,h,g),B0(h,x),!1}h=h.return}while(h!==null);return!1}var T_=Error(r(461)),jn=!1;function On(o,c,h,g){c.child=o===null?w_(c,null,h,g):Ol(c,o.child,h,g)}function O_(o,c,h,g,x){h=h.render;var S=c.ref;if("ref"in g){var C={};for(var P in g)P!=="ref"&&(C[P]=g[P])}else C=g;return no(c),g=q0(o,c,h,C,S,x),P=W0(),o!==null&&!jn?(G0(o,c,x),oa(o,c,x)):(st&&P&&k0(c),c.flags|=1,On(o,c,g,x),c.child)}function P_(o,c,h,g,x){if(o===null){var S=h.type;return typeof S=="function"&&!_0(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,D_(o,c,S,g,x)):(o=Yf(h.type,null,g,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!gy(o,x)){var C=S.memoizedProps;if(h=h.compare,h=h!==null?h:Jc,h(C,g)&&o.ref===c.ref)return oa(o,c,x)}return c.flags|=1,o=ea(S,g),o.ref=c.ref,o.return=c,c.child=o}function D_(o,c,h,g,x){if(o!==null){var S=o.memoizedProps;if(Jc(S,g)&&o.ref===c.ref)if(jn=!1,c.pendingProps=g=S,gy(o,x))(o.flags&131072)!==0&&(jn=!0);else return c.lanes=o.lanes,oa(o,c,x)}return cy(o,c,h,g,x)}function R_(o,c,h){var g=c.pendingProps,x=g.children,S=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=S!==null?S.baseLanes|h:h,o!==null){for(x=c.child=o.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;c.childLanes=S&~g}else c.childLanes=0,c.child=null;return L_(o,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Jf(c,S!==null?S.cachePool:null),S!==null?DN(c,S):U0(),S_(c);else return c.lanes=c.childLanes=536870912,L_(o,c,S!==null?S.baseLanes|h:h,h)}else S!==null?(Jf(c,S.cachePool),DN(c,S),ns(),c.memoizedState=null):(o!==null&&Jf(c,null),U0(),ns());return On(o,c,x,h),c.child}function L_(o,c,h,g){var x=L0();return x=x===null?null:{parent:gn._currentValue,pool:x},c.memoizedState={baseLanes:h,cachePool:x},o!==null&&Jf(c,null),U0(),S_(c),o!==null&&iu(o,c,g,!0),null}function gh(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function cy(o,c,h,g,x){return no(c),h=q0(o,c,h,g,void 0,x),g=W0(),o!==null&&!jn?(G0(o,c,x),oa(o,c,x)):(st&&g&&k0(c),c.flags|=1,On(o,c,h,x),c.child)}function I_(o,c,h,g,x,S){return no(c),c.updateQueue=null,h=LN(c,g,h,x),RN(o),g=W0(),o!==null&&!jn?(G0(o,c,S),oa(o,c,S)):(st&&g&&k0(c),c.flags|=1,On(o,c,h,S),c.child)}function $_(o,c,h,g,x){if(no(c),c.stateNode===null){var S=Sl,C=h.contextType;typeof C=="object"&&C!==null&&(S=qn(C)),S=new h(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=oy,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},$0(c),C=h.contextType,S.context=typeof C=="object"&&C!==null?qn(C):Sl,S.state=c.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(sy(c,h,C,g),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(C=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),C!==S.state&&oy.enqueueReplaceState(S,S.state,null),du(c,g,S,x),uu(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){S=c.stateNode;var P=c.memoizedProps,U=ao(h,P);S.props=U;var X=S.context,de=h.contextType;C=Sl,typeof de=="object"&&de!==null&&(C=qn(de));var ge=h.getDerivedStateFromProps;de=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||X!==C)&&N_(c,S,g,C),Xa=!1;var te=c.memoizedState;S.state=te,du(c,g,S,x),uu(),X=c.memoizedState,P||te!==X||Xa?(typeof ge=="function"&&(sy(c,h,ge,g),X=c.memoizedState),(U=Xa||j_(c,h,U,g,te,X,C))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),S.props=g,S.state=X,S.context=C,g=U):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,z0(o,c),C=c.memoizedProps,de=ao(h,C),S.props=de,ge=c.pendingProps,te=S.context,X=h.contextType,U=Sl,typeof X=="object"&&X!==null&&(U=qn(X)),P=h.getDerivedStateFromProps,(X=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(C!==ge||te!==U)&&N_(c,S,g,U),Xa=!1,te=c.memoizedState,S.state=te,du(c,g,S,x),uu();var ae=c.memoizedState;C!==ge||te!==ae||Xa||o!==null&&o.dependencies!==null&&Xf(o.dependencies)?(typeof P=="function"&&(sy(c,h,P,g),ae=c.memoizedState),(de=Xa||j_(c,h,de,g,te,ae,U)||o!==null&&o.dependencies!==null&&Xf(o.dependencies))?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ae,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ae,U)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ae),S.props=g,S.state=ae,S.context=U,g=de):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(c.flags|=1024),g=!1)}return S=g,gh(o,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&g?(c.child=Ol(c,o.child,null,x),c.child=Ol(c,null,h,x)):On(o,c,h,x),c.memoizedState=S.state,o=c.child):o=oa(o,c,x),o}function z_(o,c,h,g){return nu(),c.flags|=256,On(o,c,h,g),c.child}var uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(o){return{baseLanes:o,cachePool:AN()}}function fy(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Xr),o}function B_(o,c,h){var g=c.pendingProps,x=!1,S=(c.flags&128)!==0,C;if((C=S)||(C=o!==null&&o.memoizedState===null?!1:(yn.current&2)!==0),C&&(x=!0,c.flags&=-129),C=(c.flags&32)!==0,c.flags&=-33,o===null){if(st){if(x?ts(c):ns(),st){var P=Ft,U;if(U=P){e:{for(U=P,P=Mi;U.nodeType!==8;){if(!P){P=null;break e}if(U=yi(U.nextSibling),U===null){P=null;break e}}P=U}P!==null?(c.memoizedState={dehydrated:P,treeContext:Xs!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},U=jr(18,null,null,0),U.stateNode=P,U.return=c,c.child=U,rr=c,Ft=null,U=!0):U=!1}U||eo(c)}if(P=c.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ky(P)?c.lanes=32:c.lanes=536870912,null;sa(c)}return P=g.children,g=g.fallback,x?(ns(),x=c.mode,P=yh({mode:"hidden",children:P},x),g=Zs(g,x,h,null),P.return=c,g.return=c,P.sibling=g,c.child=P,x=c.child,x.memoizedState=dy(h),x.childLanes=fy(o,C,h),c.memoizedState=uy,g):(ts(c),hy(c,P))}if(U=o.memoizedState,U!==null&&(P=U.dehydrated,P!==null)){if(S)c.flags&256?(ts(c),c.flags&=-257,c=my(o,c,h)):c.memoizedState!==null?(ns(),c.child=o.child,c.flags|=128,c=null):(ns(),x=g.fallback,P=c.mode,g=yh({mode:"visible",children:g.children},P),x=Zs(x,P,h,null),x.flags|=2,g.return=c,x.return=c,g.sibling=x,c.child=g,Ol(c,o.child,null,h),g=c.child,g.memoizedState=dy(h),g.childLanes=fy(o,C,h),c.memoizedState=uy,c=x);else if(ts(c),Ky(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var X=C.dgst;C=X,g=Error(r(419)),g.stack="",g.digest=C,ru({value:g,source:null,stack:null}),c=my(o,c,h)}else if(jn||iu(o,c,h,!1),C=(h&o.childLanes)!==0,jn||C){if(C=Nt,C!==null&&(g=h&-h,g=(g&42)!==0?1:Zg(g),g=(g&(C.suspendedLanes|h))!==0?0:g,g!==0&&g!==U.retryLane))throw U.retryLane=g,wl(o,g),kr(C,o,g),T_;P.data==="$?"||Oy(),c=my(o,c,h)}else P.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=U.treeContext,Ft=yi(P.nextSibling),rr=c,st=!0,Js=null,Mi=!1,o!==null&&(Yr[Kr++]=ta,Yr[Kr++]=na,Yr[Kr++]=Xs,ta=o.id,na=o.overflow,Xs=c),c=hy(c,g.children),c.flags|=4096);return c}return x?(ns(),x=g.fallback,P=c.mode,U=o.child,X=U.sibling,g=ea(U,{mode:"hidden",children:g.children}),g.subtreeFlags=U.subtreeFlags&65011712,X!==null?x=ea(X,x):(x=Zs(x,P,h,null),x.flags|=2),x.return=c,g.return=c,g.sibling=x,c.child=g,g=x,x=c.child,P=o.child.memoizedState,P===null?P=dy(h):(U=P.cachePool,U!==null?(X=gn._currentValue,U=U.parent!==X?{parent:X,pool:X}:U):U=AN(),P={baseLanes:P.baseLanes|h,cachePool:U}),x.memoizedState=P,x.childLanes=fy(o,C,h),c.memoizedState=uy,g):(ts(c),h=o.child,o=h.sibling,h=ea(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(C=c.deletions,C===null?(c.deletions=[o],c.flags|=16):C.push(o)),c.child=h,c.memoizedState=null,h)}function hy(o,c){return c=yh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function yh(o,c){return o=jr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function my(o,c,h){return Ol(c,o.child,null,h),o=hy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function V_(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),O0(o.return,c,h)}function py(o,c,h,g,x){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=x)}function U_(o,c,h){var g=c.pendingProps,x=g.revealOrder,S=g.tail;if(On(o,c,g.children,h),g=yn.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&V_(o,h,c);else if(o.tag===19)V_(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(ue(yn,g),x){case"forwards":for(h=c.child,x=null;h!==null;)o=h.alternate,o!==null&&hh(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=c.child,c.child=null):(x=h.sibling,h.sibling=null),py(c,!1,x,h,S);break;case"backwards":for(h=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&hh(o)===null){c.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}py(c,!0,h,null,S);break;case"together":py(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function oa(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),os|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(iu(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=ea(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=ea(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function gy(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Xf(o)))}function BB(o,c,h){switch(c.tag){case 3:Te(c,c.stateNode.containerInfo),Za(c,gn,o.memoizedState.cache),nu();break;case 27:case 5:we(c);break;case 4:Te(c,c.stateNode.containerInfo);break;case 10:Za(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(ts(c),c.flags|=128,null):(h&c.child.childLanes)!==0?B_(o,c,h):(ts(c),o=oa(o,c,h),o!==null?o.sibling:null);ts(c);break;case 19:var x=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(iu(o,c,h,!1),g=(h&c.childLanes)!==0),x){if(g)return U_(o,c,h);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(yn,yn.current),g)break;return null;case 22:case 23:return c.lanes=0,R_(o,c,h);case 24:Za(c,gn,o.memoizedState.cache)}return oa(o,c,h)}function F_(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)jn=!0;else{if(!gy(o,h)&&(c.flags&128)===0)return jn=!1,BB(o,c,h);jn=(o.flags&131072)!==0}else jn=!1,st&&(c.flags&1048576)!==0&&xN(c,Zf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,x=g._init;if(g=x(g._payload),c.type=g,typeof g=="function")_0(g)?(o=ao(g,o),c.tag=1,c=$_(null,c,g,o,h)):(c.tag=0,c=cy(null,c,g,o,h));else{if(g!=null){if(x=g.$$typeof,x===E){c.tag=11,c=O_(null,c,g,o,h);break e}else if(x===L){c.tag=14,c=P_(null,c,g,o,h);break e}}throw c=re(g)||g,Error(r(306,c,""))}}return c;case 0:return cy(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,x=ao(g,c.pendingProps),$_(o,c,g,x,h);case 3:e:{if(Te(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var S=c.memoizedState;x=S.element,z0(o,c),du(c,g,null,h);var C=c.memoizedState;if(g=C.cache,Za(c,gn,g),g!==S.cache&&P0(c,[gn],h,!0),uu(),g=C.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:C.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=z_(o,c,g,h);break e}else if(g!==x){x=Wr(Error(r(424)),c),ru(x),c=z_(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ft=yi(o.firstChild),rr=c,st=!0,Js=null,Mi=!0,h=w_(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(nu(),g===x){c=oa(o,c,h);break e}On(o,c,g,h)}c=c.child}return c;case 26:return gh(o,c),o===null?(h=GA(c.type,null,c.pendingProps,null))?c.memoizedState=h:st||(h=c.type,o=c.pendingProps,g=Th(le.current).createElement(h),g[Hn]=c,g[cr]=o,Dn(g,h,o),Sn(g),c.stateNode=g):c.memoizedState=GA(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return we(c),o===null&&st&&(g=c.stateNode=HA(c.type,c.pendingProps,le.current),rr=c,Mi=!0,x=Ft,ds(c.type)?(Zy=x,Ft=yi(g.firstChild)):Ft=x),On(o,c,c.pendingProps.children,h),gh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&st&&((x=g=Ft)&&(g=mV(g,c.type,c.pendingProps,Mi),g!==null?(c.stateNode=g,rr=c,Ft=yi(g.firstChild),Mi=!1,x=!0):x=!1),x||eo(c)),we(c),x=c.type,S=c.pendingProps,C=o!==null?o.memoizedProps:null,g=S.children,Wy(x,S)?g=null:C!==null&&Wy(x,C)&&(c.flags|=32),c.memoizedState!==null&&(x=q0(o,c,OB,null,null,h),Pu._currentValue=x),gh(o,c),On(o,c,g,h),c.child;case 6:return o===null&&st&&((o=h=Ft)&&(h=pV(h,c.pendingProps,Mi),h!==null?(c.stateNode=h,rr=c,Ft=null,o=!0):o=!1),o||eo(c)),null;case 13:return B_(o,c,h);case 4:return Te(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Ol(c,null,g,h):On(o,c,g,h),c.child;case 11:return O_(o,c,c.type,c.pendingProps,h);case 7:return On(o,c,c.pendingProps,h),c.child;case 8:return On(o,c,c.pendingProps.children,h),c.child;case 12:return On(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Za(c,c.type,g.value),On(o,c,g.children,h),c.child;case 9:return x=c.type._context,g=c.pendingProps.children,no(c),x=qn(x),g=g(x),c.flags|=1,On(o,c,g,h),c.child;case 14:return P_(o,c,c.type,c.pendingProps,h);case 15:return D_(o,c,c.type,c.pendingProps,h);case 19:return U_(o,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},o===null?(h=yh(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=ea(o.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return R_(o,c,h);case 24:return no(c),g=qn(gn),o===null?(x=L0(),x===null&&(x=Nt,S=D0(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=h),x=S),c.memoizedState={parent:g,cache:x},$0(c),Za(c,gn,x)):((o.lanes&h)!==0&&(z0(o,c),du(c,null,null,h),uu()),x=o.memoizedState,S=c.memoizedState,x.parent!==g?(x={parent:g,cache:g},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Za(c,gn,g)):(g=S.cache,Za(c,gn,g),g!==x.cache&&P0(c,[gn],h,!0))),On(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function la(o){o.flags|=4}function H_(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!QA(c)){if(c=Zr.current,c!==null&&((nt&4194048)===nt?ki!==null:(nt&62914560)!==nt&&(nt&536870912)===0||c!==ki))throw lu=I0,MN;o.flags|=8192}}function vh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?S2():536870912,o.lanes|=c,Ll|=c)}function vu(o,c){if(!st)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function It(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function VB(o,c,h){var g=c.pendingProps;switch(C0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(c),null;case 1:return It(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ia(gn),ee(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(tu(c)?la(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,SN())),It(c),null;case 26:return h=c.memoizedState,o===null?(la(c),h!==null?(It(c),H_(c,h)):(It(c),c.flags&=-16777217)):h?h!==o.memoizedState?(la(c),It(c),H_(c,h)):(It(c),c.flags&=-16777217):(o.memoizedProps!==g&&la(c),It(c),c.flags&=-16777217),null;case 27:Se(c),h=le.current;var x=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&la(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return It(c),null}o=xe.current,tu(c)?bN(c):(o=HA(x,g,h),c.stateNode=o,la(c))}return It(c),null;case 5:if(Se(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&la(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return It(c),null}if(o=xe.current,tu(c))bN(c);else{switch(x=Th(le.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?x.createElement(h,{is:g.is}):x.createElement(h)}}o[Hn]=c,o[cr]=g;e:for(x=c.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}c.stateNode=o;e:switch(Dn(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&la(c)}}return It(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&la(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=le.current,tu(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,x=rr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[Hn]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||IA(o.nodeValue,h)),o||eo(c)}else o=Th(o).createTextNode(g),o[Hn]=c,c.stateNode=o}return It(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=tu(c),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Hn]=c}else nu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;It(c),x=!1}else x=SN(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(sa(c),c):(sa(c),null)}if(sa(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=c.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),vh(c,c.updateQueue),It(c),null;case 4:return ee(),o===null&&Vy(c.stateNode.containerInfo),It(c),null;case 10:return ia(c.type),It(c),null;case 19:if(ne(yn),x=c.memoizedState,x===null)return It(c),null;if(g=(c.flags&128)!==0,S=x.rendering,S===null)if(g)vu(x,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=hh(o),S!==null){for(c.flags|=128,vu(x,!1),o=S.updateQueue,c.updateQueue=o,vh(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)vN(h,o),h=h.sibling;return ue(yn,yn.current&1|2),c.child}o=o.sibling}x.tail!==null&&Ye()>wh&&(c.flags|=128,g=!0,vu(x,!1),c.lanes=4194304)}else{if(!g)if(o=hh(S),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,vh(c,o),vu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!st)return It(c),null}else 2*Ye()-x.renderingStartTime>wh&&h!==536870912&&(c.flags|=128,g=!0,vu(x,!1),c.lanes=4194304);x.isBackwards?(S.sibling=c.child,c.child=S):(o=x.last,o!==null?o.sibling=S:c.child=S,x.last=S)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Ye(),c.sibling=null,o=yn.current,ue(yn,g?o&1|2:o&1),c):(It(c),null);case 22:case 23:return sa(c),F0(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(It(c),c.subtreeFlags&6&&(c.flags|=8192)):It(c),h=c.updateQueue,h!==null&&vh(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&ne(ro),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ia(gn),It(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function UB(o,c){switch(C0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ia(gn),ee(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Se(c),null;case 13:if(sa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));nu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ne(yn),null;case 4:return ee(),null;case 10:return ia(c.type),null;case 22:case 23:return sa(c),F0(),o!==null&&ne(ro),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ia(gn),null;case 25:return null;default:return null}}function q_(o,c){switch(C0(c),c.tag){case 3:ia(gn),ee();break;case 26:case 27:case 5:Se(c);break;case 4:ee();break;case 13:sa(c);break;case 19:ne(yn);break;case 10:ia(c.type);break;case 22:case 23:sa(c),F0(),o!==null&&ne(ro);break;case 24:ia(gn)}}function xu(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&o)===o){g=void 0;var S=h.create,C=h.inst;g=S(),C.destroy=g}h=h.next}while(h!==x)}}catch(P){St(c,c.return,P)}}function rs(o,c,h){try{var g=c.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&o)===o){var C=g.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,x=c;var U=h,X=P;try{X()}catch(de){St(x,U,de)}}}g=g.next}while(g!==S)}}catch(de){St(c,c.return,de)}}function W_(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{PN(c,h)}catch(g){St(o,o.return,g)}}}function G_(o,c,h){h.props=ao(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){St(o,c,g)}}function bu(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(x){St(o,c,x)}}function Ci(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){St(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){St(o,c,x)}else h.current=null}function Y_(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){St(o,o.return,x)}}function yy(o,c,h){try{var g=o.stateNode;cV(g,o.type,h,c),g[cr]=c}catch(x){St(o,o.return,x)}}function K_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ds(o.type)||o.tag===4}function vy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||K_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ds(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xy(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Eh));else if(g!==4&&(g===27&&ds(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(xy(o,c,h),o=o.sibling;o!==null;)xy(o,c,h),o=o.sibling}function xh(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&ds(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(xh(o,c,h),o=o.sibling;o!==null;)xh(o,c,h),o=o.sibling}function Z_(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Dn(c,g,h),c[Hn]=o,c[cr]=h}catch(S){St(o,o.return,S)}}var ca=!1,Kt=!1,by=!1,X_=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function FB(o,c){if(o=o.containerInfo,Hy=Ih,o=lN(o),v0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var C=0,P=-1,U=-1,X=0,de=0,ge=o,te=null;t:for(;;){for(var ae;ge!==h||x!==0&&ge.nodeType!==3||(P=C+x),ge!==S||g!==0&&ge.nodeType!==3||(U=C+g),ge.nodeType===3&&(C+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)te=ge,ge=ae;for(;;){if(ge===o)break t;if(te===h&&++X===x&&(P=C),te===S&&++de===g&&(U=C),(ae=ge.nextSibling)!==null)break;ge=te,te=ge.parentNode}ge=ae}h=P===-1||U===-1?null:{start:P,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(qy={focusedElem:o,selectionRange:h},Ih=!1,Nn=c;Nn!==null;)if(c=Nn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Nn=o;else for(;Nn!==null;){switch(c=Nn,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,h=c,x=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Be=ao(h.type,x,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Be,S),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ie){St(h,h.return,Ie)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Yy(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Yy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Nn=o;break}Nn=c.return}}function Q_(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:is(o,h),g&4&&xu(5,h);break;case 1:if(is(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(C){St(h,h.return,C)}else{var x=ao(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(C){St(h,h.return,C)}}g&64&&W_(h),g&512&&bu(h,h.return);break;case 3:if(is(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{PN(o,c)}catch(C){St(h,h.return,C)}}break;case 27:c===null&&g&4&&Z_(h);case 26:case 5:is(o,h),c===null&&g&4&&Y_(h),g&512&&bu(h,h.return);break;case 12:is(o,h);break;case 13:is(o,h),g&4&&tA(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=QB.bind(null,h),gV(o,h))));break;case 22:if(g=h.memoizedState!==null||ca,!g){c=c!==null&&c.memoizedState!==null||Kt,x=ca;var S=Kt;ca=g,(Kt=c)&&!S?as(o,h,(h.subtreeFlags&8772)!==0):is(o,h),ca=x,Kt=S}break;case 30:break;default:is(o,h)}}function J_(o){var c=o.alternate;c!==null&&(o.alternate=null,J_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Jg(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Et=null,fr=!1;function ua(o,c,h){for(h=h.child;h!==null;)eA(o,c,h),h=h.sibling}function eA(o,c,h){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(je,h)}catch{}switch(h.tag){case 26:Kt||Ci(h,c),ua(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Kt||Ci(h,c);var g=Et,x=fr;ds(h.type)&&(Et=h.stateNode,fr=!1),ua(o,c,h),Cu(h.stateNode),Et=g,fr=x;break;case 5:Kt||Ci(h,c);case 6:if(g=Et,x=fr,Et=null,ua(o,c,h),Et=g,fr=x,Et!==null)if(fr)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(h.stateNode)}catch(S){St(h,c,S)}else try{Et.removeChild(h.stateNode)}catch(S){St(h,c,S)}break;case 18:Et!==null&&(fr?(o=Et,UA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Iu(o)):UA(Et,h.stateNode));break;case 4:g=Et,x=fr,Et=h.stateNode.containerInfo,fr=!0,ua(o,c,h),Et=g,fr=x;break;case 0:case 11:case 14:case 15:Kt||rs(2,h,c),Kt||rs(4,h,c),ua(o,c,h);break;case 1:Kt||(Ci(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&G_(h,c,g)),ua(o,c,h);break;case 21:ua(o,c,h);break;case 22:Kt=(g=Kt)||h.memoizedState!==null,ua(o,c,h),Kt=g;break;default:ua(o,c,h)}}function tA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Iu(o)}catch(h){St(c,c.return,h)}}function HB(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new X_),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new X_),c;default:throw Error(r(435,o.tag))}}function wy(o,c){var h=HB(o);c.forEach(function(g){var x=JB.bind(null,o,g);h.has(g)||(h.add(g),g.then(x,x))})}function Nr(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],S=o,C=c,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(ds(P.type)){Et=P.stateNode,fr=!1;break e}break;case 5:Et=P.stateNode,fr=!1;break e;case 3:case 4:Et=P.stateNode.containerInfo,fr=!0;break e}P=P.return}if(Et===null)throw Error(r(160));eA(S,C,x),Et=null,fr=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)nA(c,o),c=c.sibling}var gi=null;function nA(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Nr(c,o),_r(o),g&4&&(rs(3,o,o.return),xu(3,o),rs(5,o,o.return));break;case 1:Nr(c,o),_r(o),g&512&&(Kt||h===null||Ci(h,h.return)),g&64&&ca&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=gi;if(Nr(c,o),_r(o),g&512&&(Kt||h===null||Ci(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[Hc]||S[Hn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),Dn(S,g,h),S[Hn]=o,Sn(S),g=S;break e;case"link":var C=ZA("link","href",x).get(g+(h.href||""));if(C){for(var P=0;P<C.length;P++)if(S=C[P],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){C.splice(P,1);break t}}S=x.createElement(g),Dn(S,g,h),x.head.appendChild(S);break;case"meta":if(C=ZA("meta","content",x).get(g+(h.content||""))){for(P=0;P<C.length;P++)if(S=C[P],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){C.splice(P,1);break t}}S=x.createElement(g),Dn(S,g,h),x.head.appendChild(S);break;default:throw Error(r(468,g))}S[Hn]=o,Sn(S),g=S}o.stateNode=g}else XA(x,o.type,o.stateNode);else o.stateNode=KA(x,g,o.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?XA(x,o.type,o.stateNode):KA(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&yy(o,o.memoizedProps,h.memoizedProps)}break;case 27:Nr(c,o),_r(o),g&512&&(Kt||h===null||Ci(h,h.return)),h!==null&&g&4&&yy(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Nr(c,o),_r(o),g&512&&(Kt||h===null||Ci(h,h.return)),o.flags&32){x=o.stateNode;try{ml(x,"")}catch(ae){St(o,o.return,ae)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,yy(o,x,h!==null?h.memoizedProps:x)),g&1024&&(by=!0);break;case 6:if(Nr(c,o),_r(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(ae){St(o,o.return,ae)}}break;case 3:if(Dh=null,x=gi,gi=Oh(c.containerInfo),Nr(c,o),gi=x,_r(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Iu(c.containerInfo)}catch(ae){St(o,o.return,ae)}by&&(by=!1,rA(o));break;case 4:g=gi,gi=Oh(o.stateNode.containerInfo),Nr(c,o),_r(o),gi=g;break;case 12:Nr(c,o),_r(o);break;case 13:Nr(c,o),_r(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(My=Ye()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,wy(o,g)));break;case 22:x=o.memoizedState!==null;var U=h!==null&&h.memoizedState!==null,X=ca,de=Kt;if(ca=X||x,Kt=de||U,Nr(c,o),Kt=de,ca=X,_r(o),g&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(h===null||U||ca||Kt||so(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){U=h=c;try{if(S=U.stateNode,x)C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=U.stateNode;var ge=U.memoizedProps.style,te=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;P.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ae){St(U,U.return,ae)}}}else if(c.tag===6){if(h===null){U=c;try{U.stateNode.nodeValue=x?"":U.memoizedProps}catch(ae){St(U,U.return,ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,wy(o,h))));break;case 19:Nr(c,o),_r(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,wy(o,g)));break;case 30:break;case 21:break;default:Nr(c,o),_r(o)}}function _r(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(K_(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,S=vy(o);xh(o,S,x);break;case 5:var C=h.stateNode;h.flags&32&&(ml(C,""),h.flags&=-33);var P=vy(o);xh(o,P,C);break;case 3:case 4:var U=h.stateNode.containerInfo,X=vy(o);xy(o,X,U);break;default:throw Error(r(161))}}catch(de){St(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function rA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;rA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function is(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Q_(o,c.alternate,c),c=c.sibling}function so(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:rs(4,c,c.return),so(c);break;case 1:Ci(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&G_(c,c.return,h),so(c);break;case 27:Cu(c.stateNode);case 26:case 5:Ci(c,c.return),so(c);break;case 22:c.memoizedState===null&&so(c);break;case 30:so(c);break;default:so(c)}o=o.sibling}}function as(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,x=o,S=c,C=S.flags;switch(S.tag){case 0:case 11:case 15:as(x,S,h),xu(4,S);break;case 1:if(as(x,S,h),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(X){St(g,g.return,X)}if(g=S,x=g.updateQueue,x!==null){var P=g.stateNode;try{var U=x.shared.hiddenCallbacks;if(U!==null)for(x.shared.hiddenCallbacks=null,x=0;x<U.length;x++)ON(U[x],P)}catch(X){St(g,g.return,X)}}h&&C&64&&W_(S),bu(S,S.return);break;case 27:Z_(S);case 26:case 5:as(x,S,h),h&&g===null&&C&4&&Y_(S),bu(S,S.return);break;case 12:as(x,S,h);break;case 13:as(x,S,h),h&&C&4&&tA(x,S);break;case 22:S.memoizedState===null&&as(x,S,h),bu(S,S.return);break;case 30:break;default:as(x,S,h)}c=c.sibling}}function Sy(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&au(h))}function jy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&au(o))}function Ei(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)iA(o,c,h,g),c=c.sibling}function iA(o,c,h,g){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Ei(o,c,h,g),x&2048&&xu(9,c);break;case 1:Ei(o,c,h,g);break;case 3:Ei(o,c,h,g),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&au(o)));break;case 12:if(x&2048){Ei(o,c,h,g),o=c.stateNode;try{var S=c.memoizedProps,C=S.id,P=S.onPostCommit;typeof P=="function"&&P(C,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(U){St(c,c.return,U)}}else Ei(o,c,h,g);break;case 13:Ei(o,c,h,g);break;case 23:break;case 22:S=c.stateNode,C=c.alternate,c.memoizedState!==null?S._visibility&2?Ei(o,c,h,g):wu(o,c):S._visibility&2?Ei(o,c,h,g):(S._visibility|=2,Pl(o,c,h,g,(c.subtreeFlags&10256)!==0)),x&2048&&Sy(C,c);break;case 24:Ei(o,c,h,g),x&2048&&jy(c.alternate,c);break;default:Ei(o,c,h,g)}}function Pl(o,c,h,g,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,C=c,P=h,U=g,X=C.flags;switch(C.tag){case 0:case 11:case 15:Pl(S,C,P,U,x),xu(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?Pl(S,C,P,U,x):wu(S,C):(de._visibility|=2,Pl(S,C,P,U,x)),x&&X&2048&&Sy(C.alternate,C);break;case 24:Pl(S,C,P,U,x),x&&X&2048&&jy(C.alternate,C);break;default:Pl(S,C,P,U,x)}c=c.sibling}}function wu(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,x=g.flags;switch(g.tag){case 22:wu(h,g),x&2048&&Sy(g.alternate,g);break;case 24:wu(h,g),x&2048&&jy(g.alternate,g);break;default:wu(h,g)}c=c.sibling}}var Su=8192;function Dl(o){if(o.subtreeFlags&Su)for(o=o.child;o!==null;)aA(o),o=o.sibling}function aA(o){switch(o.tag){case 26:Dl(o),o.flags&Su&&o.memoizedState!==null&&CV(gi,o.memoizedState,o.memoizedProps);break;case 5:Dl(o);break;case 3:case 4:var c=gi;gi=Oh(o.stateNode.containerInfo),Dl(o),gi=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Su,Su=16777216,Dl(o),Su=c):Dl(o));break;default:Dl(o)}}function sA(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ju(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Nn=g,lA(g,o)}sA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oA(o),o=o.sibling}function oA(o){switch(o.tag){case 0:case 11:case 15:ju(o),o.flags&2048&&rs(9,o,o.return);break;case 3:ju(o);break;case 12:ju(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,bh(o)):ju(o);break;default:ju(o)}}function bh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Nn=g,lA(g,o)}sA(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:rs(8,c,c.return),bh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,bh(c));break;default:bh(c)}o=o.sibling}}function lA(o,c){for(;Nn!==null;){var h=Nn;switch(h.tag){case 0:case 11:case 15:rs(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:au(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Nn=g;else e:for(h=o;Nn!==null;){g=Nn;var x=g.sibling,S=g.return;if(J_(g),g===h){Nn=null;break e}if(x!==null){x.return=S,Nn=x;break e}Nn=S}}}var qB={getCacheForType:function(o){var c=qn(gn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},WB=typeof WeakMap=="function"?WeakMap:Map,ut=0,Nt=null,Xe=null,nt=0,dt=0,Ar=null,ss=!1,Rl=!1,Ny=!1,da=0,Ht=0,os=0,oo=0,_y=0,Xr=0,Ll=0,Nu=null,hr=null,Ay=!1,My=0,wh=1/0,Sh=null,ls=null,Pn=0,cs=null,Il=null,$l=0,ky=0,Cy=null,cA=null,_u=0,Ey=null;function Mr(){if((ut&2)!==0&&nt!==0)return nt&-nt;if(H.T!==null){var o=_l;return o!==0?o:Iy()}return _2()}function uA(){Xr===0&&(Xr=(nt&536870912)===0||st?w2():536870912);var o=Zr.current;return o!==null&&(o.flags|=32),Xr}function kr(o,c,h){(o===Nt&&(dt===2||dt===9)||o.cancelPendingCommit!==null)&&(zl(o,0),us(o,nt,Xr,!1)),Fc(o,h),((ut&2)===0||o!==Nt)&&(o===Nt&&((ut&2)===0&&(oo|=h),Ht===4&&us(o,nt,Xr,!1)),Ti(o))}function dA(o,c,h){if((ut&6)!==0)throw Error(r(327));var g=!h&&(c&124)===0&&(c&o.expiredLanes)===0||qs(o,c),x=g?KB(o,c):Py(o,c,!0),S=g;do{if(x===0){Rl&&!g&&us(o,c,0,!1);break}else{if(h=o.current.alternate,S&&!GB(h)){x=Py(o,c,!1),S=!1;continue}if(x===2){if(S=c,o.errorRecoveryDisabledLanes&S)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){c=C;e:{var P=o;x=Nu;var U=P.current.memoizedState.isDehydrated;if(U&&(zl(P,C).flags|=256),C=Py(P,C,!1),C!==2){if(Ny&&!U){P.errorRecoveryDisabledLanes|=S,oo|=S,x=4;break e}S=hr,hr=x,S!==null&&(hr===null?hr=S:hr.push.apply(hr,S))}x=C}if(S=!1,x!==2)continue}}if(x===1){zl(o,0),us(o,c,0,!0);break}e:{switch(g=o,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:us(g,c,Xr,!ss);break e;case 2:hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=My+300-Ye(),10<x)){if(us(g,c,Xr,!ss),Hs(g,0,!0)!==0)break e;g.timeoutHandle=BA(fA.bind(null,g,h,hr,Sh,Ay,c,Xr,oo,Ll,ss,S,2,-0,0),x);break e}fA(g,h,hr,Sh,Ay,c,Xr,oo,Ll,ss,S,0,-0,0)}}break}while(!0);Ti(o)}function fA(o,c,h,g,x,S,C,P,U,X,de,ge,te,ae){if(o.timeoutHandle=-1,ge=c.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:kV},aA(c),ge=EV(),ge!==null)){o.cancelPendingCommit=ge(xA.bind(null,o,c,S,h,g,x,C,P,U,de,1,te,ae)),us(o,S,C,!X);return}xA(o,c,S,h,g,x,C,P,U)}function GB(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!Sr(S(),x))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function us(o,c,h,g){c&=~_y,c&=~oo,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var x=c;0<x;){var S=31-ct(x),C=1<<S;g[S]=-1,x&=~C}h!==0&&j2(o,h,c)}function jh(){return(ut&6)===0?(Au(0),!1):!0}function Ty(){if(Xe!==null){if(dt===0)var o=Xe.return;else o=Xe,ra=to=null,Y0(o),Tl=null,gu=0,o=Xe;for(;o!==null;)q_(o.alternate,o),o=o.return;Xe=null}}function zl(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,dV(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Ty(),Nt=o,Xe=h=ea(o.current,null),nt=c,dt=0,Ar=null,ss=!1,Rl=qs(o,c),Ny=!1,Ll=Xr=_y=oo=os=Ht=0,hr=Nu=null,Ay=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var x=31-ct(g),S=1<<x;c|=o[x],g&=~S}return da=c,qf(),h}function hA(o,c){Ge=null,H.H=uh,c===ou||c===eh?(c=EN(),dt=3):c===MN?(c=EN(),dt=4):dt=c===T_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ar=c,Xe===null&&(Ht=1,ph(o,Wr(c,o.current)))}function mA(){var o=H.H;return H.H=uh,o===null?uh:o}function pA(){var o=H.A;return H.A=qB,o}function Oy(){Ht=4,ss||(nt&4194048)!==nt&&Zr.current!==null||(Rl=!0),(os&134217727)===0&&(oo&134217727)===0||Nt===null||us(Nt,nt,Xr,!1)}function Py(o,c,h){var g=ut;ut|=2;var x=mA(),S=pA();(Nt!==o||nt!==c)&&(Sh=null,zl(o,c)),c=!1;var C=Ht;e:do try{if(dt!==0&&Xe!==null){var P=Xe,U=Ar;switch(dt){case 8:Ty(),C=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(c=!0);var X=dt;if(dt=0,Ar=null,Bl(o,P,U,X),h&&Rl){C=0;break e}break;default:X=dt,dt=0,Ar=null,Bl(o,P,U,X)}}YB(),C=Ht;break}catch(de){hA(o,de)}while(!0);return c&&o.shellSuspendCounter++,ra=to=null,ut=g,H.H=x,H.A=S,Xe===null&&(Nt=null,nt=0,qf()),C}function YB(){for(;Xe!==null;)gA(Xe)}function KB(o,c){var h=ut;ut|=2;var g=mA(),x=pA();Nt!==o||nt!==c?(Sh=null,wh=Ye()+500,zl(o,c)):Rl=qs(o,c);e:do try{if(dt!==0&&Xe!==null){c=Xe;var S=Ar;t:switch(dt){case 1:dt=0,Ar=null,Bl(o,c,S,1);break;case 2:case 9:if(kN(S)){dt=0,Ar=null,yA(c);break}c=function(){dt!==2&&dt!==9||Nt!==o||(dt=7),Ti(o)},S.then(c,c);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:kN(S)?(dt=0,Ar=null,yA(c)):(dt=0,Ar=null,Bl(o,c,S,7));break;case 5:var C=null;switch(Xe.tag){case 26:C=Xe.memoizedState;case 5:case 27:var P=Xe;if(!C||QA(C)){dt=0,Ar=null;var U=P.sibling;if(U!==null)Xe=U;else{var X=P.return;X!==null?(Xe=X,Nh(X)):Xe=null}break t}}dt=0,Ar=null,Bl(o,c,S,5);break;case 6:dt=0,Ar=null,Bl(o,c,S,6);break;case 8:Ty(),Ht=6;break e;default:throw Error(r(462))}}ZB();break}catch(de){hA(o,de)}while(!0);return ra=to=null,H.H=g,H.A=x,ut=h,Xe!==null?0:(Nt=null,nt=0,qf(),Ht)}function ZB(){for(;Xe!==null&&!he();)gA(Xe)}function gA(o){var c=F_(o.alternate,o,da);o.memoizedProps=o.pendingProps,c===null?Nh(o):Xe=c}function yA(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=I_(h,c,c.pendingProps,c.type,void 0,nt);break;case 11:c=I_(h,c,c.pendingProps,c.type.render,c.ref,nt);break;case 5:Y0(c);default:q_(h,c),c=Xe=vN(c,da),c=F_(h,c,da)}o.memoizedProps=o.pendingProps,c===null?Nh(o):Xe=c}function Bl(o,c,h,g){ra=to=null,Y0(c),Tl=null,gu=0;var x=c.return;try{if(zB(o,x,c,h,nt)){Ht=1,ph(o,Wr(h,o.current)),Xe=null;return}}catch(S){if(x!==null)throw Xe=x,S;Ht=1,ph(o,Wr(h,o.current)),Xe=null;return}c.flags&32768?(st||g===1?o=!0:Rl||(nt&536870912)!==0?o=!1:(ss=o=!0,(g===2||g===9||g===3||g===6)&&(g=Zr.current,g!==null&&g.tag===13&&(g.flags|=16384))),vA(c,o)):Nh(c)}function Nh(o){var c=o;do{if((c.flags&32768)!==0){vA(c,ss);return}o=c.return;var h=VB(c.alternate,c,da);if(h!==null){Xe=h;return}if(c=c.sibling,c!==null){Xe=c;return}Xe=c=o}while(c!==null);Ht===0&&(Ht=5)}function vA(o,c){do{var h=UB(o.alternate,o);if(h!==null){h.flags&=32767,Xe=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Xe=o;return}Xe=o=h}while(o!==null);Ht=6,Xe=null}function xA(o,c,h,g,x,S,C,P,U){o.cancelPendingCommit=null;do _h();while(Pn!==0);if((ut&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=j0,kz(o,h,S,C,P,U),o===Nt&&(Xe=Nt=null,nt=0),Il=c,cs=o,$l=h,ky=S,Cy=x,cA=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,eV(B,function(){return NA(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,x=z.p,z.p=2,C=ut,ut|=4;try{FB(o,c,h)}finally{ut=C,z.p=x,H.T=g}}Pn=1,bA(),wA(),SA()}}function bA(){if(Pn===1){Pn=0;var o=cs,c=Il,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=H.T,H.T=null;var g=z.p;z.p=2;var x=ut;ut|=4;try{nA(c,o);var S=qy,C=lN(o.containerInfo),P=S.focusedElem,U=S.selectionRange;if(C!==P&&P&&P.ownerDocument&&oN(P.ownerDocument.documentElement,P)){if(U!==null&&v0(P)){var X=U.start,de=U.end;if(de===void 0&&(de=X),"selectionStart"in P)P.selectionStart=X,P.selectionEnd=Math.min(de,P.value.length);else{var ge=P.ownerDocument||document,te=ge&&ge.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Be=P.textContent.length,Ie=Math.min(U.start,Be),xt=U.end===void 0?Ie:Math.min(U.end,Be);!ae.extend&&Ie>xt&&(C=xt,xt=Ie,Ie=C);var K=sN(P,Ie),W=sN(P,xt);if(K&&W&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var Z=ge.createRange();Z.setStart(K.node,K.offset),ae.removeAllRanges(),Ie>xt?(ae.addRange(Z),ae.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ae.addRange(Z))}}}}for(ge=[],ae=P;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ge.length;P++){var me=ge[P];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Ih=!!Hy,qy=Hy=null}finally{ut=x,z.p=g,H.T=h}}o.current=c,Pn=2}}function wA(){if(Pn===2){Pn=0;var o=cs,c=Il,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=H.T,H.T=null;var g=z.p;z.p=2;var x=ut;ut|=4;try{Q_(o,c.alternate,c)}finally{ut=x,z.p=g,H.T=h}}Pn=3}}function SA(){if(Pn===4||Pn===3){Pn=0,Ce();var o=cs,c=Il,h=$l,g=cA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pn=5:(Pn=0,Il=cs=null,jA(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ls=null),Xg(h),c=c.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(je,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=H.T,x=z.p,z.p=2,H.T=null;try{for(var S=o.onRecoverableError,C=0;C<g.length;C++){var P=g[C];S(P.value,{componentStack:P.stack})}}finally{H.T=c,z.p=x}}($l&3)!==0&&_h(),Ti(o),x=o.pendingLanes,(h&4194090)!==0&&(x&42)!==0?o===Ey?_u++:(_u=0,Ey=o):_u=0,Au(0)}}function jA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,au(c)))}function _h(o){return bA(),wA(),SA(),NA()}function NA(){if(Pn!==5)return!1;var o=cs,c=ky;ky=0;var h=Xg($l),g=H.T,x=z.p;try{z.p=32>h?32:h,H.T=null,h=Cy,Cy=null;var S=cs,C=$l;if(Pn=0,Il=cs=null,$l=0,(ut&6)!==0)throw Error(r(331));var P=ut;if(ut|=4,oA(S.current),iA(S,S.current,C,h),ut=P,Au(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(je,S)}catch{}return!0}finally{z.p=x,H.T=g,jA(o,c)}}function _A(o,c,h){c=Wr(h,c),c=ly(o.stateNode,c,2),o=Ja(o,c,2),o!==null&&(Fc(o,2),Ti(o))}function St(o,c,h){if(o.tag===3)_A(o,o,h);else for(;c!==null;){if(c.tag===3){_A(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ls===null||!ls.has(g))){o=Wr(h,o),h=C_(2),g=Ja(c,h,2),g!==null&&(E_(h,g,c,o),Fc(g,2),Ti(g));break}}c=c.return}}function Dy(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new WB;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(h)||(Ny=!0,x.add(h),o=XB.bind(null,o,c,h),c.then(o,o))}function XB(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Nt===o&&(nt&h)===h&&(Ht===4||Ht===3&&(nt&62914560)===nt&&300>Ye()-My?(ut&2)===0&&zl(o,0):_y|=h,Ll===nt&&(Ll=0)),Ti(o)}function AA(o,c){c===0&&(c=S2()),o=wl(o,c),o!==null&&(Fc(o,c),Ti(o))}function QB(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),AA(o,h)}function JB(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),AA(o,h)}function eV(o,c){return We(o,c)}var Ah=null,Vl=null,Ry=!1,Mh=!1,Ly=!1,lo=0;function Ti(o){o!==Vl&&o.next===null&&(Vl===null?Ah=Vl=o:Vl=Vl.next=o),Mh=!0,Ry||(Ry=!0,nV())}function Au(o,c){if(!Ly&&Mh){Ly=!0;do for(var h=!1,g=Ah;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var C=g.suspendedLanes,P=g.pingedLanes;S=(1<<31-ct(42|o)+1)-1,S&=x&~(C&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,EA(g,S))}else S=nt,S=Hs(g,g===Nt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||qs(g,S)||(h=!0,EA(g,S));g=g.next}while(h);Ly=!1}}function tV(){MA()}function MA(){Mh=Ry=!1;var o=0;lo!==0&&(uV()&&(o=lo),lo=0);for(var c=Ye(),h=null,g=Ah;g!==null;){var x=g.next,S=kA(g,c);S===0?(g.next=null,h===null?Ah=x:h.next=x,x===null&&(Vl=h)):(h=g,(o!==0||(S&3)!==0)&&(Mh=!0)),g=x}Au(o)}function kA(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var C=31-ct(S),P=1<<C,U=x[C];U===-1?((P&h)===0||(P&g)!==0)&&(x[C]=Pf(P,c)):U<=c&&(o.expiredLanes|=P),S&=~P}if(c=Nt,h=nt,h=Hs(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(dt===2||dt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&De(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||qs(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&De(g),Xg(h)){case 2:case 8:h=T;break;case 32:h=B;break;case 268435456:h=fe;break;default:h=B}return g=CA.bind(null,o),h=We(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&De(g),o.callbackPriority=2,o.callbackNode=null,2}function CA(o,c){if(Pn!==0&&Pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(_h()&&o.callbackNode!==h)return null;var g=nt;return g=Hs(o,o===Nt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(dA(o,g,c),kA(o,Ye()),o.callbackNode!=null&&o.callbackNode===h?CA.bind(null,o):null)}function EA(o,c){if(_h())return null;dA(o,c,!0)}function nV(){fV(function(){(ut&6)!==0?We(ce,tV):MA()})}function Iy(){return lo===0&&(lo=w2()),lo}function TA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:$f(""+o)}function OA(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function rV(o,c,h,g,x){if(c==="submit"&&h&&h.stateNode===x){var S=TA((x[cr]||null).action),C=g.submitter;C&&(c=(c=C[cr]||null)?TA(c.formAction):C.getAttribute("formAction"),c!==null&&(S=c,C=null));var P=new Uf("action","action",null,g,x);o.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(lo!==0){var U=C?OA(x,C):new FormData(x);ry(h,{pending:!0,data:U,method:x.method,action:S},null,U)}}else typeof S=="function"&&(P.preventDefault(),U=C?OA(x,C):new FormData(x),ry(h,{pending:!0,data:U,method:x.method,action:S},S,U))},currentTarget:x}]})}}for(var $y=0;$y<S0.length;$y++){var zy=S0[$y],iV=zy.toLowerCase(),aV=zy[0].toUpperCase()+zy.slice(1);pi(iV,"on"+aV)}pi(dN,"onAnimationEnd"),pi(fN,"onAnimationIteration"),pi(hN,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(SB,"onTransitionRun"),pi(jB,"onTransitionStart"),pi(NB,"onTransitionCancel"),pi(mN,"onTransitionEnd"),dl("onMouseEnter",["mouseout","mouseover"]),dl("onMouseLeave",["mouseout","mouseover"]),dl("onPointerEnter",["pointerout","pointerover"]),dl("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function PA(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var C=g.length-1;0<=C;C--){var P=g[C],U=P.instance,X=P.currentTarget;if(P=P.listener,U!==S&&x.isPropagationStopped())break e;S=P,x.currentTarget=X;try{S(x)}catch(de){mh(de)}x.currentTarget=null,S=U}else for(C=0;C<g.length;C++){if(P=g[C],U=P.instance,X=P.currentTarget,P=P.listener,U!==S&&x.isPropagationStopped())break e;S=P,x.currentTarget=X;try{S(x)}catch(de){mh(de)}x.currentTarget=null,S=U}}}}function Qe(o,c){var h=c[Qg];h===void 0&&(h=c[Qg]=new Set);var g=o+"__bubble";h.has(g)||(DA(c,o,2,!1),h.add(g))}function By(o,c,h){var g=0;c&&(g|=4),DA(h,o,g,c)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Vy(o){if(!o[kh]){o[kh]=!0,M2.forEach(function(h){h!=="selectionchange"&&(sV.has(h)||By(h,!1,o),By(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[kh]||(c[kh]=!0,By("selectionchange",!1,c))}}function DA(o,c,h,g){switch(iM(c)){case 2:var x=PV;break;case 8:x=DV;break;default:x=tv}h=x.bind(null,c,h,o),x=void 0,!c0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(c,h,{capture:!0,passive:x}):o.addEventListener(c,h,!0):x!==void 0?o.addEventListener(c,h,{passive:x}):o.addEventListener(c,h,!1)}function Uy(o,c,h,g,x){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var P=g.stateNode.containerInfo;if(P===x)break;if(C===4)for(C=g.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;P!==null;){if(C=ll(P),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){g=S=C;continue e}P=P.parentNode}}g=g.return}V2(function(){var X=S,de=o0(h),ge=[];e:{var te=pN.get(o);if(te!==void 0){var ae=Uf,Be=o;switch(o){case"keypress":if(Bf(h)===0)break e;case"keydown":case"keyup":ae=eB;break;case"focusin":Be="focus",ae=h0;break;case"focusout":Be="blur",ae=h0;break;case"beforeblur":case"afterblur":ae=h0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=H2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Uz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=rB;break;case dN:case fN:case hN:ae=qz;break;case mN:ae=aB;break;case"scroll":case"scrollend":ae=Bz;break;case"wheel":ae=oB;break;case"copy":case"cut":case"paste":ae=Gz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=W2;break;case"toggle":case"beforetoggle":ae=cB}var Ie=(c&4)!==0,xt=!Ie&&(o==="scroll"||o==="scrollend"),K=Ie?te!==null?te+"Capture":null:te;Ie=[];for(var W=X,Z;W!==null;){var me=W;if(Z=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Z===null||K===null||(me=Wc(W,K),me!=null&&Ie.push(ku(W,me,Z))),xt)break;W=W.return}0<Ie.length&&(te=new ae(te,Be,null,h,de),ge.push({event:te,listeners:Ie}))}}if((c&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ae=o==="mouseout"||o==="pointerout",te&&h!==s0&&(Be=h.relatedTarget||h.fromElement)&&(ll(Be)||Be[ol]))break e;if((ae||te)&&(te=de.window===de?de:(te=de.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Be=h.relatedTarget||h.toElement,ae=X,Be=Be?ll(Be):null,Be!==null&&(xt=a(Be),Ie=Be.tag,Be!==xt||Ie!==5&&Ie!==27&&Ie!==6)&&(Be=null)):(ae=null,Be=X),ae!==Be)){if(Ie=H2,me="onMouseLeave",K="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ie=W2,me="onPointerLeave",K="onPointerEnter",W="pointer"),xt=ae==null?te:qc(ae),Z=Be==null?te:qc(Be),te=new Ie(me,W+"leave",ae,h,de),te.target=xt,te.relatedTarget=Z,me=null,ll(de)===X&&(Ie=new Ie(K,W+"enter",Be,h,de),Ie.target=Z,Ie.relatedTarget=xt,me=Ie),xt=me,ae&&Be)t:{for(Ie=ae,K=Be,W=0,Z=Ie;Z;Z=Ul(Z))W++;for(Z=0,me=K;me;me=Ul(me))Z++;for(;0<W-Z;)Ie=Ul(Ie),W--;for(;0<Z-W;)K=Ul(K),Z--;for(;W--;){if(Ie===K||K!==null&&Ie===K.alternate)break t;Ie=Ul(Ie),K=Ul(K)}Ie=null}else Ie=null;ae!==null&&RA(ge,te,ae,Ie,!1),Be!==null&&xt!==null&&RA(ge,xt,Be,Ie,!0)}}e:{if(te=X?qc(X):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var Ae=eN;else if(Q2(te))if(tN)Ae=xB;else{Ae=yB;var Ze=gB}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?X&&a0(X.elementType)&&(Ae=eN):Ae=vB;if(Ae&&(Ae=Ae(o,X))){J2(ge,Ae,h,de);break e}Ze&&Ze(o,te,X),o==="focusout"&&X&&te.type==="number"&&X.memoizedProps.value!=null&&i0(te,"number",te.value)}switch(Ze=X?qc(X):window,o){case"focusin":(Q2(Ze)||Ze.contentEditable==="true")&&(vl=Ze,x0=X,eu=null);break;case"focusout":eu=x0=vl=null;break;case"mousedown":b0=!0;break;case"contextmenu":case"mouseup":case"dragend":b0=!1,cN(ge,h,de);break;case"selectionchange":if(wB)break;case"keydown":case"keyup":cN(ge,h,de)}var Ee;if(p0)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else yl?Z2(o,h)&&($e="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&($e="onCompositionStart");$e&&(G2&&h.locale!=="ko"&&(yl||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&yl&&(Ee=U2()):(Ka=de,u0="value"in Ka?Ka.value:Ka.textContent,yl=!0)),Ze=Ch(X,$e),0<Ze.length&&($e=new q2($e,o,null,h,de),ge.push({event:$e,listeners:Ze}),Ee?$e.data=Ee:(Ee=X2(h),Ee!==null&&($e.data=Ee)))),(Ee=dB?fB(o,h):hB(o,h))&&($e=Ch(X,"onBeforeInput"),0<$e.length&&(Ze=new q2("onBeforeInput","beforeinput",null,h,de),ge.push({event:Ze,listeners:$e}),Ze.data=Ee)),rV(ge,o,X,h,de)}PA(ge,c)})}function ku(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Ch(o,c){for(var h=c+"Capture",g=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Wc(o,h),x!=null&&g.unshift(ku(o,x,S)),x=Wc(o,c),x!=null&&g.push(ku(o,x,S))),o.tag===3)return g;o=o.return}return[]}function Ul(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function RA(o,c,h,g,x){for(var S=c._reactName,C=[];h!==null&&h!==g;){var P=h,U=P.alternate,X=P.stateNode;if(P=P.tag,U!==null&&U===g)break;P!==5&&P!==26&&P!==27||X===null||(U=X,x?(X=Wc(h,S),X!=null&&C.unshift(ku(h,X,U))):x||(X=Wc(h,S),X!=null&&C.push(ku(h,X,U)))),h=h.return}C.length!==0&&o.push({event:c,listeners:C})}var oV=/\r\n?/g,lV=/\u0000|\uFFFD/g;function LA(o){return(typeof o=="string"?o:""+o).replace(oV,`
`).replace(lV,"")}function IA(o,c){return c=LA(c),LA(o)===c}function Eh(){}function vt(o,c,h,g,x,S){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ml(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ml(o,""+g);break;case"className":Rf(o,"class",g);break;case"tabIndex":Rf(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Rf(o,h,g);break;case"style":z2(o,g,S);break;case"data":if(c!=="object"){Rf(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=$f(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&vt(o,c,"name",x.name,x,null),vt(o,c,"formEncType",x.formEncType,x,null),vt(o,c,"formMethod",x.formMethod,x,null),vt(o,c,"formTarget",x.formTarget,x,null)):(vt(o,c,"encType",x.encType,x,null),vt(o,c,"method",x.method,x,null),vt(o,c,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=$f(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Eh);break;case"onScroll":g!=null&&Qe("scroll",o);break;case"onScrollEnd":g!=null&&Qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=$f(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Qe("beforetoggle",o),Qe("toggle",o),Df(o,"popover",g);break;case"xlinkActuate":Qi(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Qi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Qi(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Qi(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Qi(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Qi(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Qi(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Qi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Qi(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Df(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=$z.get(h)||h,Df(o,h,g))}}function Fy(o,c,h,g,x,S){switch(h){case"style":z2(o,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?ml(o,g):(typeof g=="number"||typeof g=="bigint")&&ml(o,""+g);break;case"onScroll":g!=null&&Qe("scroll",o);break;case"onScrollEnd":g!=null&&Qe("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k2.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),c=h.slice(2,x?h.length-7:void 0),S=o[cr]||null,S=S!=null?S[h]:null,typeof S=="function"&&o.removeEventListener(c,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,x);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Df(o,h,g)}}}function Dn(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",o),Qe("load",o);var g=!1,x=!1,S;for(S in h)if(h.hasOwnProperty(S)){var C=h[S];if(C!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:vt(o,c,S,C,h,null)}}x&&vt(o,c,"srcSet",h.srcSet,h,null),g&&vt(o,c,"src",h.src,h,null);return;case"input":Qe("invalid",o);var P=S=C=x=null,U=null,X=null;for(g in h)if(h.hasOwnProperty(g)){var de=h[g];if(de!=null)switch(g){case"name":x=de;break;case"type":C=de;break;case"checked":U=de;break;case"defaultChecked":X=de;break;case"value":S=de;break;case"defaultValue":P=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:vt(o,c,g,de,h,null)}}R2(o,S,P,U,X,C,x,!1),Lf(o);return;case"select":Qe("invalid",o),g=C=S=null;for(x in h)if(h.hasOwnProperty(x)&&(P=h[x],P!=null))switch(x){case"value":S=P;break;case"defaultValue":C=P;break;case"multiple":g=P;default:vt(o,c,x,P,h,null)}c=S,h=C,o.multiple=!!g,c!=null?hl(o,!!g,c,!1):h!=null&&hl(o,!!g,h,!0);return;case"textarea":Qe("invalid",o),S=x=g=null;for(C in h)if(h.hasOwnProperty(C)&&(P=h[C],P!=null))switch(C){case"value":g=P;break;case"defaultValue":x=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:vt(o,c,C,P,h,null)}I2(o,g,x,S),Lf(o);return;case"option":for(U in h)if(h.hasOwnProperty(U)&&(g=h[U],g!=null))switch(U){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:vt(o,c,U,g,h,null)}return;case"dialog":Qe("beforetoggle",o),Qe("toggle",o),Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":Qe("load",o);break;case"video":case"audio":for(g=0;g<Mu.length;g++)Qe(Mu[g],o);break;case"image":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"embed":case"source":case"link":Qe("error",o),Qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in h)if(h.hasOwnProperty(X)&&(g=h[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:vt(o,c,X,g,h,null)}return;default:if(a0(c)){for(de in h)h.hasOwnProperty(de)&&(g=h[de],g!==void 0&&Fy(o,c,de,g,h,void 0));return}}for(P in h)h.hasOwnProperty(P)&&(g=h[P],g!=null&&vt(o,c,P,g,h,null))}function cV(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,C=null,P=null,U=null,X=null,de=null;for(ae in h){var ge=h[ae];if(h.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=ge;default:g.hasOwnProperty(ae)||vt(o,c,ae,null,g,ge)}}for(var te in g){var ae=g[te];if(ge=h[te],g.hasOwnProperty(te)&&(ae!=null||ge!=null))switch(te){case"type":S=ae;break;case"name":x=ae;break;case"checked":X=ae;break;case"defaultChecked":de=ae;break;case"value":C=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:ae!==ge&&vt(o,c,te,ae,g,ge)}}r0(o,C,P,U,X,de,S,x);return;case"select":ae=C=P=te=null;for(S in h)if(U=h[S],h.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ae=U;default:g.hasOwnProperty(S)||vt(o,c,S,null,g,U)}for(x in g)if(S=g[x],U=h[x],g.hasOwnProperty(x)&&(S!=null||U!=null))switch(x){case"value":te=S;break;case"defaultValue":P=S;break;case"multiple":C=S;default:S!==U&&vt(o,c,x,S,g,U)}c=P,h=C,g=ae,te!=null?hl(o,!!h,te,!1):!!g!=!!h&&(c!=null?hl(o,!!h,c,!0):hl(o,!!h,h?[]:"",!1));return;case"textarea":ae=te=null;for(P in h)if(x=h[P],h.hasOwnProperty(P)&&x!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(o,c,P,null,g,x)}for(C in g)if(x=g[C],S=h[C],g.hasOwnProperty(C)&&(x!=null||S!=null))switch(C){case"value":te=x;break;case"defaultValue":ae=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&vt(o,c,C,x,g,S)}L2(o,te,ae);return;case"option":for(var Be in h)if(te=h[Be],h.hasOwnProperty(Be)&&te!=null&&!g.hasOwnProperty(Be))switch(Be){case"selected":o.selected=!1;break;default:vt(o,c,Be,null,g,te)}for(U in g)if(te=g[U],ae=h[U],g.hasOwnProperty(U)&&te!==ae&&(te!=null||ae!=null))switch(U){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:vt(o,c,U,te,g,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in h)te=h[Ie],h.hasOwnProperty(Ie)&&te!=null&&!g.hasOwnProperty(Ie)&&vt(o,c,Ie,null,g,te);for(X in g)if(te=g[X],ae=h[X],g.hasOwnProperty(X)&&te!==ae&&(te!=null||ae!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,c));break;default:vt(o,c,X,te,g,ae)}return;default:if(a0(c)){for(var xt in h)te=h[xt],h.hasOwnProperty(xt)&&te!==void 0&&!g.hasOwnProperty(xt)&&Fy(o,c,xt,void 0,g,te);for(de in g)te=g[de],ae=h[de],!g.hasOwnProperty(de)||te===ae||te===void 0&&ae===void 0||Fy(o,c,de,te,g,ae);return}}for(var K in h)te=h[K],h.hasOwnProperty(K)&&te!=null&&!g.hasOwnProperty(K)&&vt(o,c,K,null,g,te);for(ge in g)te=g[ge],ae=h[ge],!g.hasOwnProperty(ge)||te===ae||te==null&&ae==null||vt(o,c,ge,te,g,ae)}var Hy=null,qy=null;function Th(o){return o.nodeType===9?o:o.ownerDocument}function $A(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zA(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Wy(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Gy=null;function uV(){var o=window.event;return o&&o.type==="popstate"?o===Gy?!1:(Gy=o,!0):(Gy=null,!1)}var BA=typeof setTimeout=="function"?setTimeout:void 0,dV=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,fV=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(o){return VA.resolve(null).then(o).catch(hV)}:BA;function hV(o){setTimeout(function(){throw o})}function ds(o){return o==="head"}function UA(o,c){var h=c,g=0,x=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<g&&8>g){h=g;var C=o.ownerDocument;if(h&1&&Cu(C.documentElement),h&2&&Cu(C.body),h&4)for(h=C.head,Cu(h),C=h.firstChild;C;){var P=C.nextSibling,U=C.nodeName;C[Hc]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=P}}if(x===0){o.removeChild(S),Iu(c);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:g=h.charCodeAt(0)-48;else g=0;h=S}while(h);Iu(c)}function Yy(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Yy(h),Jg(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function mV(o,c,h,g){for(;o.nodeType===1;){var x=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Hc])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=yi(o.nextSibling),o===null)break}return null}function pV(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=yi(o.nextSibling),o===null))return null;return o}function Ky(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function gV(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function yi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Zy=null;function FA(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function HA(o,c,h){switch(c=Th(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Cu(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Jg(o)}var Qr=new Map,qA=new Set;function Oh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var fa=z.d;z.d={f:yV,r:vV,D:xV,C:bV,L:wV,m:SV,X:NV,S:jV,M:_V};function yV(){var o=fa.f(),c=jh();return o||c}function vV(o){var c=cl(o);c!==null&&c.tag===5&&c.type==="form"?d_(c):fa.r(o)}var Fl=typeof document>"u"?null:document;function WA(o,c,h){var g=Fl;if(g&&typeof c=="string"&&c){var x=qr(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),qA.has(x)||(qA.add(x),o={rel:o,crossOrigin:h,href:c},g.querySelector(x)===null&&(c=g.createElement("link"),Dn(c,"link",o),Sn(c),g.head.appendChild(c)))}}function xV(o){fa.D(o),WA("dns-prefetch",o,null)}function bV(o,c){fa.C(o,c),WA("preconnect",o,c)}function wV(o,c,h){fa.L(o,c,h);var g=Fl;if(g&&o&&c){var x='link[rel="preload"][as="'+qr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+qr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+qr(h.imageSizes)+'"]')):x+='[href="'+qr(o)+'"]';var S=x;switch(c){case"style":S=Hl(o);break;case"script":S=ql(o)}Qr.has(S)||(o=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Qr.set(S,o),g.querySelector(x)!==null||c==="style"&&g.querySelector(Eu(S))||c==="script"&&g.querySelector(Tu(S))||(c=g.createElement("link"),Dn(c,"link",o),Sn(c),g.head.appendChild(c)))}}function SV(o,c){fa.m(o,c);var h=Fl;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+qr(g)+'"][href="'+qr(o)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ql(o)}if(!Qr.has(S)&&(o=m({rel:"modulepreload",href:o},c),Qr.set(S,o),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Tu(S)))return}g=h.createElement("link"),Dn(g,"link",o),Sn(g),h.head.appendChild(g)}}}function jV(o,c,h){fa.S(o,c,h);var g=Fl;if(g&&o){var x=ul(g).hoistableStyles,S=Hl(o);c=c||"default";var C=x.get(S);if(!C){var P={loading:0,preload:null};if(C=g.querySelector(Eu(S)))P.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Qr.get(S))&&Xy(o,h);var U=C=g.createElement("link");Sn(U),Dn(U,"link",o),U._p=new Promise(function(X,de){U.onload=X,U.onerror=de}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Ph(C,c,g)}C={type:"stylesheet",instance:C,count:1,state:P},x.set(S,C)}}}function NV(o,c){fa.X(o,c);var h=Fl;if(h&&o){var g=ul(h).hoistableScripts,x=ql(o),S=g.get(x);S||(S=h.querySelector(Tu(x)),S||(o=m({src:o,async:!0},c),(c=Qr.get(x))&&Qy(o,c),S=h.createElement("script"),Sn(S),Dn(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function _V(o,c){fa.M(o,c);var h=Fl;if(h&&o){var g=ul(h).hoistableScripts,x=ql(o),S=g.get(x);S||(S=h.querySelector(Tu(x)),S||(o=m({src:o,async:!0,type:"module"},c),(c=Qr.get(x))&&Qy(o,c),S=h.createElement("script"),Sn(S),Dn(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function GA(o,c,h,g){var x=(x=le.current)?Oh(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Hl(h.href),h=ul(x).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Hl(h.href);var S=ul(x).hoistableStyles,C=S.get(o);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,C),(S=x.querySelector(Eu(o)))&&!S._p&&(C.instance=S,C.state.loading=5),Qr.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Qr.set(o,h),S||AV(x,o,h,C.state))),c&&g===null)throw Error(r(528,""));return C}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ql(h),h=ul(x).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Hl(o){return'href="'+qr(o)+'"'}function Eu(o){return'link[rel="stylesheet"]['+o+"]"}function YA(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function AV(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Dn(c,"link",h),Sn(c),o.head.appendChild(c))}function ql(o){return'[src="'+qr(o)+'"]'}function Tu(o){return"script[async]"+o}function KA(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+qr(h.href)+'"]');if(g)return c.instance=g,Sn(g),g;var x=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Sn(g),Dn(g,"style",x),Ph(g,h.precedence,o),c.instance=g;case"stylesheet":x=Hl(h.href);var S=o.querySelector(Eu(x));if(S)return c.state.loading|=4,c.instance=S,Sn(S),S;g=YA(h),(x=Qr.get(x))&&Xy(g,x),S=(o.ownerDocument||o).createElement("link"),Sn(S);var C=S;return C._p=new Promise(function(P,U){C.onload=P,C.onerror=U}),Dn(S,"link",g),c.state.loading|=4,Ph(S,h.precedence,o),c.instance=S;case"script":return S=ql(h.src),(x=o.querySelector(Tu(S)))?(c.instance=x,Sn(x),x):(g=h,(x=Qr.get(S))&&(g=m({},h),Qy(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),Sn(x),Dn(x,"link",g),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Ph(g,h.precedence,o));return c.instance}function Ph(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,C=0;C<g.length;C++){var P=g[C];if(P.dataset.precedence===c)S=P;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Xy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Qy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Dh=null;function ZA(o,c,h){if(Dh===null){var g=new Map,x=Dh=new Map;x.set(h,g)}else x=Dh,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),x=0;x<h.length;x++){var S=h[x];if(!(S[Hc]||S[Hn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var C=S.getAttribute(c)||"";C=o+C;var P=g.get(C);P?P.push(S):g.set(C,[S])}}return g}function XA(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function MV(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function QA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ou=null;function kV(){}function CV(o,c,h){if(Ou===null)throw Error(r(475));var g=Ou;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Hl(h.href),S=o.querySelector(Eu(x));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Rh.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=S,Sn(S);return}S=o.ownerDocument||o,h=YA(h),(x=Qr.get(x))&&Xy(h,x),S=S.createElement("link"),Sn(S);var C=S;C._p=new Promise(function(P,U){C.onload=P,C.onerror=U}),Dn(S,"link",h),c.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Rh.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function EV(){if(Ou===null)throw Error(r(475));var o=Ou;return o.stylesheets&&o.count===0&&Jy(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&Jy(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Lh=null;function Jy(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Lh=new Map,c.forEach(TV,o),Lh=null,Rh.call(o))}function TV(o,c){if(!(c.state.loading&4)){var h=Lh.get(o);if(h)var g=h.get(null);else{h=new Map,Lh.set(o,h);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var C=x[S];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(h.set(C.dataset.precedence,C),g=C)}g&&h.set(null,g)}x=c.instance,C=x.getAttribute("data-precedence"),S=h.get(C)||g,S===g&&h.set(null,x),h.set(C,x),this.count++,g=Rh.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var Pu={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function OV(o,c,h,g,x,S,C,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kg(0),this.hiddenUpdates=Kg(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function JA(o,c,h,g,x,S,C,P,U,X,de,ge){return o=new OV(o,c,h,C,P,U,X,ge),c=1,S===!0&&(c|=24),S=jr(3,null,null,c),o.current=S,S.stateNode=o,c=D0(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:c},$0(S),o}function eM(o){return o?(o=Sl,o):Sl}function tM(o,c,h,g,x,S){x=eM(x),g.context===null?g.context=x:g.pendingContext=x,g=Qa(c),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=Ja(o,g,c),h!==null&&(kr(h,o,c),cu(h,o,c))}function nM(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function ev(o,c){nM(o,c),(o=o.alternate)&&nM(o,c)}function rM(o){if(o.tag===13){var c=wl(o,67108864);c!==null&&kr(c,o,67108864),ev(o,67108864)}}var Ih=!0;function PV(o,c,h,g){var x=H.T;H.T=null;var S=z.p;try{z.p=2,tv(o,c,h,g)}finally{z.p=S,H.T=x}}function DV(o,c,h,g){var x=H.T;H.T=null;var S=z.p;try{z.p=8,tv(o,c,h,g)}finally{z.p=S,H.T=x}}function tv(o,c,h,g){if(Ih){var x=nv(g);if(x===null)Uy(o,c,g,$h,h),aM(o,g);else if(LV(x,o,c,h,g))g.stopPropagation();else if(aM(o,g),c&4&&-1<RV.indexOf(o)){for(;x!==null;){var S=cl(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var C=Xi(S.pendingLanes);if(C!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var U=1<<31-ct(C);P.entanglements[1]|=U,C&=~U}Ti(S),(ut&6)===0&&(wh=Ye()+500,Au(0))}}break;case 13:P=wl(S,2),P!==null&&kr(P,S,2),jh(),ev(S,2)}if(S=nv(g),S===null&&Uy(o,c,g,$h,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else Uy(o,c,g,null,h)}}function nv(o){return o=o0(o),rv(o)}var $h=null;function rv(o){if($h=null,o=ll(o),o!==null){var c=a(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=s(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return $h=o,null}function iM(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case ce:return 2;case T:return 8;case B:case Y:return 32;case fe:return 268435456;default:return 32}default:return 32}}var iv=!1,fs=null,hs=null,ms=null,Du=new Map,Ru=new Map,ps=[],RV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aM(o,c){switch(o){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Du.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(c.pointerId)}}function Lu(o,c,h,g,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},c!==null&&(c=cl(c),c!==null&&rM(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function LV(o,c,h,g,x){switch(c){case"focusin":return fs=Lu(fs,o,c,h,g,x),!0;case"dragenter":return hs=Lu(hs,o,c,h,g,x),!0;case"mouseover":return ms=Lu(ms,o,c,h,g,x),!0;case"pointerover":var S=x.pointerId;return Du.set(S,Lu(Du.get(S)||null,o,c,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,Ru.set(S,Lu(Ru.get(S)||null,o,c,h,g,x)),!0}return!1}function sM(o){var c=ll(o.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=s(h),c!==null){o.blockedOn=c,Cz(o.priority,function(){if(h.tag===13){var g=Mr();g=Zg(g);var x=wl(h,g);x!==null&&kr(x,h,g),ev(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=nv(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);s0=g,h.target.dispatchEvent(g),s0=null}else return c=cl(h),c!==null&&rM(c),o.blockedOn=h,!1;c.shift()}return!0}function oM(o,c,h){zh(o)&&h.delete(c)}function IV(){iv=!1,fs!==null&&zh(fs)&&(fs=null),hs!==null&&zh(hs)&&(hs=null),ms!==null&&zh(ms)&&(ms=null),Du.forEach(oM),Ru.forEach(oM)}function Bh(o,c){o.blockedOn===c&&(o.blockedOn=null,iv||(iv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IV)))}var Vh=null;function lM(o){Vh!==o&&(Vh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vh===o&&(Vh=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],x=o[c+2];if(typeof g!="function"){if(rv(g||h)===null)continue;break}var S=cl(h);S!==null&&(o.splice(c,3),c-=3,ry(S,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function Iu(o){function c(U){return Bh(U,o)}fs!==null&&Bh(fs,o),hs!==null&&Bh(hs,o),ms!==null&&Bh(ms,o),Du.forEach(c),Ru.forEach(c);for(var h=0;h<ps.length;h++){var g=ps[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<ps.length&&(h=ps[0],h.blockedOn===null);)sM(h),h.blockedOn===null&&ps.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],S=h[g+1],C=x[cr]||null;if(typeof S=="function")C||lM(h);else if(C){var P=null;if(S&&S.hasAttribute("formAction")){if(x=S,C=S[cr]||null)P=C.formAction;else if(rv(x)!==null)continue}else P=C.action;typeof P=="function"?h[g+1]=P:(h.splice(g,3),g-=3),lM(h)}}}function av(o){this._internalRoot=o}Uh.prototype.render=av.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Mr();tM(h,g,o,c,null,null)},Uh.prototype.unmount=av.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;tM(o.current,2,null,o,null,null),jh(),c[ol]=null}};function Uh(o){this._internalRoot=o}Uh.prototype.unstable_scheduleHydration=function(o){if(o){var c=_2();o={blockedOn:null,target:o,priority:c};for(var h=0;h<ps.length&&c!==0&&c<ps[h].priority;h++);ps.splice(h,0,o),h===0&&sM(o)}};var cM=t.version;if(cM!=="19.1.1")throw Error(r(527,cM,"19.1.1"));z.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var $V={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{je=Fh.inject($V),ze=Fh}catch{}}return zu.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",x=__,S=A_,C=M_,P=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(P=c.unstable_transitionCallbacks)),c=JA(o,1,!1,null,null,h,g,x,S,C,P,null),o[ol]=c.current,Vy(o),new av(c)},zu.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,x="",S=__,C=A_,P=M_,U=null,X=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(C=h.onCaughtError),h.onRecoverableError!==void 0&&(P=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(U=h.unstable_transitionCallbacks),h.formState!==void 0&&(X=h.formState)),c=JA(o,1,!0,c,h??null,g,x,S,C,P,U,X),c.context=eM(null),h=c.current,g=Mr(),g=Zg(g),x=Qa(g),x.callback=null,Ja(h,x,g),h=g,c.current.lanes=h,Fc(c,h),Ti(c),o[ol]=c.current,Vy(o),new Uh(c)},zu.version="19.1.1",zu}var xM;function KV(){if(xM)return lv.exports;xM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lv.exports=YV(),lv.exports}var ZV=KV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bM="popstate";function XV(e={}){function t(r,i){let{pathname:a,search:s,hash:l}=r.location;return Ab("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Md(i)}return JV(t,n,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QV(){return Math.random().toString(36).substring(2,10)}function wM(e,t){return{usr:e.state,key:e.key,idx:t}}function Ab(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ac(t):t,state:n,key:t&&t.key||r||QV()}}function Md({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ac(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function JV(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",u=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){l="POP";let j=m(),A=j==null?null:j-f;f=j,u&&u({action:l,location:w.location,delta:A})}function y(j,A){l="PUSH";let _=Ab(w.location,j,A);f=m()+1;let k=wM(_,f),E=w.createHref(_);try{s.pushState(k,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(E)}a&&u&&u({action:l,location:w.location,delta:1})}function v(j,A){l="REPLACE";let _=Ab(w.location,j,A);f=m();let k=wM(_,f),E=w.createHref(_);s.replaceState(k,"",E),a&&u&&u({action:l,location:w.location,delta:0})}function b(j){return e8(j)}let w={get action(){return l},get location(){return e(i,s)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(bM,p),u=j,()=>{i.removeEventListener(bM,p),u=null}},createHref(j){return t(i,j)},createURL:b,encodeLocation(j){let A=b(j);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:v,go(j){return s.go(j)}};return w}function e8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Md(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function a5(e,t,n="/"){return t8(e,t,n,!1)}function t8(e,t,n,r){let i=typeof t=="string"?Ac(t):t,a=Ea(i.pathname||"/",n);if(a==null)return null;let s=s5(e);n8(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=h8(a);l=d8(s[u],f,r)}return l}function s5(e,t=[],n=[],r="",i=!1){let a=(s,l,u=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;Vt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=_a([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(Vt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),s5(s.children,t,y,p,u)),!(s.path==null&&!s.index)&&t.push({path:p,score:c8(p,s.index),routesMeta:y})};return e.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let u of o5(s.path))a(s,l,!0,u)}),t}function o5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=o5(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function n8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:u8(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var r8=/^:[\w-]+$/,i8=3,a8=2,s8=1,o8=10,l8=-2,SM=e=>e==="*";function c8(e,t){let n=e.split("/"),r=n.length;return n.some(SM)&&(r+=l8),t&&(r+=a8),n.filter(i=>!SM(i)).reduce((i,a)=>i+(r8.test(a)?i8:a===""?s8:o8),r)}function u8(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function d8(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=Um({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),y=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Um({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:_a([a,p.pathname]),pathnameBase:y8(_a([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=_a([a,p.pathnameBase]))}return s}function Um(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f8(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let b=l[y]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[y];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function f8(e,t=!1,n=!0){Hi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function h8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function m8(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ac(e):e;return{pathname:n?n.startsWith("/")?n:p8(n,t):t,search:v8(r),hash:x8(i)}}function p8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function l5(e){let t=g8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function c5(e,t,n,r=!1){let i;typeof e=="string"?i=Ac(e):(i={...e},Vt(!i.pathname||!i.pathname.includes("?"),fv("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),fv("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),fv("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?t[p]:"/"}let u=m8(i,l),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var _a=e=>e.join("/").replace(/\/\/+/g,"/"),y8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var u5=["POST","PUT","PATCH","DELETE"];new Set(u5);var w8=["GET",...u5];new Set(w8);var Mc=N.createContext(null);Mc.displayName="DataRouter";var qp=N.createContext(null);qp.displayName="DataRouterState";N.createContext(!1);var d5=N.createContext({isTransitioning:!1});d5.displayName="ViewTransition";var S8=N.createContext(new Map);S8.displayName="Fetchers";var j8=N.createContext(null);j8.displayName="Await";var Yi=N.createContext(null);Yi.displayName="Navigation";var rf=N.createContext(null);rf.displayName="Location";var Ki=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var hw=N.createContext(null);hw.displayName="RouteError";function N8(e,{relative:t}={}){Vt(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Yi),{hash:i,pathname:a,search:s}=of(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:_a([n,a])),r.createHref({pathname:l,search:s,hash:i})}function af(){return N.useContext(rf)!=null}function Ls(){return Vt(af(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(rf).location}var f5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h5(e){N.useContext(Yi).static||N.useLayoutEffect(e)}function sf(){let{isDataRoute:e}=N.useContext(Ki);return e?$8():_8()}function _8(){Vt(af(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Mc),{basename:t,navigator:n}=N.useContext(Yi),{matches:r}=N.useContext(Ki),{pathname:i}=Ls(),a=JSON.stringify(l5(r)),s=N.useRef(!1);return h5(()=>{s.current=!0}),N.useCallback((u,f={})=>{if(Hi(s.current,f5),!s.current)return;if(typeof u=="number"){n.go(u);return}let m=c5(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:_a([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}N.createContext(null);function A8(){let{matches:e}=N.useContext(Ki),t=e[e.length-1];return t?t.params:{}}function of(e,{relative:t}={}){let{matches:n}=N.useContext(Ki),{pathname:r}=Ls(),i=JSON.stringify(l5(n));return N.useMemo(()=>c5(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function M8(e,t){return m5(e,t)}function m5(e,t,n,r,i){Vt(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Yi),{matches:s}=N.useContext(Ki),l=s[s.length-1],u=l?l.params:{},f=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let _=p&&p.path||"";p5(f,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let y=Ls(),v;if(t){let _=typeof t=="string"?Ac(t):t;Vt(m==="/"||_.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=y;let b=v.pathname||"/",w=b;if(m!=="/"){let _=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=a5(e,{pathname:w});Hi(p||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Hi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=O8(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:_a([m,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:_a([m,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r,i);return t&&A?N.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function k8(){let e=I8(),t=b8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,s)}var C8=N.createElement(k8,null),E8=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(Ki.Provider,{value:this.props.routeContext},N.createElement(hw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T8({routeContext:e,match:t,children:n}){let r=N.useContext(Mc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ki.Provider,{value:e},n)}function O8(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let f=a.findIndex(m=>m.route.id&&s?.[m.route.id]!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:y}=n,v=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,m,p)=>{let y,v=!1,b=null,w=null;n&&(y=s&&m.route.id?s[m.route.id]:void 0,b=m.route.errorElement||C8,l&&(u<0&&p===0?(p5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===p&&(v=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,p+1)),A=()=>{let _;return y?_=b:v?_=w:m.route.Component?_=N.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,N.createElement(T8,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?N.createElement(E8,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:A(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):A()},null)}function mw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P8(e){let t=N.useContext(Mc);return Vt(t,mw(e)),t}function D8(e){let t=N.useContext(qp);return Vt(t,mw(e)),t}function R8(e){let t=N.useContext(Ki);return Vt(t,mw(e)),t}function pw(e){let t=R8(e),n=t.matches[t.matches.length-1];return Vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function L8(){return pw("useRouteId")}function I8(){let e=N.useContext(hw),t=D8("useRouteError"),n=pw("useRouteError");return e!==void 0?e:t.errors?.[n]}function $8(){let{router:e}=P8("useNavigate"),t=pw("useNavigate"),n=N.useRef(!1);return h5(()=>{n.current=!0}),N.useCallback(async(i,a={})=>{Hi(n.current,f5),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var jM={};function p5(e,t,n){!t&&!jM[e]&&(jM[e]=!0,Hi(!1,n))}N.memo(z8);function z8({routes:e,future:t,state:n,unstable_onError:r}){return m5(e,void 0,n,r,t)}function Cr(e){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B8({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Vt(!af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Ac(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,v=N.useMemo(()=>{let b=Ea(u,s);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:y},navigationType:r}},[s,u,f,m,p,y,r]);return Hi(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Yi.Provider,{value:l},N.createElement(rf.Provider,{children:t,value:v}))}function V8({children:e,location:t}){return M8(Mb(e),t)}function Mb(e,t=[]){let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let a=[...t,i];if(r.type===N.Fragment){n.push.apply(n,Mb(r.props.children,a));return}Vt(r.type===Cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Mb(r.props.children,a)),n.push(s)}),n}var Cm="get",Em="application/x-www-form-urlencoded";function Wp(e){return e!=null&&typeof e.tagName=="string"}function U8(e){return Wp(e)&&e.tagName.toLowerCase()==="button"}function F8(e){return Wp(e)&&e.tagName.toLowerCase()==="form"}function H8(e){return Wp(e)&&e.tagName.toLowerCase()==="input"}function q8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W8(e,t){return e.button===0&&(!t||t==="_self")&&!q8(e)}var Hh=null;function G8(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var Y8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(e){return e!=null&&!Y8.has(e)?(Hi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Em}"`),null):e}function K8(e,t){let n,r,i,a,s;if(F8(e)){let l=e.getAttribute("action");r=l?Ea(l,t):null,n=e.getAttribute("method")||Cm,i=hv(e.getAttribute("enctype"))||Em,a=new FormData(e)}else if(U8(e)||H8(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ea(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Cm,i=hv(e.getAttribute("formenctype"))||hv(l.getAttribute("enctype"))||Em,a=new FormData(l,e),!G8()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(Wp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cm,r=null,i=Em,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z8(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function X8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function J8(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await X8(a,n);return s.links?s.links():[]}return[]}));return r9(r.flat(1).filter(Q8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NM(e,t,n,r,i,a){let s=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>s(u,f)||l(u,f)):a==="data"?t.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function e9(e,t,{includeHydrateFallback:n}={}){return t9(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function t9(e){return[...new Set(e)]}function n9(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function r9(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(n9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function g5(){let e=N.useContext(Mc);return gw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function i9(){let e=N.useContext(qp);return gw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yw=N.createContext(void 0);yw.displayName="FrameworkContext";function y5(){let e=N.useContext(yw);return gw(e,"You must render this element inside a <HydratedRouter> element"),e}function a9(e,t){let n=N.useContext(yw),[r,i]=N.useState(!1),[a,s]=N.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=N.useRef(null);N.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=A=>{A.forEach(_=>{s(_.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Bu(l,v),onBlur:Bu(u,b),onMouseEnter:Bu(f,v),onMouseLeave:Bu(m,b),onTouchStart:Bu(p,v)}]:[!1,y,{}]}function Bu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function s9({page:e,...t}){let{router:n}=g5(),r=N.useMemo(()=>a5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(l9,{page:e,matches:r,...t}):null}function o9(e){let{manifest:t,routeModules:n}=y5(),[r,i]=N.useState([]);return N.useEffect(()=>{let a=!1;return J8(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function l9({page:e,matches:t,...n}){let r=Ls(),{manifest:i,routeModules:a}=y5(),{basename:s}=g5(),{loaderData:l,matches:u}=i9(),f=N.useMemo(()=>NM(e,t,u,i,r,"data"),[e,t,u,i,r]),m=N.useMemo(()=>NM(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(t.forEach(A=>{let _=i.routes[A.route.id];!_||!_.hasLoader||(!f.some(k=>k.route.id===A.route.id)&&A.route.id in l&&a[A.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:b.add(A.route.id))}),b.size===0)return[];let j=Z8(e,s,"data");return w&&b.size>0&&j.searchParams.set("_routes",t.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[j.pathname+j.search]},[s,l,r,i,f,t,e,a]),y=N.useMemo(()=>e9(m,i),[m,i]),v=o9(m);return N.createElement(N.Fragment,null,p.map(b=>N.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>N.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:w})=>N.createElement("link",{key:b,nonce:n.nonce,...w})))}function c9(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var v5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v5&&(window.__reactRouterVersion="7.9.1")}catch{}function u9({basename:e,children:t,window:n}){let r=N.useRef();r.current==null&&(r.current=XV({window:n,v5Compat:!0}));let i=r.current,[a,s]=N.useState({action:i.action,location:i.location}),l=N.useCallback(u=>{N.startTransition(()=>s(u))},[s]);return N.useLayoutEffect(()=>i.listen(l),[i,l]),N.createElement(B8,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var x5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xi=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:u,to:f,preventScrollReset:m,viewTransition:p,...y},v){let{basename:b}=N.useContext(Yi),w=typeof f=="string"&&x5.test(f),j,A=!1;if(typeof f=="string"&&w&&(j=f,v5))try{let R=new URL(window.location.href),F=f.startsWith("//")?new URL(R.protocol+f):new URL(f),I=Ea(F.pathname,b);F.origin===R.origin&&I!=null?f=I+F.search+F.hash:A=!0}catch{Hi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=N8(f,{relative:i}),[k,E,M]=a9(r,y),O=m9(f,{replace:s,state:l,target:u,preventScrollReset:m,relative:i,viewTransition:p});function L(R){t&&t(R),R.defaultPrevented||O(R)}let D=N.createElement("a",{...y,...M,href:j||_,onClick:A||a?t:L,ref:c9(v,E),target:u,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?N.createElement(N.Fragment,null,D,N.createElement(s9,{page:_})):D});xi.displayName="Link";var d9=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:u,...f},m){let p=of(s,{relative:f.relative}),y=Ls(),v=N.useContext(qp),{navigator:b,basename:w}=N.useContext(Yi),j=v!=null&&x9(p)&&l===!0,A=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,_=y.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&w&&(k=Ea(k,w)||k);const E=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=_===A||!i&&_.startsWith(A)&&_.charAt(E)==="/",O=k!=null&&(k===A||!i&&k.startsWith(A)&&k.charAt(A.length)==="/"),L={isActive:M,isPending:O,isTransitioning:j},D=M?t:void 0,R;typeof r=="function"?R=r(L):R=[r,M?"active":null,O?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(L):a;return N.createElement(xi,{...f,"aria-current":D,className:R,ref:m,style:F,to:s,viewTransition:l},typeof u=="function"?u(L):u)});d9.displayName="NavLink";var f9=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Cm,action:l,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...y},v)=>{let b=y9(),w=v9(l,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&x5.test(l),_=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,M=E?.getAttribute("formmethod")||s;b(E||k.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p})};return N.createElement("form",{ref:v,method:j,action:w,onSubmit:r?u:_,...y,"data-discover":!A&&e==="render"?"true":void 0})});f9.displayName="Form";function h9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b5(e){let t=N.useContext(Mc);return Vt(t,h9(e)),t}function m9(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=sf(),u=Ls(),f=of(e,{relative:a});return N.useCallback(m=>{if(W8(m,t)){m.preventDefault();let p=n!==void 0?n:Md(u)===Md(f);l(e,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[u,l,f,n,r,t,e,i,a,s])}var p9=0,g9=()=>`__${String(++p9)}__`;function y9(){let{router:e}=b5("useSubmit"),{basename:t}=N.useContext(Yi),n=L8();return N.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:u,body:f}=K8(r,t);if(i.navigate===!1){let m=i.fetcherKey||g9();await e.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function v9(e,{relative:t}={}){let{basename:n}=N.useContext(Yi),r=N.useContext(Ki);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...of(e||".",{relative:t})},s=Ls();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(m=>m==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let m=l.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_a([n,a.pathname])),Md(a)}function x9(e,{relative:t}={}){let n=N.useContext(d5);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b5("useViewTransitionState"),i=of(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Um(i.pathname,s)!=null||Um(i.pathname,a)!=null}var b9=i5();const _M=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,y))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,l);return l},w9=(e=>e?_M(e):_M),S9=e=>e;function j9(e,t=S9){const n=ln.useSyncExternalStore(e.subscribe,ln.useCallback(()=>t(e.getState()),[e,t]),ln.useCallback(()=>t(e.getInitialState()),[e,t]));return ln.useDebugValue(n),n}const AM=e=>{const t=w9(e),n=r=>j9(t,r);return Object.assign(n,t),n},Vr=(e=>e?AM(e):AM),N9=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=((s,l,u)=>{let f=s;if(l){const m=u?.equalityFn||Object.is;let p=s(r.getState());f=y=>{const v=s(y);if(!m(p,v)){const b=p;l(p=v,b)}},u?.fireImmediately&&l(p,p)}return i(f)}),e(t,n,r)},lf=N9;function _9(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const kb=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return kb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kb(r)(n)}}}},A9=(e,t)=>(n,r,i)=>{let a={storage:_9(()=>localStorage),partialize:w=>w,version:0,merge:(w,j)=>({...j,...w}),...t},s=!1;const l=new Set,u=new Set;let f=a.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const m=()=>{const w=a.partialize({...r()});return f.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,j)=>(p(w,j),m());const y=e((...w)=>(n(...w),m()),r,i);i.getInitialState=()=>y;let v;const b=()=>{var w,j;if(!f)return;s=!1,l.forEach(_=>{var k;return _((k=r())!=null?k:y)});const A=((j=a.onRehydrateStorage)==null?void 0:j.call(a,(w=r())!=null?w:y))||void 0;return kb(f.getItem.bind(f))(a.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==a.version){if(a.migrate){const k=a.migrate(_.state,_.version);return k instanceof Promise?k.then(E=>[!0,E]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var k;const[E,M]=_;if(v=a.merge(M,(k=r())!=null?k:y),n(v,!0),E)return m()}).then(()=>{A?.(v,void 0),v=r(),s=!0,u.forEach(_=>_(v))}).catch(_=>{A?.(void 0,_)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>s,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||b(),v||y},Gp=A9;class M9{get(t){try{const n=localStorage.getItem(t);return n?JSON.parse(n):null}catch(n){return console.error("Error getting item from localStorage:",n),null}}set(t,n){try{localStorage.setItem(t,JSON.stringify(n))}catch(r){throw console.error("Error setting item to localStorage:",r),r}}remove(t){try{localStorage.removeItem(t)}catch(n){console.error("Error removing item from localStorage:",n)}}getAllKeys(){try{return Object.keys(localStorage)}catch(t){return console.error("Error getting keys from localStorage:",t),[]}}clear(){try{localStorage.clear()}catch(t){console.error("Error clearing localStorage:",t)}}}const tt=new M9,Cb=1,Rn="vivaa",Ue={VERSION:`${Rn}:version`,CURRENT_CLASS_ID:`${Rn}:currentClassId`,CLASSROOMS:`${Rn}:classrooms`,STUDENTS:`${Rn}:students`,JOBS:`${Rn}:jobs`,ITEMS:`${Rn}:items`,TRANSACTIONS:`${Rn}:transactions`,APPROVALS:`${Rn}:approvals`,SAVINGS_ACCOUNTS:`${Rn}:savingsAccounts`,STOCKS:`${Rn}:stocks`,STOCK_TRANSACTIONS:`${Rn}:stockTransactions`,STOCK_PORTFOLIOS:`${Rn}:stockPortfolios`,ACHIEVEMENTS:`${Rn}:achievements`,STUDENT_ACHIEVEMENTS:`${Rn}:studentAchievements`,MARKET_NEWS:`${Rn}:marketNews`,MARKET_INDICATORS:`${Rn}:marketIndicators`,STOCK_PRICE_HISTORY:`${Rn}:stockPriceHistory`},k9=e=>e===Cb,C9=(e,t)=>{if(console.log(`Migrating storage from version ${e} to ${t}`),e===null){console.log("Initializing storage for first time");return}},E9="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let T9=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=E9[n[e]&63];return t};const w5=6048e5,O9=864e5,MM=Symbol.for("constructDateFrom");function Es(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&MM in e?e[MM](t):e instanceof Date?new e.constructor(t):new Date(t)}function _i(e,t){return Es(t||e,e)}let P9={};function Yp(){return P9}function kd(e,t){const n=Yp(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_i(e,t?.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Fm(e,t){return kd(e,{...t,weekStartsOn:1})}function S5(e,t){const n=_i(e,t?.in),r=n.getFullYear(),i=Es(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Fm(i),s=Es(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const l=Fm(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function kM(e){const t=_i(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function D9(e,...t){const n=Es.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function CM(e,t){const n=_i(e,t?.in);return n.setHours(0,0,0,0),n}function R9(e,t,n){const[r,i]=D9(n?.in,e,t),a=CM(r),s=CM(i),l=+a-kM(a),u=+s-kM(s);return Math.round((l-u)/O9)}function L9(e,t){const n=S5(e,t),r=Es(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Fm(r)}function I9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $9(e){return!(!I9(e)&&typeof e!="number"||isNaN(+_i(e)))}function z9(e,t){const n=_i(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const B9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V9=(e,t,n)=>{let r;const i=B9[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ac(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const U9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q9={date:ac({formats:U9,defaultWidth:"full"}),time:ac({formats:F9,defaultWidth:"full"}),dateTime:ac({formats:H9,defaultWidth:"full"})},W9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G9=(e,t,n,r)=>W9[e];function Li(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Y9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tU={ordinalNumber:eU,era:Li({values:Y9,defaultWidth:"wide"}),quarter:Li({values:K9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Li({values:Z9,defaultWidth:"wide"}),day:Li({values:X9,defaultWidth:"wide"}),dayPeriod:Li({values:Q9,defaultWidth:"wide",formattingValues:J9,defaultFormattingWidth:"wide"})};function Ii(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?rU(l,p=>p.test(s)):nU(l,p=>p.test(s));let f;f=e.valueCallback?e.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(s.length);return{value:f,rest:m}}}function nU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function rU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function j5(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const iU=/^(\d+)(th|st|nd|rd)?/i,aU=/\d+/i,sU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oU={any:[/^b/i,/^(a|c)/i]},lU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cU={any:[/1/i,/2/i,/3/i,/4/i]},uU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gU={ordinalNumber:j5({matchPattern:iU,parsePattern:aU,valueCallback:e=>parseInt(e,10)}),era:Ii({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:oU,defaultParseWidth:"any"}),quarter:Ii({matchPatterns:lU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ii({matchPatterns:uU,defaultMatchWidth:"wide",parsePatterns:dU,defaultParseWidth:"any"}),day:Ii({matchPatterns:fU,defaultMatchWidth:"wide",parsePatterns:hU,defaultParseWidth:"any"}),dayPeriod:Ii({matchPatterns:mU,defaultMatchWidth:"any",parsePatterns:pU,defaultParseWidth:"any"})},yU={code:"en-US",formatDistance:V9,formatLong:q9,formatRelative:G9,localize:tU,match:gU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vU(e,t){const n=_i(e,t?.in);return R9(n,z9(n))+1}function xU(e,t){const n=_i(e,t?.in),r=+Fm(n)-+L9(n);return Math.round(r/w5)+1}function N5(e,t){const n=_i(e,t?.in),r=n.getFullYear(),i=Yp(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Es(t?.in||e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=kd(s,t),u=Es(t?.in||e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const f=kd(u,t);return+n>=+l?r+1:+n>=+f?r:r-1}function bU(e,t){const n=Yp(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=N5(e,t),a=Es(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),kd(a,t)}function wU(e,t){const n=_i(e,t?.in),r=+kd(n,t)-+bU(n,t);return Math.round(r/w5)+1}function ft(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ys={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ft(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ft(n+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ft(i,t.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EM={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ys.y(e,t)},Y:function(e,t,n,r){const i=N5(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return ft(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ft(a,t.length)},R:function(e,t){const n=S5(e);return ft(n,t.length)},u:function(e,t){const n=e.getFullYear();return ft(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ys.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=wU(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):ft(i,t.length)},I:function(e,t,n){const r=xU(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ft(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ys.d(e,t)},D:function(e,t,n){const r=vU(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ft(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ft(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return ft(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Wl.noon:r===0?i=Wl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Wl.evening:r>=12?i=Wl.afternoon:r>=4?i=Wl.morning:i=Wl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ys.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ys.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ys.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ys.s(e,t)},S:function(e,t){return ys.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return OM(r);case"XXXX":case"XX":return po(r);case"XXXXX":case"XXX":default:return po(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return OM(r);case"xxxx":case"xx":return po(r);case"xxxxx":case"xxx":default:return po(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+TM(r,":");case"OOOO":default:return"GMT"+po(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+TM(r,":");case"zzzz":default:return"GMT"+po(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return ft(r,t.length)},T:function(e,t,n){return ft(+e,t.length)}};function TM(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+ft(a,2)}function OM(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):po(e,t)}function po(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=ft(Math.trunc(r/60),2),a=ft(r%60,2);return n+i+t+a}const PM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SU=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return PM(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",PM(r,t)).replace("{{time}}",_5(i,t))},jU={p:_5,P:SU},NU=/^D+$/,_U=/^Y+$/,AU=["D","DD","YY","YYYY"];function MU(e){return NU.test(e)}function kU(e){return _U.test(e)}function CU(e,t,n){const r=EU(e,t,n);if(console.warn(r),AU.includes(e))throw new RangeError(r)}function EU(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PU=/^'([^]*?)'?$/,DU=/''/g,RU=/[a-zA-Z]/;function Vu(e,t,n){const r=Yp(),i=n?.locale??r.locale??yU,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=_i(e,n?.in);if(!$9(l))throw new RangeError("Invalid time value");let u=t.match(OU).map(m=>{const p=m[0];if(p==="p"||p==="P"){const y=jU[p];return y(m,i.formatLong)}return m}).join("").match(TU).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:LU(m)};if(EM[p])return{isToken:!0,value:m};if(p.match(RU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const f={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&kU(p)||!n?.useAdditionalDayOfYearTokens&&MU(p))&&CU(p,t,String(e));const y=EM[p[0]];return y(l,p,i.localize,f)}).join("")}function LU(e){const t=e.match(PU);return t?t[1].replace(DU,"'"):e}const vw=()=>T9(),To=()=>new Date().toISOString(),DM=()=>Math.floor(1e3+Math.random()*9e3).toString(),IU=()=>{console.log("Starting legacy data migration...");try{const t=(qh("vivaatown_classes")||[]).map(l=>({id:l.id,name:l.name,currencyUnit:l.currencyUnit||"원",treasury:l.treasury||0,donation:l.donation||0,createdAt:To(),settings:{taxRate:10,payCycle:"weekly",approvalRequired:!0,salaryBase:1e3}}));t.length>0&&(tt.set(Ue.CLASSROOMS,t),console.log(`Migrated ${t.length} classrooms`));const r=(qh("vivaatown_students")||[]).map(l=>({id:l.id,classroomId:l.classId,name:l.name,pin4:$U(),balance:l.balance||0,active:!0,createdAt:To()}));r.length>0&&(tt.set(Ue.STUDENTS,r),console.log(`Migrated ${r.length} students`));const a=(qh("vivaatown_jobs")||[]).map(l=>({id:l.id,classroomId:l.classId,title:l.title,description:l.description,salary:l.salary,maxPositions:l.maxPositions,currentPositions:l.currentPositions||0}));a.length>0&&(tt.set(Ue.JOBS,a),console.log(`Migrated ${a.length} jobs`));const s=qh("vivaatown_current_class");s&&(tt.set(Ue.CURRENT_CLASS_ID,s),console.log("Migrated current class ID")),console.log("Legacy data migration completed successfully")}catch(e){console.error("Failed to migrate legacy data:",e)}},qh=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},$U=()=>Math.floor(1e3+Math.random()*9e3).toString(),zU=()=>["vivaatown_classes","vivaatown_students","vivaatown_jobs","vivaatown_current_class"].some(t=>localStorage.getItem(t)!==null),BU=()=>{["vivaatown_classes","vivaatown_students","vivaatown_jobs","vivaatown_transactions","vivaatown_items","vivaatown_current_class"].forEach(t=>{localStorage.removeItem(t)}),console.log("Legacy data cleanup completed")},Xo=Vr()(lf((e,t)=>({isInitialized:!1,currentClassId:null,initialize:()=>{try{console.log("Initializing app..."),zU()&&(console.log("Legacy data detected, migrating..."),IU(),BU());const n=tt.get(Ue.VERSION);k9(n)||(console.log("Storage version mismatch, migrating..."),C9(n,Cb),tt.set(Ue.VERSION,Cb));const r=tt.get(Ue.CURRENT_CLASS_ID);e({isInitialized:!0,currentClassId:r}),console.log("App initialized successfully")}catch(n){console.error("Failed to initialize app:",n),e({isInitialized:!0})}},setCurrentClassId:n=>{e({currentClassId:n}),n?tt.set(Ue.CURRENT_CLASS_ID,n):tt.remove(Ue.CURRENT_CLASS_ID)},resetApp:()=>{try{tt.getAllKeys().forEach(r=>{r.startsWith("vivaa:")&&tt.remove(r)}),e({isInitialized:!1,currentClassId:null}),t().initialize()}catch(n){console.error("Failed to reset app:",n)}}})));Xo.subscribe(e=>e.currentClassId,e=>{e?tt.set(Ue.CURRENT_CLASS_ID,e):tt.remove(Ue.CURRENT_CLASS_ID)});function pe(e,t,n){function r(l,u){var f;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(f=l._zod).traits??(f.traits=new Set),l._zod.traits.add(e),t(l,u);for(const m in s.prototype)m in l||Object.defineProperty(l,m,{value:s.prototype[m].bind(l)});l._zod.constr=s,l._zod.def=u}const i=n?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(l){var u;const f=n?.Parent?new a:this;r(f,l),(u=f._zod).deferred??(u.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class sc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class A5 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const M5={};function Bo(e){return M5}function VU(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Eb(e,t){return typeof t=="bigint"?t.toString():t}function xw(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function bw(e){return e==null}function ww(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function UU(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}const a=n>i?n:i,s=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return s%l/10**a}const RM=Symbol("evaluating");function At(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==RM)return r===void 0&&(r=RM,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Qo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Jo(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function LM(e){return JSON.stringify(e)}const k5="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Hm(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const FU=xw(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Cd(e){if(Hm(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Hm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function C5(e){return Cd(e)?{...e}:Array.isArray(e)?[...e]:e}const HU=new Set(["string","number","symbol"]);function Kp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Is(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Re(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qU(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const WU={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function GU(e,t){const n=e._zod.def,r=Jo(e._zod.def,{get shape(){const i={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(i[a]=n.shape[a])}return Qo(this,"shape",i),i},checks:[]});return Is(e,r)}function YU(e,t){const n=e._zod.def,r=Jo(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete i[a]}return Qo(this,"shape",i),i},checks:[]});return Is(e,r)}function KU(e,t){if(!Cd(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Jo(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Qo(this,"shape",a),a},checks:[]});return Is(e,i)}function ZU(e,t){if(!Cd(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Qo(this,"shape",r),r},checks:e._zod.def.checks};return Is(e,n)}function XU(e,t){const n=Jo(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Qo(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Is(e,n)}function QU(e,t,n){const r=Jo(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=e?new e({type:"optional",innerType:i[s]}):i[s])}else for(const s in i)a[s]=e?new e({type:"optional",innerType:i[s]}):i[s];return Qo(this,"shape",a),a},checks:[]});return Is(t,r)}function JU(e,t,n){const r=Jo(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(n)for(const s in n){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return Qo(this,"shape",a),a},checks:[]});return Is(t,r)}function Ql(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function E5(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Wh(e){return typeof e=="string"?e:e?.message}function Vo(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=Wh(e.inst?._zod.def?.error?.(e))??Wh(t?.error?.(e))??Wh(n.customError?.(e))??Wh(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Sw(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ed(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const T5=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Eb,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},O5=pe("$ZodError",T5),P5=pe("$ZodError",T5,{Parent:Error});function e7(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function t7(e,t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>i({issues:l}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let l=r,u=0;for(;u<s.path.length;){const f=s.path[u];u===s.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(s))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(e),r}const jw=e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new sc;if(s.issues.length){const l=new(i?.Err??e)(s.issues.map(u=>Vo(u,a,Bo())));throw k5(l,i?.callee),l}return s.value},Nw=e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const l=new(i?.Err??e)(s.issues.map(u=>Vo(u,a,Bo())));throw k5(l,i?.callee),l}return s.value},Zp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new sc;return a.issues.length?{success:!1,error:new(e??O5)(a.issues.map(s=>Vo(s,i,Bo())))}:{success:!0,data:a.value}},n7=Zp(P5),Xp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>Vo(s,i,Bo())))}:{success:!0,data:a.value}},r7=Xp(P5),i7=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jw(e)(t,n,i)},a7=e=>(t,n,r)=>jw(e)(t,n,r),s7=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nw(e)(t,n,i)},o7=e=>async(t,n,r)=>Nw(e)(t,n,r),l7=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zp(e)(t,n,i)},c7=e=>(t,n,r)=>Zp(e)(t,n,r),u7=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xp(e)(t,n,i)},d7=e=>async(t,n,r)=>Xp(e)(t,n,r),f7=/^[cC][^\s-]{8,}$/,h7=/^[0-9a-z]+$/,m7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,p7=/^[0-9a-vA-V]{20}$/,g7=/^[A-Za-z0-9]{27}$/,y7=/^[a-zA-Z0-9_-]{21}$/,v7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,x7=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,IM=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,b7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,w7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function S7(){return new RegExp(w7,"u")}const j7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_7=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,A7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M7=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,D5=/^[A-Za-z0-9_-]*$/,k7=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,C7=/^\+(?:[0-9]){6,14}[0-9]$/,R5="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",E7=new RegExp(`^${R5}$`);function L5(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function T7(e){return new RegExp(`^${L5(e)}$`)}function O7(e){const t=L5({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${R5}T(?:${r})$`)}const P7=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},D7=/^-?\d+$/,R7=/^-?\d+(?:\.\d+)?/,L7=/^(?:true|false)$/i,I7=/^[^A-Z]*$/,$7=/^[^a-z]*$/,wr=pe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),I5={number:"number",bigint:"bigint",object:"date"},$5=pe("$ZodCheckLessThan",(e,t)=>{wr.init(e,t);const n=I5[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),z5=pe("$ZodCheckGreaterThan",(e,t)=>{wr.init(e,t);const n=I5[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),z7=pe("$ZodCheckMultipleOf",(e,t)=>{wr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):UU(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),B7=pe("$ZodCheckNumberFormat",(e,t)=>{wr.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,a]=WU[t.format];e._zod.onattach.push(s=>{const l=s._zod.bag;l.format=t.format,l.minimum=i,l.maximum=a,n&&(l.pattern=D7)}),e._zod.check=s=>{const l=s.value;if(n){if(!Number.isInteger(l)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?s.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<i&&s.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>a&&s.issues.push({origin:"number",input:l,code:"too_big",maximum:a,inst:e})}}),V7=pe("$ZodCheckMaxLength",(e,t)=>{var n;wr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!bw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=Sw(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),U7=pe("$ZodCheckMinLength",(e,t)=>{var n;wr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!bw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=Sw(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),F7=pe("$ZodCheckLengthEquals",(e,t)=>{var n;wr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!bw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,a=i.length;if(a===t.length)return;const s=Sw(i),l=a>t.length;r.issues.push({origin:s,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Qp=pe("$ZodCheckStringFormat",(e,t)=>{var n,r;wr.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),H7=pe("$ZodCheckRegex",(e,t)=>{Qp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),q7=pe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=I7),Qp.init(e,t)}),W7=pe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=$7),Qp.init(e,t)}),G7=pe("$ZodCheckIncludes",(e,t)=>{wr.init(e,t);const n=Kp(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Y7=pe("$ZodCheckStartsWith",(e,t)=>{wr.init(e,t);const n=new RegExp(`^${Kp(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),K7=pe("$ZodCheckEndsWith",(e,t)=>{wr.init(e,t);const n=new RegExp(`.*${Kp(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Z7=pe("$ZodCheckOverwrite",(e,t)=>{wr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class X7{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),a=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...n,i.join(`
`))}}const Q7={major:4,minor:1,patch:11},tn=pe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Q7;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const a of i._zod.onattach)a(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,l,u)=>{let f=Ql(s),m;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(f)continue;const y=s.issues.length,v=p._zod.check(s);if(v instanceof Promise&&u?.async===!1)throw new sc;if(m||v instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await v,s.issues.length!==y&&(f||(f=Ql(s,y)))});else{if(s.issues.length===y)continue;f||(f=Ql(s,y))}}return m?m.then(()=>s):s},a=(s,l,u)=>{if(Ql(s))return s.aborted=!0,s;const f=i(l,r,u);if(f instanceof Promise){if(u.async===!1)throw new sc;return f.then(m=>e._zod.parse(m,u))}return e._zod.parse(f,u)};e._zod.run=(s,l)=>{if(l.skipChecks)return e._zod.parse(s,l);if(l.direction==="backward"){const f=e._zod.parse({value:s.value,issues:[]},{...l,skipChecks:!0});return f instanceof Promise?f.then(m=>a(m,s,l)):a(f,s,l)}const u=e._zod.parse(s,l);if(u instanceof Promise){if(l.async===!1)throw new sc;return u.then(f=>i(f,r,l))}return i(u,r,l)}}e["~standard"]={validate:i=>{try{const a=n7(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return r7(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),_w=pe("$ZodString",(e,t)=>{tn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??P7(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Rt=pe("$ZodStringFormat",(e,t)=>{Qp.init(e,t),_w.init(e,t)}),J7=pe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=x7),Rt.init(e,t)}),eF=pe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=IM(r))}else t.pattern??(t.pattern=IM());Rt.init(e,t)}),tF=pe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=b7),Rt.init(e,t)}),nF=pe("$ZodURL",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:k7.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),rF=pe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=S7()),Rt.init(e,t)}),iF=pe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=y7),Rt.init(e,t)}),aF=pe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=f7),Rt.init(e,t)}),sF=pe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=h7),Rt.init(e,t)}),oF=pe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=m7),Rt.init(e,t)}),lF=pe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=p7),Rt.init(e,t)}),cF=pe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=g7),Rt.init(e,t)}),uF=pe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=O7(t)),Rt.init(e,t)}),dF=pe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=E7),Rt.init(e,t)}),fF=pe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=T7(t)),Rt.init(e,t)}),hF=pe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=v7),Rt.init(e,t)}),mF=pe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=j7),Rt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),pF=pe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=N7),Rt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),gF=pe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=_7),Rt.init(e,t)}),yF=pe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=A7),Rt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function B5(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const vF=pe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=M7),Rt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{B5(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function xF(e){if(!D5.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return B5(n)}const bF=pe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=D5),Rt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{xF(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),wF=pe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=C7),Rt.init(e,t)});function SF(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const jF=pe("$ZodJWT",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{SF(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),V5=pe("$ZodNumber",(e,t)=>{tn.init(e,t),e._zod.pattern=e._zod.bag.pattern??R7,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),n}}),NF=pe("$ZodNumber",(e,t)=>{B7.init(e,t),V5.init(e,t)}),_F=pe("$ZodBoolean",(e,t)=>{tn.init(e,t),e._zod.pattern=L7,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),AF=pe("$ZodUnknown",(e,t)=>{tn.init(e,t),e._zod.parse=n=>n}),MF=pe("$ZodNever",(e,t)=>{tn.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function $M(e,t,n){e.issues.length&&t.issues.push(...E5(n,e.issues)),t.value[n]=e.value}const kF=pe("$ZodArray",(e,t)=>{tn.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const l=i[s],u=t.element._zod.run({value:l,issues:[]},r);u instanceof Promise?a.push(u.then(f=>$M(f,n,s))):$M(u,n,s)}return a.length?Promise.all(a).then(()=>n):n}});function qm(e,t,n,r){e.issues.length&&t.issues.push(...E5(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function U5(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=qU(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function F5(e,t,n,r,i,a){const s=[],l=i.keySet,u=i.catchall._zod,f=u.def.type;for(const m of Object.keys(t)){if(l.has(m))continue;if(f==="never"){s.push(m);continue}const p=u.run({value:t[m],issues:[]},r);p instanceof Promise?e.push(p.then(y=>qm(y,n,m,t))):qm(p,n,m,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const CF=pe("$ZodObject",(e,t)=>{if(tn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=xw(()=>U5(t));At(e._zod,"propValues",()=>{const l=t.shape,u={};for(const f in l){const m=l[f]._zod;if(m.values){u[f]??(u[f]=new Set);for(const p of m.values)u[f].add(p)}}return u});const i=Hm,a=t.catchall;let s;e._zod.parse=(l,u)=>{s??(s=r.value);const f=l.value;if(!i(f))return l.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),l;l.value={};const m=[],p=s.shape;for(const y of s.keys){const b=p[y]._zod.run({value:f[y],issues:[]},u);b instanceof Promise?m.push(b.then(w=>qm(w,l,y,f))):qm(b,l,y,f)}return a?F5(m,f,l,u,r.value,e):m.length?Promise.all(m).then(()=>l):l}}),EF=pe("$ZodObjectJIT",(e,t)=>{CF.init(e,t);const n=e._zod.parse,r=xw(()=>U5(t)),i=y=>{const v=new X7(["shape","payload","ctx"]),b=r.value,w=k=>{const E=LM(k);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};v.write("const input = payload.value;");const j=Object.create(null);let A=0;for(const k of b.keys)j[k]=`key_${A++}`;v.write("const newResult = {};");for(const k of b.keys){const E=j[k],M=LM(k);v.write(`const ${E} = ${w(k)};`),v.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        
        if (${E}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${E}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const _=v.compile();return(k,E)=>_(y,k,E)};let a;const s=Hm,l=!M5.jitless,f=l&&FU.value,m=t.catchall;let p;e._zod.parse=(y,v)=>{p??(p=r.value);const b=y.value;return s(b)?l&&f&&v?.async===!1&&v.jitless!==!0?(a||(a=i(t.shape)),y=a(y,v),m?F5([],b,y,v,p,e):y):n(y,v):(y.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),y)}});function zM(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!Ql(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(s=>Vo(s,r,Bo())))}),t)}const TF=pe("$ZodUnion",(e,t)=>{tn.init(e,t),At(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),At(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),At(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),At(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>ww(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let s=!1;const l=[];for(const u of t.options){const f=u._zod.run({value:i.value,issues:[]},a);if(f instanceof Promise)l.push(f),s=!0;else{if(f.issues.length===0)return f;l.push(f)}}return s?Promise.all(l).then(u=>zM(u,i,e,a)):zM(l,i,e,a)}}),OF=pe("$ZodIntersection",(e,t)=>{tn.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,a=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([u,f])=>BM(n,u,f)):BM(n,a,s)}});function Tb(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Cd(e)&&Cd(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),i={...e,...t};for(const a of r){const s=Tb(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],a=t[r],s=Tb(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function BM(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ql(e))return e;const r=Tb(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const PF=pe("$ZodEnum",(e,t)=>{tn.init(e,t);const n=VU(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>HU.has(typeof i)).map(i=>typeof i=="string"?Kp(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return r.has(s)||i.issues.push({code:"invalid_value",values:n,input:s,inst:e}),i}}),DF=pe("$ZodTransform",(e,t)=>{tn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new A5(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new sc;return n.value=i,n}});function VM(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const RF=pe("$ZodOptional",(e,t)=>{tn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",At(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),At(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ww(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>VM(a,n.value)):VM(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),LF=pe("$ZodNullable",(e,t)=>{tn.init(e,t),At(e._zod,"optin",()=>t.innerType._zod.optin),At(e._zod,"optout",()=>t.innerType._zod.optout),At(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ww(n.source)}|null)$`):void 0}),At(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),IF=pe("$ZodDefault",(e,t)=>{tn.init(e,t),e._zod.optin="optional",At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>UM(a,t)):UM(i,t)}});function UM(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const $F=pe("$ZodPrefault",(e,t)=>{tn.init(e,t),e._zod.optin="optional",At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),zF=pe("$ZodNonOptional",(e,t)=>{tn.init(e,t),At(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>FM(a,e)):FM(i,e)}});function FM(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const BF=pe("$ZodCatch",(e,t)=>{tn.init(e,t),At(e._zod,"optin",()=>t.innerType._zod.optin),At(e._zod,"optout",()=>t.innerType._zod.optout),At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>Vo(s,r,Bo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(a=>Vo(a,r,Bo()))},input:n.value}),n.issues=[]),n)}}),VF=pe("$ZodPipe",(e,t)=>{tn.init(e,t),At(e._zod,"values",()=>t.in._zod.values),At(e._zod,"optin",()=>t.in._zod.optin),At(e._zod,"optout",()=>t.out._zod.optout),At(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(s=>Gh(s,t.in,r)):Gh(a,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(a=>Gh(a,t.out,r)):Gh(i,t.out,r)}});function Gh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const UF=pe("$ZodReadonly",(e,t)=>{tn.init(e,t),At(e._zod,"propValues",()=>t.innerType._zod.propValues),At(e._zod,"values",()=>t.innerType._zod.values),At(e._zod,"optin",()=>t.innerType._zod.optin),At(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(HM):HM(i)}});function HM(e){return e.value=Object.freeze(e.value),e}const FF=pe("$ZodCustom",(e,t)=>{wr.init(e,t),tn.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(a=>qM(a,n,r,e));qM(i,n,r,e)}});function qM(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Ed(i))}}class HF{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function qF(){return new HF}const Yh=qF();function WF(e,t){return new e({type:"string",...Re(t)})}function GF(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Re(t)})}function WM(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Re(t)})}function YF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Re(t)})}function KF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Re(t)})}function ZF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Re(t)})}function XF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Re(t)})}function QF(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Re(t)})}function JF(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Re(t)})}function eH(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Re(t)})}function tH(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Re(t)})}function nH(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Re(t)})}function rH(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Re(t)})}function iH(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Re(t)})}function aH(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Re(t)})}function sH(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Re(t)})}function oH(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Re(t)})}function lH(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Re(t)})}function cH(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Re(t)})}function uH(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Re(t)})}function dH(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Re(t)})}function fH(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Re(t)})}function hH(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Re(t)})}function mH(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Re(t)})}function pH(e,t){return new e({type:"string",format:"date",check:"string_format",...Re(t)})}function gH(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Re(t)})}function yH(e,t){return new e({type:"string",format:"duration",check:"string_format",...Re(t)})}function vH(e,t){return new e({type:"number",checks:[],...Re(t)})}function xH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Re(t)})}function bH(e,t){return new e({type:"boolean",...Re(t)})}function wH(e){return new e({type:"unknown"})}function SH(e,t){return new e({type:"never",...Re(t)})}function GM(e,t){return new $5({check:"less_than",...Re(t),value:e,inclusive:!1})}function mv(e,t){return new $5({check:"less_than",...Re(t),value:e,inclusive:!0})}function YM(e,t){return new z5({check:"greater_than",...Re(t),value:e,inclusive:!1})}function pv(e,t){return new z5({check:"greater_than",...Re(t),value:e,inclusive:!0})}function KM(e,t){return new z7({check:"multiple_of",...Re(t),value:e})}function H5(e,t){return new V7({check:"max_length",...Re(t),maximum:e})}function Wm(e,t){return new U7({check:"min_length",...Re(t),minimum:e})}function q5(e,t){return new F7({check:"length_equals",...Re(t),length:e})}function jH(e,t){return new H7({check:"string_format",format:"regex",...Re(t),pattern:e})}function NH(e){return new q7({check:"string_format",format:"lowercase",...Re(e)})}function _H(e){return new W7({check:"string_format",format:"uppercase",...Re(e)})}function AH(e,t){return new G7({check:"string_format",format:"includes",...Re(t),includes:e})}function MH(e,t){return new Y7({check:"string_format",format:"starts_with",...Re(t),prefix:e})}function kH(e,t){return new K7({check:"string_format",format:"ends_with",...Re(t),suffix:e})}function cf(e){return new Z7({check:"overwrite",tx:e})}function CH(e){return cf(t=>t.normalize(e))}function EH(){return cf(e=>e.trim())}function TH(){return cf(e=>e.toLowerCase())}function OH(){return cf(e=>e.toUpperCase())}function PH(e,t,n){return new e({type:"array",element:t,...Re(n)})}function DH(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Re(n)})}function RH(e){const t=LH(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ed(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Ed(i))}},e(n.value,n)));return t}function LH(e,t){const n=new wr({check:"custom",...Re(t)});return n._zod.check=e,n}const IH=pe("ZodISODateTime",(e,t)=>{uF.init(e,t),Ut.init(e,t)});function $H(e){return mH(IH,e)}const zH=pe("ZodISODate",(e,t)=>{dF.init(e,t),Ut.init(e,t)});function BH(e){return pH(zH,e)}const VH=pe("ZodISOTime",(e,t)=>{fF.init(e,t),Ut.init(e,t)});function UH(e){return gH(VH,e)}const FH=pe("ZodISODuration",(e,t)=>{hF.init(e,t),Ut.init(e,t)});function HH(e){return yH(FH,e)}const qH=(e,t)=>{O5.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>t7(e,n)},flatten:{value:n=>e7(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Eb,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Eb,2)}},isEmpty:{get(){return e.issues.length===0}}})},fi=pe("ZodError",qH,{Parent:Error}),WH=jw(fi),GH=Nw(fi),YH=Zp(fi),KH=Xp(fi),ZH=i7(fi),XH=a7(fi),QH=s7(fi),JH=o7(fi),eq=l7(fi),tq=c7(fi),nq=u7(fi),rq=d7(fi),pn=pe("ZodType",(e,t)=>(tn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Jo(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Is(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>WH(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>YH(e,n,r),e.parseAsync=async(n,r)=>GH(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>KH(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ZH(e,n,r),e.decode=(n,r)=>XH(e,n,r),e.encodeAsync=async(n,r)=>QH(e,n,r),e.decodeAsync=async(n,r)=>JH(e,n,r),e.safeEncode=(n,r)=>eq(e,n,r),e.safeDecode=(n,r)=>tq(e,n,r),e.safeEncodeAsync=async(n,r)=>nq(e,n,r),e.safeDecodeAsync=async(n,r)=>rq(e,n,r),e.refine=(n,r)=>e.check(Gq(n,r)),e.superRefine=n=>e.check(Yq(n)),e.overwrite=n=>e.check(cf(n)),e.optional=()=>JM(e),e.nullable=()=>ek(e),e.nullish=()=>JM(ek(e)),e.nonoptional=n=>Bq(e,n),e.array=()=>Zt(e),e.or=n=>Eq([e,n]),e.and=n=>Oq(e,n),e.transform=n=>tk(e,Dq(n)),e.default=n=>Iq(e,n),e.prefault=n=>zq(e,n),e.catch=n=>Uq(e,n),e.pipe=n=>tk(e,n),e.readonly=()=>qq(e),e.describe=n=>{const r=e.clone();return Yh.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Yh.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Yh.get(e);const r=e.clone();return Yh.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),W5=pe("_ZodString",(e,t)=>{_w.init(e,t),pn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(jH(...r)),e.includes=(...r)=>e.check(AH(...r)),e.startsWith=(...r)=>e.check(MH(...r)),e.endsWith=(...r)=>e.check(kH(...r)),e.min=(...r)=>e.check(Wm(...r)),e.max=(...r)=>e.check(H5(...r)),e.length=(...r)=>e.check(q5(...r)),e.nonempty=(...r)=>e.check(Wm(1,...r)),e.lowercase=r=>e.check(NH(r)),e.uppercase=r=>e.check(_H(r)),e.trim=()=>e.check(EH()),e.normalize=(...r)=>e.check(CH(...r)),e.toLowerCase=()=>e.check(TH()),e.toUpperCase=()=>e.check(OH())}),iq=pe("ZodString",(e,t)=>{_w.init(e,t),W5.init(e,t),e.email=n=>e.check(GF(aq,n)),e.url=n=>e.check(QF(sq,n)),e.jwt=n=>e.check(hH(wq,n)),e.emoji=n=>e.check(JF(oq,n)),e.guid=n=>e.check(WM(ZM,n)),e.uuid=n=>e.check(YF(Kh,n)),e.uuidv4=n=>e.check(KF(Kh,n)),e.uuidv6=n=>e.check(ZF(Kh,n)),e.uuidv7=n=>e.check(XF(Kh,n)),e.nanoid=n=>e.check(eH(lq,n)),e.guid=n=>e.check(WM(ZM,n)),e.cuid=n=>e.check(tH(cq,n)),e.cuid2=n=>e.check(nH(uq,n)),e.ulid=n=>e.check(rH(dq,n)),e.base64=n=>e.check(uH(vq,n)),e.base64url=n=>e.check(dH(xq,n)),e.xid=n=>e.check(iH(fq,n)),e.ksuid=n=>e.check(aH(hq,n)),e.ipv4=n=>e.check(sH(mq,n)),e.ipv6=n=>e.check(oH(pq,n)),e.cidrv4=n=>e.check(lH(gq,n)),e.cidrv6=n=>e.check(cH(yq,n)),e.e164=n=>e.check(fH(bq,n)),e.datetime=n=>e.check($H(n)),e.date=n=>e.check(BH(n)),e.time=n=>e.check(UH(n)),e.duration=n=>e.check(HH(n))});function Le(e){return WF(iq,e)}const Ut=pe("ZodStringFormat",(e,t)=>{Rt.init(e,t),W5.init(e,t)}),aq=pe("ZodEmail",(e,t)=>{tF.init(e,t),Ut.init(e,t)}),ZM=pe("ZodGUID",(e,t)=>{J7.init(e,t),Ut.init(e,t)}),Kh=pe("ZodUUID",(e,t)=>{eF.init(e,t),Ut.init(e,t)}),sq=pe("ZodURL",(e,t)=>{nF.init(e,t),Ut.init(e,t)}),oq=pe("ZodEmoji",(e,t)=>{rF.init(e,t),Ut.init(e,t)}),lq=pe("ZodNanoID",(e,t)=>{iF.init(e,t),Ut.init(e,t)}),cq=pe("ZodCUID",(e,t)=>{aF.init(e,t),Ut.init(e,t)}),uq=pe("ZodCUID2",(e,t)=>{sF.init(e,t),Ut.init(e,t)}),dq=pe("ZodULID",(e,t)=>{oF.init(e,t),Ut.init(e,t)}),fq=pe("ZodXID",(e,t)=>{lF.init(e,t),Ut.init(e,t)}),hq=pe("ZodKSUID",(e,t)=>{cF.init(e,t),Ut.init(e,t)}),mq=pe("ZodIPv4",(e,t)=>{mF.init(e,t),Ut.init(e,t)}),pq=pe("ZodIPv6",(e,t)=>{pF.init(e,t),Ut.init(e,t)}),gq=pe("ZodCIDRv4",(e,t)=>{gF.init(e,t),Ut.init(e,t)}),yq=pe("ZodCIDRv6",(e,t)=>{yF.init(e,t),Ut.init(e,t)}),vq=pe("ZodBase64",(e,t)=>{vF.init(e,t),Ut.init(e,t)}),xq=pe("ZodBase64URL",(e,t)=>{bF.init(e,t),Ut.init(e,t)}),bq=pe("ZodE164",(e,t)=>{wF.init(e,t),Ut.init(e,t)}),wq=pe("ZodJWT",(e,t)=>{jF.init(e,t),Ut.init(e,t)}),G5=pe("ZodNumber",(e,t)=>{V5.init(e,t),pn.init(e,t),e.gt=(r,i)=>e.check(YM(r,i)),e.gte=(r,i)=>e.check(pv(r,i)),e.min=(r,i)=>e.check(pv(r,i)),e.lt=(r,i)=>e.check(GM(r,i)),e.lte=(r,i)=>e.check(mv(r,i)),e.max=(r,i)=>e.check(mv(r,i)),e.int=r=>e.check(XM(r)),e.safe=r=>e.check(XM(r)),e.positive=r=>e.check(YM(0,r)),e.nonnegative=r=>e.check(pv(0,r)),e.negative=r=>e.check(GM(0,r)),e.nonpositive=r=>e.check(mv(0,r)),e.multipleOf=(r,i)=>e.check(KM(r,i)),e.step=(r,i)=>e.check(KM(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Me(e){return vH(G5,e)}const Sq=pe("ZodNumberFormat",(e,t)=>{NF.init(e,t),G5.init(e,t)});function XM(e){return xH(Sq,e)}const jq=pe("ZodBoolean",(e,t)=>{_F.init(e,t),pn.init(e,t)});function Ni(e){return bH(jq,e)}const Nq=pe("ZodUnknown",(e,t)=>{AF.init(e,t),pn.init(e,t)});function QM(){return wH(Nq)}const _q=pe("ZodNever",(e,t)=>{MF.init(e,t),pn.init(e,t)});function Aq(e){return SH(_q,e)}const Mq=pe("ZodArray",(e,t)=>{kF.init(e,t),pn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Wm(n,r)),e.nonempty=n=>e.check(Wm(1,n)),e.max=(n,r)=>e.check(H5(n,r)),e.length=(n,r)=>e.check(q5(n,r)),e.unwrap=()=>e.element});function Zt(e,t){return PH(Mq,e,t)}const kq=pe("ZodObject",(e,t)=>{EF.init(e,t),pn.init(e,t),At(e,"shape",()=>t.shape),e.keyof=()=>Lr(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:QM()}),e.loose=()=>e.clone({...e._zod.def,catchall:QM()}),e.strict=()=>e.clone({...e._zod.def,catchall:Aq()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>KU(e,n),e.safeExtend=n=>ZU(e,n),e.merge=n=>XU(e,n),e.pick=n=>GU(e,n),e.omit=n=>YU(e,n),e.partial=(...n)=>QU(Y5,e,n[0]),e.required=(...n)=>JU(K5,e,n[0])});function Ct(e,t){const n={type:"object",shape:e??{},...Re(t)};return new kq(n)}const Cq=pe("ZodUnion",(e,t)=>{TF.init(e,t),pn.init(e,t),e.options=t.options});function Eq(e,t){return new Cq({type:"union",options:e,...Re(t)})}const Tq=pe("ZodIntersection",(e,t)=>{OF.init(e,t),pn.init(e,t)});function Oq(e,t){return new Tq({type:"intersection",left:e,right:t})}const Ob=pe("ZodEnum",(e,t)=>{PF.init(e,t),pn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const a={};for(const s of r)if(n.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Ob({...t,checks:[],...Re(i),entries:a})},e.exclude=(r,i)=>{const a={...t.entries};for(const s of r)if(n.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new Ob({...t,checks:[],...Re(i),entries:a})}});function Lr(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ob({type:"enum",entries:n,...Re(t)})}const Pq=pe("ZodTransform",(e,t)=>{DF.init(e,t),pn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new A5(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Ed(a,n.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Ed(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function Dq(e){return new Pq({type:"transform",transform:e})}const Y5=pe("ZodOptional",(e,t)=>{RF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function JM(e){return new Y5({type:"optional",innerType:e})}const Rq=pe("ZodNullable",(e,t)=>{LF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ek(e){return new Rq({type:"nullable",innerType:e})}const Lq=pe("ZodDefault",(e,t)=>{IF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Iq(e,t){return new Lq({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():C5(t)}})}const $q=pe("ZodPrefault",(e,t)=>{$F.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zq(e,t){return new $q({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():C5(t)}})}const K5=pe("ZodNonOptional",(e,t)=>{zF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Bq(e,t){return new K5({type:"nonoptional",innerType:e,...Re(t)})}const Vq=pe("ZodCatch",(e,t)=>{BF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Uq(e,t){return new Vq({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Fq=pe("ZodPipe",(e,t)=>{VF.init(e,t),pn.init(e,t),e.in=t.in,e.out=t.out});function tk(e,t){return new Fq({type:"pipe",in:e,out:t})}const Hq=pe("ZodReadonly",(e,t)=>{UF.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qq(e){return new Hq({type:"readonly",innerType:e})}const Wq=pe("ZodCustom",(e,t)=>{FF.init(e,t),pn.init(e,t)});function Gq(e,t={}){return DH(Wq,e,t)}function Yq(e){return RH(e)}const Fe=Le().min(1),Kq=Ct({taxRate:Me().min(0).max(100).default(10),payCycle:Lr(["weekly","biweekly","monthly"]).default("weekly"),approvalRequired:Ni().default(!0),salaryBase:Me().min(0).default(1e3)}),Tm=Ct({id:Fe,name:Le().min(1).max(50),currencyUnit:Le().min(1).max(10).default("원"),treasury:Me().default(5e5),donation:Me().default(5e4),createdAt:Le().datetime(),settings:Kq}),id=Ct({id:Fe,classroomId:Fe,name:Le().min(1).max(30),pin4:Le().length(4).regex(/^\d{4}$/),jobId:Fe.optional(),balance:Me().default(0),active:Ni().default(!0),createdAt:Le().datetime(),creditScore:Me().min(300).max(850).default(650),creditGrade:Lr(["A+","A","B+","B","C+","C","D"]).default("B"),totalEarnings:Me().min(0).default(0),totalTransactions:Me().min(0).default(0),achievements:Zt(Le()).default([]),lateCount:Me().min(0).default(0),homeworkMissed:Me().min(0).default(0),bookOverdue:Me().min(0).default(0)}),ad=Ct({id:Fe,classroomId:Fe,title:Le().min(1).max(50),description:Le().max(200).optional(),salary:Me().min(0),maxPositions:Me().min(1),currentPositions:Me().min(0).default(0)});Ct({id:Fe,classroomId:Fe,name:Le().min(1).max(50),rate:Me().min(0).max(100),isActive:Ni().default(!0),description:Le().max(200).optional(),createdAt:Le(),updatedAt:Le()});const Zq=Ct({id:Fe,classroomId:Fe,studentId:Fe,type:Lr(["savings","deposit"]),name:Le().min(1).max(50),principal:Me().min(0),interestRate:Me().min(0).max(100),termMonths:Me().min(1).max(60),monthlyDeposit:Me().min(0).default(0),totalBalance:Me().min(0).default(0),createdAt:Le().datetime(),maturityDate:Le().datetime(),isMatured:Ni().default(!1),autoRenewal:Ni().default(!1)}),Xq=Ct({id:Fe,classroomId:Fe,symbol:Le().min(1).max(10),name:Le().min(1).max(50),currentPrice:Me().min(0),previousPrice:Me().min(0),sector:Le().min(1).max(30),description:Le().max(200).optional(),isActive:Ni().default(!0),createdAt:Le().datetime(),updatedAt:Le().datetime()}),Qq=Ct({id:Fe,classroomId:Fe,studentId:Fe,stockId:Fe,type:Lr(["buy","sell"]),quantity:Me().min(1),price:Me().min(0),totalAmount:Me().min(0),fee:Me().min(0).default(0),createdAt:Le().datetime()}),Jq=Ct({id:Fe,classroomId:Fe,studentId:Fe,stockId:Fe,quantity:Me().min(0),averagePrice:Me().min(0),totalCost:Me().min(0),createdAt:Le().datetime(),updatedAt:Le().datetime()}),eW=Ct({id:Fe,name:Le().min(1).max(50),description:Le().min(1).max(200),icon:Le().min(1).max(10),category:Lr(["trading","savings","social","milestone","special"]),condition:Ct({type:Lr(["transaction_count","amount_saved","profit_earned","jobs_completed","donations_made","portfolio_value","consecutive_days"]),target:Me().min(1),timeframe:Lr(["daily","weekly","monthly","total"]).optional()}),points:Me().min(1).max(1e3),isActive:Ni().default(!0),createdAt:Le().datetime()}),tW=Ct({id:Fe,classroomId:Fe,studentId:Fe,achievementId:Fe,progress:Me().min(0).default(0),isCompleted:Ni().default(!1),completedAt:Le().datetime().optional(),createdAt:Le().datetime(),updatedAt:Le().datetime()}),nW=Ct({id:Fe,classroomId:Fe,title:Le().min(1).max(100),content:Le().min(1).max(500),type:Lr(["환경","교육","기술","식품","전체시장","특별이벤트"]),impact:Lr(["positive","negative","neutral"]),severity:Me().min(1).max(5),affectedStocks:Zt(Fe),isActive:Ni().default(!0),expiresAt:Le().datetime().optional(),createdAt:Le().datetime()}),rW=Ct({id:Fe,classroomId:Fe,date:Le(),indicators:Ct({fineDust:Me().min(0).max(500),temperature:Me().min(-30).max(50),teacherMood:Me().min(1).max(10),teacherWeight:Me().min(40).max(150).optional(),rainfall:Me().min(0).max(500),studentAttendance:Me().min(0).max(100),lunchMenuRating:Me().min(1).max(5),examStress:Me().min(1).max(10)}),createdAt:Le().datetime()}),iW=Ct({id:Fe,stockId:Fe,date:Le(),openPrice:Me().min(0),closePrice:Me().min(0),highPrice:Me().min(0),lowPrice:Me().min(0),volume:Me().min(0).default(0),createdAt:Le().datetime()}),aW=Ct({id:Fe,classroomId:Fe,date:Le(),participationRate:Me().min(0).max(1),activeStudents:Me(),totalTransactions:Me(),tradingVolume:Me(),createdAt:Le().datetime()}),sW=Ct({id:Fe,classroomId:Fe,month:Le(),savingsRate:Me().min(0).max(1),totalSavings:Me(),totalAssets:Me(),newSavingsAccounts:Me(),averageSavingsAmount:Me(),createdAt:Le().datetime()}),oW=Ct({id:Fe,classroomId:Fe,studentId:Fe,dayOfWeek:Me().min(0).max(6),hour:Me().min(0).max(23),activityLevel:Me().min(0).max(1),transactionCount:Me(),totalAmount:Me(),createdAt:Le().datetime()}),lW=Ct({id:Fe,classroomId:Fe,name:Le().min(1).max(50),price:Me().min(0),stock:Me().min(0).optional(),active:Ni().default(!0)}),cW=Lr(["payroll","purchase","tax","transfer","fine","bonus","donation"]),uW=Ct({id:Fe,classroomId:Fe,studentId:Fe,type:cW,amount:Me(),memo:Le().max(100).optional(),createdAt:Le().datetime(),approved:Ni().default(!1),requestedBy:Lr(["teacher","student"]).default("teacher"),itemId:Fe.optional()}),dW=Ct({id:Fe,transactionId:Fe,status:Lr(["pending","approved","rejected"]).default("pending"),decidedAt:Le().datetime().optional(),reason:Le().max(100).optional()}),fW=Ct({version:Me().default(1),exportedAt:Le().datetime(),appName:Le().default("VivaaTown")}),hW=Ct({classrooms:Zt(Tm),students:Zt(id),jobs:Zt(ad),items:Zt(lW),transactions:Zt(uW),approvals:Zt(dW),savingsAccounts:Zt(Zq).optional(),stocks:Zt(Xq).optional(),stockTransactions:Zt(Qq).optional(),stockPortfolios:Zt(Jq).optional(),achievements:Zt(eW).optional(),studentAchievements:Zt(tW).optional(),marketNews:Zt(nW).optional(),marketIndicators:Zt(rW).optional(),stockPriceHistory:Zt(iW).optional(),marketParticipation:Zt(aW).optional(),savingsRates:Zt(sW).optional(),activityHeatmap:Zt(oW).optional()});Ct({meta:fW,data:hW});const kc=Vr()(lf((e,t)=>({classrooms:[],isLoading:!1,loadClassrooms:()=>{try{e({isLoading:!0});const r=(tt.get(Ue.CLASSROOMS)??[]).map(i=>{try{return Tm.parse(i)}catch(a){return console.warn("Invalid classroom data:",i,a),null}}).filter(i=>i!==null);e({classrooms:r,isLoading:!1})}catch(n){console.error("Failed to load classrooms:",n),e({classrooms:[],isLoading:!1})}},createClassroom:n=>{const r={id:vw(),name:n.name,currencyUnit:n.currencyUnit??"원",treasury:n.treasury??5e5,donation:n.donation??5e4,createdAt:To(),settings:{taxRate:n.settings?.taxRate??10,payCycle:n.settings?.payCycle??"weekly",approvalRequired:n.settings?.approvalRequired??!0,salaryBase:n.settings?.salaryBase??1e3}},i=Tm.parse(r);return e(a=>{const s=[...a.classrooms,i];return tt.set(Ue.CLASSROOMS,s),{classrooms:s}}),i},updateClassroom:(n,r)=>{e(i=>{const a=i.classrooms.map(s=>{if(s.id===n){const l={...s,...r};try{return Tm.parse(l)}catch(u){return console.error("Invalid classroom update:",u),s}}return s});return tt.set(Ue.CLASSROOMS,a),{classrooms:a}})},deleteClassroom:n=>{e(r=>{const i=r.classrooms.filter(a=>a.id!==n);return tt.set(Ue.CLASSROOMS,i),{classrooms:i}})},getClassroom:n=>t().classrooms.find(r=>r.id===n),updateTreasury:(n,r)=>{t().updateClassroom(n,{treasury:r})},updateDonation:(n,r)=>{t().updateClassroom(n,{donation:r})}})));kc.subscribe(e=>e.classrooms,e=>{tt.set(Ue.CLASSROOMS,e)});const yr=Vr()(lf((e,t)=>({students:[],isLoading:!1,loadStudents:()=>{try{e({isLoading:!0});const r=(tt.get(Ue.STUDENTS)??[]).map(i=>{try{const a={...i,creditScore:i.creditScore||650,creditGrade:i.creditGrade||"B",totalEarnings:i.totalEarnings||0,totalTransactions:i.totalTransactions||0,achievements:i.achievements||[],lateCount:i.lateCount||0,homeworkMissed:i.homeworkMissed||0,bookOverdue:i.bookOverdue||0};return id.parse(a)}catch(a){return console.warn("Invalid student data:",i,a),null}}).filter(i=>i!==null);e({students:r,isLoading:!1})}catch(n){console.error("Failed to load students:",n),e({students:[],isLoading:!1})}},setStudents:n=>{try{const r=n.map(i=>id.parse(i));e({students:r}),tt.set(Ue.STUDENTS,r)}catch(r){console.error("Failed to set students:",r)}},createStudent:n=>{const r={id:vw(),classroomId:n.classroomId,name:n.name,pin4:n.pin4??DM(),jobId:n.jobId,balance:n.balance??0,active:!0,createdAt:To(),creditScore:650,creditGrade:"B",totalEarnings:0,totalTransactions:0,achievements:[],lateCount:0,homeworkMissed:0,bookOverdue:0},i=id.parse(r);return e(a=>{const s=[...a.students,i];return tt.set(Ue.STUDENTS,s),{students:s}}),i},updateStudent:(n,r)=>{e(i=>{const a=i.students.map(s=>{if(s.id===n){const l={...s,...r};try{return id.parse(l)}catch(u){return console.error("Invalid student update:",u),s}}return s});return tt.set(Ue.STUDENTS,a),{students:a}})},deleteStudent:n=>{e(r=>{const i=r.students.filter(a=>a.id!==n);return tt.set(Ue.STUDENTS,i),{students:i}})},getStudent:n=>t().students.find(r=>r.id===n),getStudentsByClassroom:n=>t().students.filter(r=>r.classroomId===n&&r.active),updateBalance:(n,r)=>{t().updateStudent(n,{balance:Math.max(0,r)})},addToBalance:(n,r)=>{const i=t().getStudent(n);i&&t().updateBalance(n,i.balance+r)},subtractFromBalance:(n,r)=>{const i=t().getStudent(n);return!i||i.balance<r?!1:(t().updateBalance(n,i.balance-r),!0)},assignJob:(n,r)=>{t().updateStudent(n,{jobId:r})},validateStudentPin:(n,r)=>{const i=t().getStudent(n);return i?i.pin4===r:!1},resetStudentPin:n=>{const r=DM();return t().updateStudent(n,{pin4:r}),r},updateCreditScore:(n,r,i)=>{const a=t().getStudent(n);if(!a)return;const s=Math.max(300,Math.min(850,a.creditScore+r)),l=t().getCreditGrade(s);t().updateStudent(n,{creditScore:s,creditGrade:l}),console.log(`${a.name}의 신용점수 변경: ${a.creditScore} → ${s} (${i})`)},addTransaction:(n,r=0)=>{const i=t().getStudent(n);if(!i)return;const a=i.totalTransactions+1,s=r>0?i.totalEarnings+r:i.totalEarnings;t().updateStudent(n,{totalTransactions:a,totalEarnings:s}),t().updateCreditScore(n,2,"정상 거래 활동"),a===1&&t().addAchievement(n,"first_transaction"),a===10&&t().addAchievement(n,"frequent_trader"),a===50&&t().addAchievement(n,"transaction_master"),s>=1e4&&t().addAchievement(n,"money_saver"),s>=5e4&&t().addAchievement(n,"wealth_builder")},addAchievement:(n,r)=>{const i=t().getStudent(n);if(!i||i.achievements.includes(r))return!1;const a=[...i.achievements,r];return t().updateStudent(n,{achievements:a}),t().updateCreditScore(n,25,`업적 달성: ${r}`),!0},getStudentRanking:n=>t().getStudentsByClassroom(n).filter(i=>i.active).sort((i,a)=>i.creditScore!==a.creditScore?a.creditScore-i.creditScore:a.totalEarnings-i.totalEarnings),getCreditGrade:n=>n>=800?"A+":n>=750?"A":n>=700?"B+":n>=650?"B":n>=600?"C+":n>=550?"C":"D",getInterestRate:n=>n>=800?.05:n>=750?.04:n>=700?.035:n>=650?.03:n>=600?.025:n>=550?.02:.015,addLateRecord:n=>{const r=t().getStudent(n);r&&(t().updateStudent(n,{lateCount:r.lateCount+1}),t().updateCreditScore(n,-10,"지각"))},addHomeworkMissed:n=>{const r=t().getStudent(n);r&&(t().updateStudent(n,{homeworkMissed:r.homeworkMissed+1}),t().updateCreditScore(n,-15,"숙제 미제출"))},addBookOverdue:n=>{const r=t().getStudent(n);r&&(t().updateStudent(n,{bookOverdue:r.bookOverdue+1}),t().updateCreditScore(n,-20,"도서 연체"))},resetBehaviorRecord:(n,r)=>{const i=t().getStudent(n);if(!i)return;const a={};let s=0;switch(r){case"late":i.lateCount>0&&(a.lateCount=0,s=i.lateCount*5);break;case"homework":i.homeworkMissed>0&&(a.homeworkMissed=0,s=i.homeworkMissed*7);break;case"book":i.bookOverdue>0&&(a.bookOverdue=0,s=i.bookOverdue*10);break}Object.keys(a).length>0&&(t().updateStudent(n,a),s>0&&t().updateCreditScore(n,s,`${r} 기록 초기화 보너스`))},diversifyCreditScores:n=>{t().getStudentsByClassroom(n).forEach((i,a)=>{const s=Math.random();let l;s<.1?l=Math.floor(Math.random()*51)+800:s<.2?l=Math.floor(Math.random()*51)+750:s<.35?l=Math.floor(Math.random()*51)+700:s<.55?l=Math.floor(Math.random()*51)+650:s<.75?l=Math.floor(Math.random()*51)+600:s<.9?l=Math.floor(Math.random()*51)+550:l=Math.floor(Math.random()*251)+300;const u=t().getCreditGrade(l);t().updateStudent(i.id,{creditScore:l,creditGrade:u})})}})));yr.subscribe(e=>e.students,e=>{tt.set(Ue.STUDENTS,e)});const mW=Object.freeze(Object.defineProperty({__proto__:null,useStudentStore:yr},Symbol.toStringTag,{value:"Module"})),Cc=Vr()(lf((e,t)=>({jobs:[],isLoading:!1,loadJobs:()=>{try{e({isLoading:!0});const r=(tt.get(Ue.JOBS)??[]).map(i=>{try{return ad.parse(i)}catch(a){return console.warn("Invalid job data:",i,a),null}}).filter(i=>i!==null);e({jobs:r,isLoading:!1})}catch(n){console.error("Failed to load jobs:",n),e({jobs:[],isLoading:!1})}},setJobs:n=>{try{const r=n.map(i=>ad.parse(i));e({jobs:r}),tt.set(Ue.JOBS,r)}catch(r){console.error("Failed to set jobs:",r)}},createJob:n=>{const r={id:n.id||vw(),classroomId:n.classroomId,title:n.title,description:n.description,salary:n.salary,maxPositions:n.maxPositions,currentPositions:n.currentPositions??0},i=ad.parse(r);return e(a=>{const s=[...a.jobs,i];return tt.set(Ue.JOBS,s),{jobs:s}}),i},updateJob:(n,r)=>{e(i=>{const a=i.jobs.map(s=>{if(s.id===n){const l={...s,...r};try{return ad.parse(l)}catch(u){return console.error("Invalid job update:",u),s}}return s});return tt.set(Ue.JOBS,a),{jobs:a}})},deleteJob:n=>{e(r=>{const i=r.jobs.filter(a=>a.id!==n);return tt.set(Ue.JOBS,i),{jobs:i}})},getJob:n=>t().jobs.find(r=>r.id===n),getJobsByClassroom:n=>t().jobs.filter(r=>r.classroomId===n),assignPosition:n=>{const r=t().getJob(n);return!r||r.currentPositions>=r.maxPositions?!1:(t().updateJob(n,{currentPositions:r.currentPositions+1}),!0)},unassignPosition:n=>{const r=t().getJob(n);r&&r.currentPositions>0&&t().updateJob(n,{currentPositions:r.currentPositions-1})},updateCurrentPositions:(n,r)=>{const i=t().getJob(n);if(i){const a=Math.max(0,Math.min(r,i.maxPositions));t().updateJob(n,{currentPositions:a})}}})));Cc.subscribe(e=>e.jobs,e=>{tt.set(Ue.JOBS,e)});const Ln=[];for(let e=0;e<256;++e)Ln.push((e+256).toString(16).slice(1));function pW(e,t=0){return(Ln[e[t+0]]+Ln[e[t+1]]+Ln[e[t+2]]+Ln[e[t+3]]+"-"+Ln[e[t+4]]+Ln[e[t+5]]+"-"+Ln[e[t+6]]+Ln[e[t+7]]+"-"+Ln[e[t+8]]+Ln[e[t+9]]+"-"+Ln[e[t+10]]+Ln[e[t+11]]+Ln[e[t+12]]+Ln[e[t+13]]+Ln[e[t+14]]+Ln[e[t+15]]).toLowerCase()}let gv;const gW=new Uint8Array(16);function yW(){if(!gv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gv=crypto.getRandomValues.bind(crypto)}return gv(gW)}const vW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nk={randomUUID:vW};function xW(e,t,n){e=e||{};const r=e.random??e.rng?.()??yW();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pW(r)}function it(e,t,n){return nk.randomUUID&&!e?nk.randomUUID():xW(e)}const Wt={get:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error(`Error reading from localStorage key "${e}":`,t),null}},set:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error(`Error writing to localStorage key "${e}":`,n)}},remove:e=>{try{localStorage.removeItem(e)}catch(t){console.error(`Error removing localStorage key "${e}":`,t)}},clear:()=>{try{localStorage.clear()}catch(e){console.error("Error clearing localStorage:",e)}}},Ts=Vr((e,t)=>({savingsAccounts:[],lastInterestProcessDate:null,loadSavingsAccounts:()=>{const n=Wt.get(Ue.SAVINGS_ACCOUNTS),r=Wt.get("lastInterestProcessDate");n&&(e({savingsAccounts:n,lastInterestProcessDate:r}),setTimeout(()=>t().checkAndProcessInterest(),100))},createSavingsAccount:n=>{const r=new Date().toISOString(),i=new Date;i.setMonth(i.getMonth()+n.termMonths);const a={...n,id:it(),createdAt:r,maturityDate:i.toISOString(),totalBalance:n.type==="deposit"?n.principal:0,isMatured:!1,autoRenewal:!1};return e(s=>({savingsAccounts:[...s.savingsAccounts,a]})),a},updateSavingsAccount:(n,r)=>{e(i=>({savingsAccounts:i.savingsAccounts.map(a=>a.id===n?{...a,...r}:a)}))},deleteSavingsAccount:n=>{e(r=>({savingsAccounts:r.savingsAccounts.filter(i=>i.id!==n)}))},getSavingsAccount:n=>t().savingsAccounts.find(r=>r.id===n),getSavingsAccountsByStudent:n=>t().savingsAccounts.filter(r=>r.studentId===n),getSavingsAccountsByClassroom:n=>t().savingsAccounts.filter(r=>r.classroomId===n),makeMonthlyDeposit:(n,r)=>{const i=t().getSavingsAccount(n);if(!i||i.type!=="savings"||i.isMatured)return!1;const a=i.totalBalance+r;return t().updateSavingsAccount(n,{totalBalance:a}),!0},withdrawFromSavings:(n,r)=>{const i=t().getSavingsAccount(n);if(!i||r<=0)return!1;let a=i.totalBalance;if(!i.isMatured){const l=t().getMonthlyInterest(i)*.5;a=Math.max(i.principal,i.totalBalance-l)}if(a<r)return!1;const s=i.totalBalance-r;return t().updateSavingsAccount(n,{totalBalance:s}),!0},calculateMaturityAmount:n=>{const r=t().getSavingsAccount(n);if(!r)return 0;const i=r.interestRate/100/12,a=r.termMonths;return r.type==="deposit"?r.principal*Math.pow(1+i,a):i===0?r.monthlyDeposit*a:r.monthlyDeposit*(Math.pow(1+i,a)-1)/i},processMaturity:n=>{const r=t().getSavingsAccount(n);if(!r||r.isMatured)return!1;const i=t().calculateMaturityAmount(n);return t().updateSavingsAccount(n,{totalBalance:i,isMatured:!0}),!0},calculateCurrentBalance:n=>{if(n.type==="deposit"){const r=Math.floor((Date.now()-new Date(n.createdAt).getTime())/2592e6),i=n.interestRate/100/12;return n.principal*Math.pow(1+i,Math.min(r,n.termMonths))}return n.totalBalance},getRemainingMonths:n=>{const r=Math.floor((Date.now()-new Date(n.createdAt).getTime())/2592e6);return Math.max(0,n.termMonths-r)},getMonthlyInterest:n=>{const r=n.interestRate/100/12;return n.type==="deposit"?n.principal*r:n.totalBalance*r},processMonthlyInterest:()=>{const{savingsAccounts:n}=t();let r=0;const i=n.map(a=>{if(a.isMatured)return a;const s=t().getMonthlyInterest(a);return r+=s,{...a,totalBalance:a.totalBalance+s}});return e({savingsAccounts:i,lastInterestProcessDate:new Date().toISOString()}),Wt.set("lastInterestProcessDate",new Date().toISOString()),r},checkAndProcessInterest:()=>{const{lastInterestProcessDate:n}=t(),r=new Date,i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;if(!n){t().processMonthlyInterest();return}const a=new Date(n),s=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;if(i!==s){const l=t().processMonthlyInterest();typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("bankingNotification",{detail:{type:"info",title:"💰 월간 이자 지급",message:`총 ${l.toLocaleString()}원의 이자가 자동 지급되었습니다.`}}))}},getUpcomingMaturityAccounts:(n=30)=>{const{savingsAccounts:r}=t(),i=new Date;return i.setDate(i.getDate()+n),r.filter(a=>{if(a.isMatured)return!1;const s=new Date(a.maturityDate);return s<=i&&s>new Date})},getTotalInterestPaidThisMonth:()=>{const{lastInterestProcessDate:n}=t();if(!n)return 0;const r=new Date(n),i=new Date;return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()?t().savingsAccounts.reduce((a,s)=>a+t().getMonthlyInterest(s),0):0}}));Ts.subscribe(e=>e.savingsAccounts,e=>{Wt.set(Ue.SAVINGS_ACCOUNTS,e)});const ar=Vr((e,t)=>({stocks:[],stockTransactions:[],stockPortfolios:[],loadStocks:()=>{const n=Wt.get(Ue.STOCKS);n&&e({stocks:n})},loadStockTransactions:()=>{const n=Wt.get(Ue.STOCK_TRANSACTIONS);n&&e({stockTransactions:n})},loadStockPortfolios:()=>{const n=Wt.get(Ue.STOCK_PORTFOLIOS);n&&e({stockPortfolios:n})},createStock:n=>{const r=new Date().toISOString(),i={...n,id:it(),createdAt:r,updatedAt:r};return e(a=>({stocks:[...a.stocks,i]})),i},updateStock:(n,r)=>{e(i=>({stocks:i.stocks.map(a=>a.id===n?{...a,...r,updatedAt:new Date().toISOString()}:a)}))},deleteStock:n=>{e(r=>({stocks:r.stocks.filter(i=>i.id!==n)}))},buyStock:(n,r,i,a)=>{const s=t().getStock(r);if(!s)return!1;const l=i*a,u=Math.floor(l*.01),f=l+u,m={id:it(),classroomId:s.classroomId,studentId:n,stockId:r,type:"buy",quantity:i,price:a,totalAmount:f,fee:u,createdAt:new Date().toISOString()},p=t().stockPortfolios.find(y=>y.studentId===n&&y.stockId===r);if(p){const y=p.quantity+i,v=p.totalCost+l,b=v/y;e(w=>({stockPortfolios:w.stockPortfolios.map(j=>j.id===p.id?{...j,quantity:y,averagePrice:b,totalCost:v,updatedAt:new Date().toISOString()}:j),stockTransactions:[...w.stockTransactions,m]}))}else{const y={id:it(),classroomId:s.classroomId,studentId:n,stockId:r,quantity:i,averagePrice:a,totalCost:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(v=>({stockPortfolios:[...v.stockPortfolios,y],stockTransactions:[...v.stockTransactions,m]}))}return!0},sellStock:(n,r,i,a)=>{const s=t().getStock(r),l=t().stockPortfolios.find(w=>w.studentId===n&&w.stockId===r);if(!s||!l||l.quantity<i)return!1;const u=i*a,f=Math.floor(u*.01),m=u-f,p={id:it(),classroomId:s.classroomId,studentId:n,stockId:r,type:"sell",quantity:i,price:a,totalAmount:m,fee:f,createdAt:new Date().toISOString()},y=l.quantity-i,v=l.totalCost/l.quantity*i,b=l.totalCost-v;return e(y===0?w=>({stockPortfolios:w.stockPortfolios.filter(j=>j.id!==l.id),stockTransactions:[...w.stockTransactions,p]}):w=>({stockPortfolios:w.stockPortfolios.map(j=>j.id===l.id?{...j,quantity:y,totalCost:b,updatedAt:new Date().toISOString()}:j),stockTransactions:[...w.stockTransactions,p]})),!0},getStock:n=>t().stocks.find(r=>r.id===n),getStocksByClassroom:n=>t().stocks.filter(r=>r.classroomId===n),getPortfolioByStudent:n=>t().stockPortfolios.filter(r=>r.studentId===n),getTransactionsByStudent:n=>t().stockTransactions.filter(r=>r.studentId===n),updateStockPrices:n=>{t().getStocksByClassroom(n).forEach(i=>{let a=0;const s=.05;switch(i.sector){case"환경":const u=Math.random()>.6?1.02:.98;a=(Math.random()-.5)*s*u;break;case"교육":const f=Math.random()>.5?1.01:.99;a=(Math.random()-.5)*s*f;break;case"기술":a=(Math.random()-.5)*s*1.5;break;case"식품":a=(Math.random()-.5)*s*.7;break;default:a=(Math.random()-.5)*s}const l=Math.max(i.currentPrice*.5,Math.floor(i.currentPrice*(1+a)));t().updateStock(i.id,{previousPrice:i.currentPrice,currentPrice:l})})},getMarketMood:n=>{const r=t().getStocksByClassroom(n);if(r.length===0)return"neutral";const i=r.filter(l=>l.currentPrice>l.previousPrice).length,a=r.length,s=i/a;return s>.6?"bullish":s<.4?"bearish":"neutral"},calculatePortfolioValue:n=>{const r=t().getPortfolioByStudent(n),{stocks:i}=t();return r.reduce((a,s)=>{const l=i.find(u=>u.id===s.stockId);return l?a+s.quantity*l.currentPrice:a},0)},calculateProfitLoss:(n,r)=>{const i=t().stockPortfolios.find(l=>l.studentId===n&&l.stockId===r),a=t().getStock(r);return!i||!a?0:i.quantity*a.currentPrice-i.totalCost},getTotalInvestment:n=>t().getPortfolioByStudent(n).reduce((i,a)=>i+a.totalCost,0),addStockTransaction:n=>{const r={...n,id:it(),createdAt:new Date().toISOString()};return e(i=>{const a=[...i.stockTransactions,r];return Wt.set(Ue.STOCK_TRANSACTIONS,a),{stockTransactions:a}}),r},createStockPortfolio:n=>{const r={...n,id:it()};return e(i=>{const a=[...i.stockPortfolios,r];return Wt.set(Ue.STOCK_PORTFOLIOS,a),{stockPortfolios:a}}),r}}));ar.subscribe(e=>e.stocks,e=>{Wt.set(Ue.STOCKS,e)});ar.subscribe(e=>e.stockTransactions,e=>{Wt.set(Ue.STOCK_TRANSACTIONS,e)});ar.subscribe(e=>e.stockPortfolios,e=>{Wt.set(Ue.STOCK_PORTFOLIOS,e)});const bW=[{name:"첫 거래",description:"첫 번째 거래를 완료했습니다!",icon:"🎉",category:"milestone",condition:{type:"transaction_count",target:1},points:50},{name:"거래 달인",description:"10번의 거래를 완료했습니다!",icon:"💰",category:"trading",condition:{type:"transaction_count",target:10},points:100},{name:"거래왕",description:"50번의 거래를 완료했습니다!",icon:"👑",category:"trading",condition:{type:"transaction_count",target:50},points:300},{name:"저축왕",description:"10,000원을 저축했습니다!",icon:"🏦",category:"savings",condition:{type:"amount_saved",target:1e4},points:200},{name:"저축 마스터",description:"100,000원을 저축했습니다!",icon:"💎",category:"savings",condition:{type:"amount_saved",target:1e5},points:500},{name:"기부천사",description:"첫 기부를 완료했습니다!",icon:"😇",category:"social",condition:{type:"donations_made",target:1},points:150},{name:"나눔의 왕",description:"10번의 기부를 완료했습니다!",icon:"🤝",category:"social",condition:{type:"donations_made",target:10},points:400},{name:"투자 신입",description:"주식 투자로 첫 수익을 얻었습니다!",icon:"📈",category:"trading",condition:{type:"profit_earned",target:1},points:100},{name:"투자 고수",description:"주식 투자로 10,000원 수익을 달성했습니다!",icon:"🚀",category:"trading",condition:{type:"profit_earned",target:1e4},points:300},{name:"포트폴리오 킹",description:"100,000원 포트폴리오를 달성했습니다!",icon:"💼",category:"trading",condition:{type:"portfolio_value",target:1e5},points:600},{name:"근무왕",description:"10개의 직업을 완료했습니다!",icon:"⚡",category:"milestone",condition:{type:"jobs_completed",target:10},points:250},{name:"성실한 학생",description:"7일 연속 활동했습니다!",icon:"🔥",category:"special",condition:{type:"consecutive_days",target:7},points:200}],Oo=Vr((e,t)=>({achievements:[],studentAchievements:[],loadAchievements:()=>{const n=Wt.get(Ue.ACHIEVEMENTS);n&&e({achievements:n})},loadStudentAchievements:()=>{const n=Wt.get(Ue.STUDENT_ACHIEVEMENTS);n&&e({studentAchievements:n})},createAchievement:n=>{const r=new Date().toISOString(),i={...n,id:it(),createdAt:r};return e(a=>({achievements:[...a.achievements,i]})),i},updateAchievement:(n,r)=>{e(i=>({achievements:i.achievements.map(a=>a.id===n?{...a,...r}:a)}))},deleteAchievement:n=>{e(r=>({achievements:r.achievements.filter(i=>i.id!==n),studentAchievements:r.studentAchievements.filter(i=>i.achievementId!==n)}))},createStudentAchievement:n=>{const r={...n,id:it()};return e(i=>({studentAchievements:[...i.studentAchievements,r]})),r},initializeStudentAchievements:(n,r)=>{const i=t().studentAchievements.filter(u=>u.studentId===r),a=t().achievements.filter(u=>u.isActive),s=new Date().toISOString(),l=a.filter(u=>!i.some(f=>f.achievementId===u.id)).map(u=>({id:it(),classroomId:n,studentId:r,achievementId:u.id,progress:0,isCompleted:!1,createdAt:s,updatedAt:s}));l.length>0&&e(u=>({studentAchievements:[...u.studentAchievements,...l]}))},updateAchievementProgress:(n,r,i)=>{const a=t().getAchievement(r);if(!a)return;const s=new Date().toISOString(),l=i>=a.condition.target;e(u=>({studentAchievements:u.studentAchievements.map(f=>f.studentId===n&&f.achievementId===r?{...f,progress:i,isCompleted:l,completedAt:l&&!f.isCompleted?s:f.completedAt,updatedAt:s}:f)}))},checkAndCompleteAchievements:(n,r)=>{const i=t().achievements.filter(l=>l.isActive),a=t().getStudentAchievements(n),s=[];return i.forEach(l=>{const u=a.find(m=>m.achievementId===l.id);if(!u||u.isCompleted)return;let f=0;switch(l.condition.type){case"transaction_count":f=r.transactionCount||0;break;case"amount_saved":f=r.totalSaved||0;break;case"profit_earned":f=r.totalProfit||0;break;case"jobs_completed":f=r.jobsCompleted||0;break;case"donations_made":f=r.donationsMade||0;break;case"portfolio_value":f=r.portfolioValue||0;break;case"consecutive_days":f=r.consecutiveDays||0;break}f!==u.progress&&(t().updateAchievementProgress(n,l.id,f),f>=l.condition.target&&!u.isCompleted&&s.push(l.id))}),s},getAchievement:n=>t().achievements.find(r=>r.id===n),getStudentAchievements:n=>t().studentAchievements.filter(r=>r.studentId===n),getCompletedAchievements:n=>t().studentAchievements.filter(r=>r.studentId===n&&r.isCompleted),getStudentPoints:n=>{const r=t().getCompletedAchievements(n),i=t().achievements;return r.reduce((a,s)=>{const l=i.find(u=>u.id===s.achievementId);return a+(l?.points||0)},0)},getClassroomLeaderboard:n=>{const r=t().studentAchievements.filter(s=>s.classroomId===n),i=t().achievements,a=new Map;return r.forEach(s=>{if(!s.isCompleted)return;const l=i.find(f=>f.id===s.achievementId);if(!l)return;const u=a.get(s.studentId)||{points:0,completedCount:0};a.set(s.studentId,{points:u.points+l.points,completedCount:u.completedCount+1})}),Array.from(a.entries()).map(([s,l])=>({studentId:s,...l})).sort((s,l)=>l.points-s.points)},createDefaultAchievements:n=>{t().achievements.length===0&&bW.forEach(i=>{t().createAchievement(i)})}}));Oo.subscribe(e=>e.achievements,e=>{Wt.set(Ue.ACHIEVEMENTS,e)});Oo.subscribe(e=>e.studentAchievements,e=>{Wt.set(Ue.STUDENT_ACHIEVEMENTS,e)});const wW={환경:[{title:"🌱 오늘의 미세먼지 농도가 {value}㎍/㎥입니다!",content:"미세먼지 농도가 {value}㎍/㎥로 측정되었습니다. 환경 관련 기업들의 주가에 영향을 줄 것으로 예상됩니다.",getImpact:e=>e>80?"positive":e>40?"neutral":"negative",getSeverity:e=>Math.min(5,Math.max(1,Math.floor(e/20)))},{title:"☔ 강수량 {value}mm로 물 부족 해결!",content:"오늘 강수량이 {value}mm를 기록하여 물 부족 문제가 일부 해결되었습니다.",getImpact:e=>e>10?"positive":"neutral",getSeverity:e=>Math.min(3,Math.max(1,Math.floor(e/10)))}],교육:[{title:"📚 선생님 기분 지수 {value}점!",content:"오늘 선생님의 기분 지수가 {value}점입니다. 교육 관련 기업들의 성과에 영향을 줄 것으로 보입니다.",getImpact:e=>e>7?"positive":e>4?"neutral":"negative",getSeverity:e=>Math.abs(e-5.5)},{title:"📝 시험 스트레스 지수 {value}점 기록",content:"학생들의 시험 스트레스가 {value}점으로 측정되었습니다. 교육업계 동향에 주목해야 할 시점입니다.",getImpact:e=>e>7?"negative":e<4?"positive":"neutral",getSeverity:e=>Math.abs(e-5)}],기술:[{title:"💻 디지털 출석률 {value}% 달성!",content:"오늘 학생 출석률이 {value}%를 기록했습니다. 기술 기업들의 실적에 긍정적 영향이 예상됩니다.",getImpact:e=>e>90?"positive":e>70?"neutral":"negative",getSeverity:e=>Math.abs(e-85)/20}],식품:[{title:"🍎 급식 만족도 {value}점 기록!",content:"오늘 급식 만족도가 {value}점을 기록했습니다. 식품업계에 미치는 영향을 분석해보세요.",getImpact:e=>e>3.5?"positive":e>2.5?"neutral":"negative",getSeverity:e=>Math.abs(e-3)*2}],특별이벤트:[{title:"🎯 선생님 몸무게가 {value}kg입니다!",content:"선생님의 건강 관리 상태가 시장 심리에 미치는 특별한 영향을 관찰해보세요!",getImpact:()=>Math.random()>.5?"positive":"negative",getSeverity:()=>Math.floor(Math.random()*3)+1},{title:"🌡️ 교실 온도 {value}°C",content:"오늘 교실 온도가 {value}°C입니다. 쾌적한 환경이 학습과 투자 심리에 미치는 영향을 살펴보세요.",getImpact:e=>e>=18&&e<=26?"positive":"negative",getSeverity:e=>Math.abs(e-22)/5}]},Ms=Vr((e,t)=>({marketNews:[],marketIndicators:[],stockPriceHistory:[],loadMarketNews:()=>{const n=Wt.get(Ue.MARKET_NEWS);n&&e({marketNews:n})},loadMarketIndicators:()=>{const n=Wt.get(Ue.MARKET_INDICATORS);n&&e({marketIndicators:n})},loadStockPriceHistory:()=>{const n=Wt.get(Ue.STOCK_PRICE_HISTORY);n&&e({stockPriceHistory:n})},createMarketNews:n=>{const r=new Date().toISOString(),i={...n,id:it(),createdAt:r};return e(a=>({marketNews:[...a.marketNews,i]})),i},updateMarketNews:(n,r)=>{e(i=>({marketNews:i.marketNews.map(a=>a.id===n?{...a,...r}:a)}))},deleteMarketNews:n=>{e(r=>({marketNews:r.marketNews.filter(i=>i.id!==n)}))},createMarketIndicators:n=>{const r=new Date().toISOString(),i={...n,id:it(),createdAt:r};return e(a=>({marketIndicators:[...a.marketIndicators,i]})),i},generateDailyIndicators:n=>{const r=new Date().toISOString().split("T")[0],i=t().marketIndicators.find(s=>s.classroomId===n&&s.date===r);if(i)return i;const a={fineDust:Math.floor(Math.random()*150)+20,temperature:Math.floor(Math.random()*25)+5,teacherMood:Math.floor(Math.random()*10)+1,teacherWeight:Math.floor(Math.random()*30)+55,rainfall:Math.floor(Math.random()*50),studentAttendance:Math.floor(Math.random()*30)+70,lunchMenuRating:Math.floor(Math.random()*40)/10+1,examStress:Math.floor(Math.random()*10)+1};return t().createMarketIndicators({classroomId:n,date:r,indicators:a})},addStockPriceHistory:n=>{const r=new Date().toISOString(),i={...n,id:it(),createdAt:r};e(a=>({stockPriceHistory:[...a.stockPriceHistory,i]}))},getStockPriceHistory:(n,r=30)=>t().stockPriceHistory.filter(a=>a.stockId===n).sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()).slice(0,r).reverse(),generateRandomNews:(n,r)=>{const i=t().getTodayIndicators(n);if(!i)return[];const a=[],{indicators:s}=i;if(Math.random()>.5){const l=r.filter(()=>Math.random()>.7);l.length>0&&a.push(t().createEducationalNews(n,"환경",l))}if(Math.random()>.6){const l=r.filter(()=>Math.random()>.7);l.length>0&&a.push(t().createEducationalNews(n,"교육",l))}if(Math.random()>.7){const l=r.filter(()=>Math.random()>.8);l.length>0&&a.push(t().createEducationalNews(n,"식품",l))}return a},getActiveNews:n=>{const r=new Date;return t().marketNews.filter(i=>i.classroomId===n&&i.isActive&&(!i.expiresAt||new Date(i.expiresAt)>r))},getTodayIndicators:n=>{const r=new Date().toISOString().split("T")[0];return t().marketIndicators.find(i=>i.classroomId===n&&i.date===r)||null},createEducationalNews:(n,r,i)=>{const a=t().getTodayIndicators(n);if(!a)throw new Error("No indicators found for today");const s=wW[r]||[],l=s[Math.floor(Math.random()*s.length)];let u;switch(r){case"환경":u=a.indicators.fineDust;break;case"교육":u=a.indicators.teacherMood;break;case"기술":u=a.indicators.studentAttendance;break;case"식품":u=a.indicators.lunchMenuRating;break;default:u=a.indicators.teacherWeight||70}const f=l.title.replace("{value}",u.toString()),m=l.content.replace("{value}",u.toString()),p=l.getImpact(u),y=Math.min(5,Math.max(1,Math.floor(l.getSeverity(u)))),v=new Date;return v.setHours(v.getHours()+24),t().createMarketNews({classroomId:n,title:f,content:m,type:r,impact:p,severity:y,affectedStocks:i,isActive:!0,expiresAt:v.toISOString()})}}));Ms.subscribe(e=>e.marketNews,e=>{Wt.set(Ue.MARKET_NEWS,e)});Ms.subscribe(e=>e.marketIndicators,e=>{Wt.set(Ue.MARKET_INDICATORS,e)});Ms.subscribe(e=>e.stockPriceHistory,e=>{Wt.set(Ue.STOCK_PRICE_HISTORY,e)});const Z5=Vr()(Gp((e,t)=>({marketParticipation:[],savingsRates:[],activityHeatmap:[],addMarketParticipation:n=>e(r=>({marketParticipation:[...r.marketParticipation,n]})),addSavingsRate:n=>e(r=>({savingsRates:[...r.savingsRates,n]})),addActivityHeatmap:n=>e(r=>({activityHeatmap:[...r.activityHeatmap,n]})),getMarketParticipationByClassroom:n=>t().marketParticipation.filter(r=>r.classroomId===n),getSavingsRatesByClassroom:n=>t().savingsRates.filter(r=>r.classroomId===n),getActivityHeatmapByClassroom:n=>t().activityHeatmap.filter(r=>r.classroomId===n),calculateEconomicMetrics:n=>{const r=yr.getState().getStudentsByClassroom(n);Cc.getState().getJobsByClassroom(n);const i=ar.getState();Ts.getState();const a=r.map(E=>E.balance),s=t().calculateGiniCoefficient(a),l=a.reduce((E,M)=>E+M,0)/a.length||0,u=a.reduce((E,M)=>E+M,0),m=t().getMarketParticipationByClassroom(n).sort((E,M)=>new Date(M.createdAt).getTime()-new Date(E.createdAt).getTime())[0],p=m?m.participationRate*100:0,v=t().getSavingsRatesByClassroom(n).sort((E,M)=>new Date(M.createdAt).getTime()-new Date(E.createdAt).getTime())[0],b=v?v.savingsRate*100:0,j=r.filter(E=>E.jobId).length/r.length*100||0,_=i.stockTransactions.filter(E=>{const M=new Date(E.createdAt),O=new Date;return O.setDate(O.getDate()-7),E.classroomId===n&&M>=O}).reduce((E,M)=>E+M.totalAmount,0),k=t().calculateInflationRate(n);return{giniCoefficient:s,inflationRate:k,marketParticipation:p,savingsRate:b,tradingVolume:_,averageBalance:l,totalCirculation:u,employmentRate:j}},calculateGiniCoefficient:n=>{if(n.length===0)return 0;const r=[...n].sort((u,f)=>u-f),i=r.length,s=r.reduce((u,f,m)=>(u.push((u[m-1]||0)+f),u),[])[i-1];if(s===0)return 0;let l=0;for(let u=0;u<i;u++)l+=(i-u)*r[u];return 2*l/(i*s)-(i+1)/i},calculateInflationRate:(n,r=30)=>{const a=ar.getState().getStocksByClassroom(n);if(a.length===0)return 0;const s=a.map(u=>(u.currentPrice-u.previousPrice)/u.previousPrice*100);return s.reduce((u,f)=>u+f,0)/s.length*12},calculateMarketParticipation:n=>{const r=yr.getState().getStudentsByClassroom(n),i=ar.getState();return r.filter(s=>i.getTransactionsByStudent(s.id).filter(f=>{const m=new Date(f.createdAt),p=new Date;return p.setDate(p.getDate()-7),m>=p}).length>0).length/r.length*100||0},getStudentActivityHeatmap:n=>{const r=yr.getState().getStudentsByClassroom(n),i=t().getActivityHeatmapByClassroom(n);return r.map(a=>{const s=i.filter(v=>v.studentId===a.id),l=new Array(7).fill(0),u=new Array(24).fill(0);s.forEach(v=>{l[v.dayOfWeek]+=v.transactionCount,u[v.hour]+=v.transactionCount});const f=s.reduce((v,b)=>v+b.transactionCount,0),m=s.sort((v,b)=>new Date(b.createdAt).getTime()-new Date(v.createdAt).getTime())[0],p=s.length>0?s.reduce((v,b)=>v+b.activityLevel,0)/s.length:0,y=Math.round(p*100);return{studentId:a.id,studentName:a.name,lastActivityDate:m?.createdAt||"",totalTransactions:f,weeklyActivity:l,hourlyActivity:u,activityScore:y}})},analyzeTransactionPatterns:(n,r)=>{const i=ar.getState(),a=r?i.getTransactionsByStudent(r):i.stockTransactions.filter(p=>p.classroomId===n),s=a.filter(p=>p.type==="buy").length,l=a.filter(p=>p.type==="sell").length,u=a.reduce((p,y)=>p+y.totalAmount,0),f=new Array(24).fill(0);a.forEach(p=>{const y=new Date(p.createdAt).getHours();f[y]++});const m=f.indexOf(Math.max(...f));return{totalTransactions:a.length,buyCount:s,sellCount:l,buyRatio:s/(s+l)||0,totalVolume:u,averageTransactionSize:u/a.length||0,hourlyPattern:f,peakHour:m,tradingStyle:s>l*1.5?"aggressive":l>s*1.5?"conservative":"balanced"}},predictEconomicTrend:n=>{const r=t().calculateEconomicMetrics(n);let i=0;return r.marketParticipation>70?i+=2:r.marketParticipation>40?i+=1:i-=1,r.employmentRate>80?i+=2:r.employmentRate>50?i+=1:i-=1,r.savingsRate>30?i+=1:r.savingsRate<10&&(i-=1),r.giniCoefficient<.3?i+=1:r.giniCoefficient>.5&&(i-=2),i>=3?"growing":i<=-2?"declining":"stable"},identifyRiskStudents:n=>{const r=yr.getState().getStudentsByClassroom(n),i=r.reduce((a,s)=>a+s.balance,0)/r.length;return r.filter(a=>{const s=a.balance<i*.3,l=!a.jobId,u=a.creditScore<500;return s&&(l||u)}).map(a=>a.id)},generateClassroomReport:n=>{const r=t().calculateEconomicMetrics(n),i=t().predictEconomicTrend(n),a=t().identifyRiskStudents(n),s=t().getStudentActivityHeatmap(n);return{metrics:r,trend:i,riskStudents:a,activityHeatmap:s,timestamp:new Date().toISOString()}},generateStudentReport:n=>{const r=yr.getState().students.find(p=>p.id===n);if(!r)return null;const i=ar.getState(),a=Ts.getState(),s=i.getPortfolioByStudent(n),l=i.calculatePortfolioValue(n),u=a.getSavingsAccountsByStudent(n),f=i.getTransactionsByStudent(n),m=t().analyzeTransactionPatterns(r.classroomId,n);return{student:r,portfolio:s,portfolioValue:l,savingsAccounts:u,totalAssets:r.balance+l+u.reduce((p,y)=>p+y.totalBalance,0),transactionHistory:f,transactionPattern:m,creditScore:r.creditScore,creditGrade:r.creditGrade,achievements:r.achievements}}}),{name:"analytics-storage",partialize:e=>({marketParticipation:e.marketParticipation,savingsRates:e.savingsRates,activityHeatmap:e.activityHeatmap})})),SW=Vr()(Gp((e,t)=>({currentPlan:null,savedPlans:[],teacherProfile:{academicCalendar:{}},setCurrentPlan:n=>e({currentPlan:n}),savePlan:n=>e(r=>({savedPlans:[...r.savedPlans.filter(i=>i.id!==n.id),n],currentPlan:n})),deletePlan:n=>e(r=>({savedPlans:r.savedPlans.filter(i=>i.id!==n),currentPlan:r.currentPlan?.id===n?null:r.currentPlan})),updateTeacherProfile:n=>e(r=>({teacherProfile:{...r.teacherProfile,...n,academicCalendar:{...r.teacherProfile.academicCalendar,...n.academicCalendar}}})),clearCurrentPlan:()=>e({currentPlan:null}),getPlanById:n=>t().savedPlans.find(i=>i.id===n)}),{name:"ai-plan-store"})),jW="modulepreload",NW=function(e){return"/sec/"+e},rk={},xs=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=u(n.map(f=>{if(f=NW(f),f in rk)return;rk[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":jW,m||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),m)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};Vr()(Gp((e,t)=>({portfolios:[],currentPortfolio:null,isGeneratingComment:!1,loadPortfolios:()=>{},createPortfolio:async n=>{const r={id:it(),studentId:n,studentName:"",classroomId:"",classroomName:"",period:`${new Date().getFullYear()}년 ${new Date().getMonth()+1}월`,metrics:{totalAssets:0,cashBalance:0,investmentValue:0,savingsValue:0,netWorth:0,monthlyIncome:0,monthlyExpense:0,savingsRate:0,investmentReturn:0,assetGrowthRate:0},activityAnalysis:{transactionFrequency:0,mostActiveDay:"월요일",mostActiveHour:14,topIncomeCategories:[],topExpenseCategories:[],financialHabits:{isSaver:!1,isInvestor:!1,isActiveTrader:!1,spendingPattern:"moderate"}},monthlyHistory:t().generateMonthlyHistory(n),achievements:[],goals:[],teacherComments:[],lastUpdated:new Date().toISOString(),createdAt:new Date().toISOString()};return e(i=>({portfolios:[...i.portfolios,r],currentPortfolio:r})),r},updatePortfolio:(n,r)=>{e(i=>({portfolios:i.portfolios.map(a=>a.id===n?{...a,...r,lastUpdated:new Date().toISOString()}:a),currentPortfolio:i.currentPortfolio?.id===n?{...i.currentPortfolio,...r,lastUpdated:new Date().toISOString()}:i.currentPortfolio}))},deletePortfolio:n=>{e(r=>({portfolios:r.portfolios.filter(i=>i.id!==n),currentPortfolio:r.currentPortfolio?.id===n?null:r.currentPortfolio}))},setCurrentPortfolio:n=>{if(!n){e({currentPortfolio:null});return}const r=t().portfolios.find(i=>i.id===n);e({currentPortfolio:r||null})},calculateMetrics:n=>({totalAssets:5e4,cashBalance:25e3,investmentValue:15e3,savingsValue:1e4,netWorth:5e4,monthlyIncome:8e3,monthlyExpense:5e3,savingsRate:20,investmentReturn:5.5,assetGrowthRate:8.2}),analyzeActivity:n=>({transactionFrequency:0,mostActiveDay:"월요일",mostActiveHour:14,topIncomeCategories:[],topExpenseCategories:[],financialHabits:{isSaver:!1,isInvestor:!1,isActiveTrader:!1,spendingPattern:"moderate"}}),generateMonthlyHistory:n=>["1월","2월","3월","4월","5월","6월"].map((i,a)=>({month:i,totalAssets:1e4+a*2e3,income:5e3+a*500,expense:3e3+a*300,netChange:2e3+a*200})),addGoal:(n,r)=>{const i={...r,id:it(),studentId:n,achieved:!1,createdAt:new Date().toISOString()};e(a=>a.portfolios.find(l=>l.studentId===n)?{portfolios:a.portfolios.map(l=>l.studentId===n?{...l,goals:[...l.goals,i]}:l)}:a)},updateGoal:(n,r)=>{e(i=>({portfolios:i.portfolios.map(a=>({...a,goals:a.goals.map(s=>s.id===n?{...s,...r}:s)}))}))},deleteGoal:n=>{e(r=>({portfolios:r.portfolios.map(i=>({...i,goals:i.goals.filter(a=>a.id!==n)}))}))},checkGoalProgress:n=>{e(r=>{const i=r.portfolios.find(s=>s.studentId===n);if(!i)return r;const a=i.goals.map(s=>{const l=s.currentAmount>=s.targetAmount;return{...s,achieved:l}});return{portfolios:r.portfolios.map(s=>s.studentId===n?{...s,goals:a}:s)}})},addComment:(n,r,i=!1)=>{const a={id:it(),studentId:n,content:r,isAIGenerated:i,createdAt:new Date().toISOString(),author:i?"AI 교사 도우미":"담임 선생님"};e(s=>({portfolios:s.portfolios.map(l=>l.studentId===n?{...l,teacherComments:[...l.teacherComments,a]}:l)}))},generateAIComment:async n=>{e({isGeneratingComment:!0});try{const{geminiService:r}=await xs(async()=>{const{geminiService:b}=await Promise.resolve().then(()=>Nxe);return{geminiService:b}},[]),{GoogleGenerativeAI:i}=await xs(async()=>{const{GoogleGenerativeAI:b}=await Promise.resolve().then(()=>x2);return{GoogleGenerativeAI:b}},void 0),a=t().portfolios.find(b=>b.studentId===n);if(!a)throw new Error("Portfolio not found");const{useStudentStore:s}=await xs(async()=>{const{useStudentStore:b}=await Promise.resolve().then(()=>mW);return{useStudentStore:b}},void 0),l=s.getState().getStudent(n);if(!l)throw new Error("Student not found");const f=new i("AIzaSyCFIM0txm2ZvHfjeQkFl6Vt_y8gPbDT_ok").getGenerativeModel({model:"gemini-2.0-flash-001",generationConfig:{temperature:.7,topP:.9,maxOutputTokens:300}}),m=`학생 경제 활동 포트폴리오를 보고 교사 코멘트를 작성해주세요.

학생 정보:
- 이름: ${a.studentName}
- 학급: ${a.classroomName}
- 신용점수: ${l.creditScore}점 (${l.creditGrade}등급)
- 총 자산: ${a.metrics.totalAssets.toLocaleString()}원
- 저축률: ${a.metrics.savingsRate}%
- 투자 수익률: ${a.metrics.investmentReturn}%
- 달성 업적: ${a.achievements.length}개

활동 분석:
- 거래 빈도: ${a.activityAnalysis.transactionFrequency}회/월
- 지출 패턴: ${a.activityAnalysis.financialHabits.spendingPattern}
- 저축형: ${a.activityAnalysis.financialHabits.isSaver?"예":"아니오"}
- 투자형: ${a.activityAnalysis.financialHabits.isInvestor?"예":"아니오"}

3-4문장으로 긍정적이고 격려하는 톤으로 작성하되, 구체적인 개선 방안도 1가지 제시해주세요.`,v=(await(await f.generateContent(m)).response).text();return t().addComment(n,v,!0),e({isGeneratingComment:!1}),v}catch(r){throw console.error("AI comment generation error:",r),e({isGeneratingComment:!1}),new Error("AI 코멘트 생성 중 오류가 발생했습니다.")}},deleteComment:n=>{e(r=>({portfolios:r.portfolios.map(i=>({...i,teacherComments:i.teacherComments.filter(a=>a.id!==n)}))}))},exportToPDF:async n=>{const r=t().portfolios.find(m=>m.id===n);if(!r)throw new Error("Portfolio not found");const i=await xs(()=>import("./jspdf.es.min-RhqP-I0Y.js").then(m=>m.j),[]);await xs(()=>import("./html2canvas.esm-B0tyYwQk.js"),[]);const a=await xs(()=>import("./jspdf.plugin.autotable-iy_ebv8X.js"),[]),s=new i.jsPDF({orientation:"portrait",unit:"mm",format:"a4"});s.setFont("helvetica"),s.setFontSize(20),s.text("Economic Activity Portfolio",20,30),s.setFontSize(16),s.text(`Student: ${r.studentName}`,20,45),s.setFontSize(12),s.text(`Class: ${r.classroomName}`,20,55),s.text(`Period: ${r.period}`,20,65),s.setFontSize(14),s.text("Key Metrics",20,85);const l=[["Total Assets",`${r.metrics.totalAssets.toLocaleString()}`],["Cash Balance",`${r.metrics.cashBalance.toLocaleString()}`],["Investment Value",`${r.metrics.investmentValue.toLocaleString()}`],["Savings Value",`${r.metrics.savingsValue.toLocaleString()}`],["Savings Rate",`${r.metrics.savingsRate.toFixed(1)}%`]];a.default(s,{startY:95,head:[["Metric","Value"]],body:l,theme:"grid",headStyles:{fillColor:[99,102,241]},margin:{left:20,right:20}});let u=s.lastAutoTable.finalY+20;if(s.setFontSize(14),s.text("Goals",20,u),r.goals.length>0){const m=r.goals.map(p=>[p.title,`${p.targetAmount.toLocaleString()}`,`${(p.currentAmount/p.targetAmount*100).toFixed(1)}%`,p.achieved?"Achieved":"In Progress"]);a.default(s,{startY:u+10,head:[["Goal","Target Amount","Progress","Status"]],body:m,theme:"grid",headStyles:{fillColor:[16,185,129]},margin:{left:20,right:20}}),u=s.lastAutoTable.finalY+20}r.teacherComments.length>0&&(s.setFontSize(14),s.text("Teacher Comments",20,u),u+=15,r.teacherComments.forEach((m,p)=>{u>250&&(s.addPage(),u=30),s.setFontSize(10),s.text(`${p+1}. ${m.author} (${new Date(m.createdAt).toLocaleDateString()})`,20,u),u+=8;const y=s.splitTextToSize(m.content,170);s.text(y,25,u),u+=y.length*5+10})),s.setFontSize(8),s.setTextColor(128),s.text(`Generated on: ${new Date().toLocaleString()}`,20,280),s.text("Generated by Viva Village SEC Platform",20,285);const f=`${r.studentName}_Portfolio_${new Date().toISOString().split("T")[0]}.pdf`;s.save(f)},getPortfolioByStudent:n=>t().portfolios.find(r=>r.studentId===n)}),{name:"portfolio-store"}));const Aw=Vr()(Gp((e,t)=>({geminiApiKey:null,isPremiumActive:!1,setGeminiApiKey:n=>{e({geminiApiKey:n,isPremiumActive:!0})},clearApiKey:()=>{e({geminiApiKey:null,isPremiumActive:!1})},validateApiKey:async n=>{try{const{GoogleGenerativeAI:r}=await xs(async()=>{const{GoogleGenerativeAI:s}=await Promise.resolve().then(()=>x2);return{GoogleGenerativeAI:s}},void 0);return await new r(n).getGenerativeModel({model:"gemini-2.0-flash-001"}).generateContent("test"),t().setGeminiApiKey(n),!0}catch(r){return console.error("API 키 검증 실패:",r),!1}}}),{name:"premium-store"})),_W=()=>{const e=Xo(w=>w.initialize),t=kc(w=>w.loadClassrooms),n=yr(w=>w.loadStudents),r=Cc(w=>w.loadJobs),i=Ts(w=>w.loadSavingsAccounts),a=ar(w=>w.loadStocks),s=ar(w=>w.loadStockTransactions),l=ar(w=>w.loadStockPortfolios),u=Oo(w=>w.loadAchievements),f=Oo(w=>w.loadStudentAchievements),m=Oo(w=>w.createDefaultAchievements),p=Ms(w=>w.loadMarketNews),y=Ms(w=>w.loadMarketIndicators),v=Ms(w=>w.loadStockPriceHistory);return{initialize:()=>{e(),t(),n(),r(),i(),a(),s(),l(),u(),f(),m("default"),p(),y(),v()}}},Ur=()=>{const e=Xo(n=>n.currentClassId),t=kc(n=>n.getClassroom);return e?t(e):null},$s=()=>{const e=Xo(n=>n.currentClassId),t=yr(n=>n.getStudentsByClassroom);return e?t(e):[]},Mw=()=>{const e=Xo(n=>n.currentClassId),t=Cc(n=>n.getJobsByClassroom);return e?t(e):[]};function AW({children:e}){const[t,n]=N.useState(!1),[r,i]=N.useState(!1),a=Ls(),s=Ur(),l=p=>a.pathname===p,u=[{name:"홈",path:"/",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"학급 관리",path:"/classes",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{name:"학생 관리",path:"/students",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"직업 관리",path:"/jobs",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 002 2h2a2 2 0 002-2V6M8 4v2a2 2 0 002 2h4a2 2 0 002-2V4M8 4H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2"})})},{name:"거래 내역",path:"/transactions",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"아이템 상점",path:"/items",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})},{name:"은행",path:"/banking",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M10.5 6L12 7l-1.5 1L9 7l1.5-1zm0 0V3h3v3M3 21V10.5"})})},{name:"주식",path:"/stocks",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{name:"업적",path:"/achievements",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}],f=[{name:"AI 계획",path:"/ai-plan",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{name:"AI 포트폴리오",path:"/portfolio",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}],m=[...u,...f];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex",children:[d.jsx("div",{className:`hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 transition-all duration-300 ${t?"lg:w-20":"lg:w-64"}`,children:d.jsxs("div",{className:"flex flex-col flex-grow bg-white/90 backdrop-blur-xl border-r border-gray-200/50 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 h-16 bg-white/80 backdrop-blur-xl border-b border-gray-200/50",children:[d.jsx(xi,{to:"/",className:"flex items-center",children:t?d.jsx("div",{className:"w-10 h-10 bg-accent-500 rounded-2xl flex items-center justify-center shadow-lg",children:d.jsx("span",{className:"text-white font-bold text-lg",children:"V"})}):d.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"비바빌리지"})}),d.jsx("button",{onClick:()=>n(!t),className:"hidden lg:block p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:d.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M13 5l7 7-7 7":"M11 19l-7-7 7-7"})})})]}),d.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[u.map(p=>d.jsxs(xi,{to:p.path,className:`flex items-center px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${l(p.path)?"bg-accent-100 text-accent-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:t?p.name:void 0,children:[d.jsx("span",{className:t?"mx-auto":"mr-3",children:p.icon}),!t&&p.name]},p.path)),!t&&d.jsx("div",{className:"pt-4 mt-4 border-t border-gray-200",children:d.jsx("div",{className:"px-3 mb-2",children:d.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"프리미엄"})})}),f.map(p=>d.jsxs(xi,{to:p.path,className:`flex items-center px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${l(p.path)?"bg-purple-100 text-purple-700 shadow-sm":"text-gray-600 hover:bg-purple-50 hover:text-purple-700"}`,title:t?p.name:void 0,children:[d.jsx("span",{className:t?"mx-auto":"mr-3",children:p.icon}),!t&&p.name]},p.path))]}),s&&d.jsx("div",{className:`p-4 border-t border-gray-200/50 ${t?"px-2":""}`,children:t?d.jsx("div",{className:"w-12 h-12 bg-accent-100 rounded-xl flex items-center justify-center mx-auto",children:d.jsx("span",{className:"text-xs font-bold text-accent-700",children:s.name.substring(0,2)})}):d.jsx("div",{className:"bg-accent-50 rounded-xl px-4 py-3",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-800",children:s.name}),d.jsx("p",{className:"text-xs text-gray-500",children:s.currencyUnit})]})]})})})]})}),d.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-200/50",children:d.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[d.jsx(xi,{to:"/",className:"flex items-center",children:d.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"비바빌리지"})}),d.jsx("button",{onClick:()=>i(!r),className:"p-2 rounded-xl text-gray-500 hover:bg-gray-100 transition-colors",children:d.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:r?d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),r&&d.jsxs("div",{className:"lg:hidden fixed inset-0 z-40 flex",children:[d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50",onClick:()=>i(!1)}),d.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[d.jsx("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:d.jsxs("nav",{className:"px-2 space-y-1",children:[u.map(p=>d.jsxs(xi,{to:p.path,className:`flex items-center px-3 py-3 rounded-xl text-base font-medium transition-all duration-200 ${l(p.path)?"bg-accent-100 text-accent-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>i(!1),children:[d.jsx("span",{className:"mr-3",children:p.icon}),p.name]},p.path)),d.jsx("div",{className:"pt-4 mt-4 border-t border-gray-200",children:d.jsx("div",{className:"px-3 mb-2",children:d.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"프리미엄"})})}),f.map(p=>d.jsxs(xi,{to:p.path,className:`flex items-center px-3 py-3 rounded-xl text-base font-medium transition-all duration-200 ${l(p.path)?"bg-purple-100 text-purple-700 shadow-sm":"text-gray-600 hover:bg-purple-50 hover:text-purple-700"}`,onClick:()=>i(!1),children:[d.jsx("span",{className:"mr-3",children:p.icon}),p.name]},p.path))]})}),s&&d.jsx("div",{className:"p-4 border-t border-gray-200/50",children:d.jsx("div",{className:"bg-accent-50 rounded-xl px-4 py-3",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-800",children:s.name}),d.jsx("p",{className:"text-xs text-gray-500",children:s.currencyUnit})]})]})})})]})]}),d.jsxs("div",{className:`flex-1 flex flex-col ${t?"lg:pl-20":"lg:pl-64"} transition-all duration-300`,children:[d.jsxs("div",{className:"hidden lg:flex items-center justify-between px-6 h-16 bg-white/80 backdrop-blur-xl border-b border-gray-200/50 sticky top-0 z-30",children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:m.find(p=>p.path===a.pathname)?.name||"대시보드"})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{className:"p-2 rounded-xl text-gray-500 hover:bg-gray-100 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),d.jsx("button",{className:"p-2 rounded-xl text-gray-500 hover:bg-gray-100 transition-colors",children:d.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),d.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:d.jsx("div",{className:"container mx-auto px-6 py-8 lg:mt-0 mt-16",children:e})})]})]})}const kw=N.createContext({});function Cw(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ew=typeof window<"u",X5=Ew?N.useLayoutEffect:N.useEffect,Jp=N.createContext(null);function Tw(e,t){e.indexOf(t)===-1&&e.push(t)}function Ow(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ta=(e,t,n)=>n>t?t:n<e?e:n;let Pw=()=>{};const Oa={},Q5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function J5(e){return typeof e=="object"&&e!==null}const eR=e=>/^0[^.\s]+$/u.test(e);function Dw(e){let t;return()=>(t===void 0&&(t=e()),t)}const li=e=>e,MW=(e,t)=>n=>t(e(n)),uf=(...e)=>e.reduce(MW),Td=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Rw{constructor(){this.subscriptions=[]}add(t){return Tw(this.subscriptions,t),()=>Ow(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Bi=e=>e/1e3;function tR(e,t){return t?e*(1e3/t):0}const nR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kW=1e-7,CW=12;function EW(e,t,n,r,i){let a,s,l=0;do s=t+(n-t)/2,a=nR(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>kW&&++l<CW);return s}function df(e,t,n,r){if(e===t&&n===r)return li;const i=a=>EW(a,0,1,e,n);return a=>a===0||a===1?a:nR(i(a),t,r)}const rR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iR=e=>t=>1-e(1-t),aR=df(.33,1.53,.69,.99),Lw=iR(aR),sR=rR(Lw),oR=e=>(e*=2)<1?.5*Lw(e):.5*(2-Math.pow(2,-10*(e-1))),Iw=e=>1-Math.sin(Math.acos(e)),lR=iR(Iw),cR=rR(Iw),TW=df(.42,0,1,1),OW=df(0,0,.58,1),uR=df(.42,0,.58,1),PW=e=>Array.isArray(e)&&typeof e[0]!="number",dR=e=>Array.isArray(e)&&typeof e[0]=="number",DW={linear:li,easeIn:TW,easeInOut:uR,easeOut:OW,circIn:Iw,circInOut:cR,circOut:lR,backIn:Lw,backInOut:sR,backOut:aR,anticipate:oR},RW=e=>typeof e=="string",ik=e=>{if(dR(e)){Pw(e.length===4);const[t,n,r,i]=e;return df(t,n,r,i)}else if(RW(e))return DW[e];return e},Zh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LW(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){s.has(m)&&(f.schedule(m),e()),m(l)}const f={schedule:(m,p=!1,y=!1)=>{const b=y&&i?n:r;return p&&s.add(m),b.has(m)||b.add(m),m},cancel:m=>{r.delete(m),s.delete(m)},process:m=>{if(l=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const IW=40;function fR(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Zh.reduce((k,E)=>(k[E]=LW(a),k),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:m,update:p,preRender:y,render:v,postRender:b}=s,w=()=>{const k=Oa.useManualTiming?i.timestamp:performance.now();n=!1,Oa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,IW),1)),i.timestamp=k,i.isProcessing=!0,l.process(i),u.process(i),f.process(i),m.process(i),p.process(i),y.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(w))},j=()=>{n=!0,r=!0,i.isProcessing||e(w)};return{schedule:Zh.reduce((k,E)=>{const M=s[E];return k[E]=(O,L=!1,D=!1)=>(n||j(),M.schedule(O,L,D)),k},{}),cancel:k=>{for(let E=0;E<Zh.length;E++)s[Zh[E]].cancel(k)},state:i,steps:s}}const{schedule:Pt,cancel:Os,state:$n,steps:yv}=fR(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let Om;function $W(){Om=void 0}const xr={now:()=>(Om===void 0&&xr.set($n.isProcessing||Oa.useManualTiming?$n.timestamp:performance.now()),Om),set:e=>{Om=e,queueMicrotask($W)}},hR=e=>t=>typeof t=="string"&&t.startsWith(e),$w=hR("--"),zW=hR("var(--"),zw=e=>zW(e)?BW.test(e.split("/*")[0].trim()):!1,BW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Od={...Ec,transform:e=>Ta(0,1,e)},Xh={...Ec,default:1},hd=e=>Math.round(e*1e5)/1e5,Bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VW(e){return e==null}const UW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vw=(e,t)=>n=>!!(typeof n=="string"&&UW.test(n)&&n.startsWith(e)||t&&!VW(n)&&Object.prototype.hasOwnProperty.call(n,t)),mR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,l]=r.match(Bw);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},FW=e=>Ta(0,255,e),vv={...Ec,transform:e=>Math.round(FW(e))},jo={test:Vw("rgb","red"),parse:mR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vv.transform(e)+", "+vv.transform(t)+", "+vv.transform(n)+", "+hd(Od.transform(r))+")"};function HW(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pb={test:Vw("#"),parse:HW,transform:jo.transform},ff=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vs=ff("deg"),Vi=ff("%"),Ve=ff("px"),qW=ff("vh"),WW=ff("vw"),ak={...Vi,parse:e=>Vi.parse(e)/100,transform:e=>Vi.transform(e*100)},Jl={test:Vw("hsl","hue"),parse:mR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Vi.transform(hd(t))+", "+Vi.transform(hd(n))+", "+hd(Od.transform(r))+")"},cn={test:e=>jo.test(e)||Pb.test(e)||Jl.test(e),parse:e=>jo.test(e)?jo.parse(e):Jl.test(e)?Jl.parse(e):Pb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jo.transform(e):Jl.transform(e),getAnimatableNone:e=>{const t=cn.parse(e);return t.alpha=0,cn.transform(t)}},GW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YW(e){return isNaN(e)&&typeof e=="string"&&(e.match(Bw)?.length||0)+(e.match(GW)?.length||0)>0}const pR="number",gR="color",KW="var",ZW="var(",sk="${}",XW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(XW,u=>(cn.test(u)?(r.color.push(a),i.push(gR),n.push(cn.parse(u))):u.startsWith(ZW)?(r.var.push(a),i.push(KW),n.push(u)):(r.number.push(a),i.push(pR),n.push(parseFloat(u))),++a,sk)).split(sk);return{values:n,split:l,indexes:r,types:i}}function yR(e){return Pd(e).values}function vR(e){const{split:t,types:n}=Pd(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const l=n[s];l===pR?a+=hd(i[s]):l===gR?a+=cn.transform(i[s]):a+=i[s]}return a}}const QW=e=>typeof e=="number"?0:cn.test(e)?cn.getAnimatableNone(e):e;function JW(e){const t=yR(e);return vR(e)(t.map(QW))}const Ps={test:YW,parse:yR,createTransformer:vR,getAnimatableNone:JW};function xv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function eG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=xv(u,l,e+1/3),a=xv(u,l,e),s=xv(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Gm(e,t){return n=>n>0?t:e}const $t=(e,t,n)=>e+(t-e)*n,bv=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},tG=[Pb,jo,Jl],nG=e=>tG.find(t=>t.test(e));function ok(e){const t=nG(e);if(!t)return!1;let n=t.parse(e);return t===Jl&&(n=eG(n)),n}const lk=(e,t)=>{const n=ok(e),r=ok(t);if(!n||!r)return Gm(e,t);const i={...n};return a=>(i.red=bv(n.red,r.red,a),i.green=bv(n.green,r.green,a),i.blue=bv(n.blue,r.blue,a),i.alpha=$t(n.alpha,r.alpha,a),jo.transform(i))},Db=new Set(["none","hidden"]);function rG(e,t){return Db.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function iG(e,t){return n=>$t(e,t,n)}function Uw(e){return typeof e=="number"?iG:typeof e=="string"?zw(e)?Gm:cn.test(e)?lk:oG:Array.isArray(e)?xR:typeof e=="object"?cn.test(e)?lk:aG:Gm}function xR(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>Uw(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function aG(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Uw(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function sG(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],l=e.values[s]??0;n[i]=l,r[a]++}return n}const oG=(e,t)=>{const n=Ps.createTransformer(t),r=Pd(e),i=Pd(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Db.has(e)&&!i.values.length||Db.has(t)&&!r.values.length?rG(e,t):uf(xR(sG(r,i),i.values),n):Gm(e,t)};function bR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?$t(e,t,n):Uw(e)(e,t)}const lG=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pt.update(t,n),stop:()=>Os(t),now:()=>$n.isProcessing?$n.timestamp:xr.now()}},wR=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ym=2e4;function Fw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ym;)t+=n,r=e.next(t);return t>=Ym?1/0:t}function cG(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Fw(r),Ym);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:Bi(i)}}const uG=5;function SR(e,t,n){const r=Math.max(t-uG,0);return tR(n-e(r),t-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wv=.001;function dG({duration:e=qt.duration,bounce:t=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let i,a,s=1-t;s=Ta(qt.minDamping,qt.maxDamping,s),e=Ta(qt.minDuration,qt.maxDuration,Bi(e)),s<1?(i=f=>{const m=f*s,p=m*e,y=m-n,v=Rb(f,s),b=Math.exp(-p);return wv-y/v*b},a=f=>{const p=f*s*e,y=p*n+n,v=Math.pow(s,2)*Math.pow(f,2)*e,b=Math.exp(-p),w=Rb(Math.pow(f,2),s);return(-i(f)+wv>0?-1:1)*((y-v)*b)/w}):(i=f=>{const m=Math.exp(-f*e),p=(f-n)*e+1;return-wv+m*p},a=f=>{const m=Math.exp(-f*e),p=(n-f)*(e*e);return m*p});const l=5/e,u=hG(i,a,l);if(e=zi(e),isNaN(u))return{stiffness:qt.stiffness,damping:qt.damping,duration:e};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:e}}}const fG=12;function hG(e,t,n){let r=n;for(let i=1;i<fG;i++)r=r-e(r)/t(r);return r}function Rb(e,t){return e*Math.sqrt(1-t*t)}const mG=["duration","bounce"],pG=["stiffness","damping","mass"];function ck(e,t){return t.some(n=>e[n]!==void 0)}function gG(e){let t={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...e};if(!ck(e,pG)&&ck(e,mG))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ta(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:qt.mass,stiffness:i,damping:a}}else{const n=dG(e);t={...t,...n,mass:qt.mass},t.isResolvedFromDuration=!0}return t}function Km(e=qt.visualDuration,t=qt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:f,mass:m,duration:p,velocity:y,isResolvedFromDuration:v}=gG({...n,velocity:-Bi(n.velocity||0)}),b=y||0,w=f/(2*Math.sqrt(u*m)),j=s-a,A=Bi(Math.sqrt(u/m)),_=Math.abs(j)<5;r||(r=_?qt.restSpeed.granular:qt.restSpeed.default),i||(i=_?qt.restDelta.granular:qt.restDelta.default);let k;if(w<1){const M=Rb(A,w);k=O=>{const L=Math.exp(-w*A*O);return s-L*((b+w*A*j)/M*Math.sin(M*O)+j*Math.cos(M*O))}}else if(w===1)k=M=>s-Math.exp(-A*M)*(j+(b+A*j)*M);else{const M=A*Math.sqrt(w*w-1);k=O=>{const L=Math.exp(-w*A*O),D=Math.min(M*O,300);return s-L*((b+w*A*j)*Math.sinh(D)+M*j*Math.cosh(D))/M}}const E={calculatedDuration:v&&p||null,next:M=>{const O=k(M);if(v)l.done=M>=p;else{let L=M===0?b:0;w<1&&(L=M===0?zi(b):SR(k,M,O));const D=Math.abs(L)<=r,R=Math.abs(s-O)<=i;l.done=D&&R}return l.value=l.done?s:O,l},toString:()=>{const M=Math.min(Fw(E),Ym),O=wR(L=>E.next(M*L).value,M,30);return M+"ms "+O},toTransition:()=>{}};return E}Km.applyToOptions=e=>{const t=cG(e,100,Km);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function Lb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:f=.5,restSpeed:m}){const p=e[0],y={done:!1,value:p},v=D=>l!==void 0&&D<l||u!==void 0&&D>u,b=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let w=n*t;const j=p+w,A=s===void 0?j:s(j);A!==j&&(w=A-p);const _=D=>-w*Math.exp(-D/r),k=D=>A+_(D),E=D=>{const R=_(D),F=k(D);y.done=Math.abs(R)<=f,y.value=y.done?A:F};let M,O;const L=D=>{v(y.value)&&(M=D,O=Km({keyframes:[y.value,b(y.value)],velocity:SR(k,D,y.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return L(0),{calculatedDuration:null,next:D=>{let R=!1;return!O&&M===void 0&&(R=!0,E(D),L(D)),M!==void 0&&D>=M?O.next(D-M):(!R&&E(D),y)}}}function yG(e,t,n){const r=[],i=n||Oa.mix||bR,a=e.length-1;for(let s=0;s<a;s++){let l=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||li:t;l=uf(u,l)}r.push(l)}return r}function vG(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(Pw(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=yG(t,r,i),u=l.length,f=m=>{if(s&&m<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const y=Td(e[p],e[p+1],m);return l[p](y)};return n?m=>f(Ta(e[0],e[a-1],m)):f}function xG(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Td(0,t,r);e.push($t(n,1,i))}}function bG(e){const t=[0];return xG(t,e.length-1),t}function wG(e,t){return e.map(n=>n*t)}function SG(e,t){return e.map(()=>t||uR).splice(0,e.length-1)}function md({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=PW(r)?r.map(ik):ik(r),a={done:!1,value:t[0]},s=wG(n&&n.length===t.length?n:bG(t),e),l=vG(s,t,{ease:Array.isArray(i)?i:SG(t,i)});return{calculatedDuration:e,next:u=>(a.value=l(u),a.done=u>=e,a)}}const jG=e=>e!==null;function Hw(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(jG),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const NG={decay:Lb,inertia:Lb,tween:md,keyframes:md,spring:Km};function jR(e){typeof e.type=="string"&&(e.type=NG[e.type])}class qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _G=e=>e/100;class Ww extends qw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xr.now()&&this.tick(xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jR(t);const{type:n=md,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:l}=t;const u=n||md;u!==md&&typeof l[0]!="number"&&(this.mixKeyframes=uf(_G,bR(l[0],l[1])),l=[0,100]);const f=u({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=Fw(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:y,repeatDelay:v,type:b,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,E=r;if(p){const D=Math.min(this.currentTime,i)/l;let R=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(y==="reverse"?(F=1-F,v&&(F-=v/l)):y==="mirror"&&(E=s)),k=Ta(0,1,F)*l}const M=_?{done:!1,value:m[0]}:E.next(k);a&&(M.value=a(M.value));let{done:O}=M;!_&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return L&&b!==Lb&&(M.value=Hw(m,this.options,j,this.speed)),w&&w(M.value),L&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return Bi(this.calculatedDuration)}get time(){return Bi(this.currentTime)}set time(t){t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=lG,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function AG(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const No=e=>e*180/Math.PI,Ib=e=>{const t=No(Math.atan2(e[1],e[0]));return $b(t)},MG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ib,rotateZ:Ib,skewX:e=>No(Math.atan(e[1])),skewY:e=>No(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$b=e=>(e=e%360,e<0&&(e+=360),e),uk=Ib,dk=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fk=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dk,scaleY:fk,scale:e=>(dk(e)+fk(e))/2,rotateX:e=>$b(No(Math.atan2(e[6],e[5]))),rotateY:e=>$b(No(Math.atan2(-e[2],e[0]))),rotateZ:uk,rotate:uk,skewX:e=>No(Math.atan(e[4])),skewY:e=>No(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zb(e){return e.includes("scale")?1:0}function Bb(e,t){if(!e||e==="none")return zb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=kG,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MG,i=l}if(!i)return zb(t);const a=r[t],s=i[1].split(",").map(EG);return typeof a=="function"?a(s):s[a]}const CG=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bb(n,t)};function EG(e){return parseFloat(e.trim())}const Tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oc=new Set(Tc),hk=e=>e===Ec||e===Ve,TG=new Set(["x","y","z"]),OG=Tc.filter(e=>!TG.has(e));function PG(e){const t=[];return OG.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bb(t,"x"),y:(e,{transform:t})=>Bb(t,"y")};Po.translateX=Po.x;Po.translateY=Po.y;const Do=new Set;let Vb=!1,Ub=!1,Fb=!1;function NR(){if(Ub){const e=Array.from(Do).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=PG(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ub=!1,Vb=!1,Do.forEach(e=>e.complete(Fb)),Do.clear()}function _R(){Do.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ub=!0)})}function DG(){Fb=!0,_R(),NR(),Fb=!1}class Gw{constructor(t,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Do.add(this),Vb||(Vb=!0,Pt.read(_R),Pt.resolveKeyframes(NR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}AG(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Do.delete(this)}cancel(){this.state==="scheduled"&&(Do.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RG=e=>e.startsWith("--");function LG(e,t,n){RG(t)?e.style.setProperty(t,n):e.style[t]=n}const IG=Dw(()=>window.ScrollTimeline!==void 0),$G={};function zG(e,t){const n=Dw(e);return()=>$G[t]??n()}const AR=zG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,mk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sd([0,.65,.55,1]),circOut:sd([.55,0,1,.45]),backIn:sd([.31,.01,.66,-.59]),backOut:sd([.33,1.53,.69,.99])};function MR(e,t){if(e)return typeof e=="function"?AR()?wR(e,t):"ease-out":dR(e)?sd(e):Array.isArray(e)?e.map(n=>MR(n,t)||mk.easeOut):mk[e]}function BG(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:u}={},f=void 0){const m={[t]:n};u&&(m.offset=u);const p=MR(l,i);Array.isArray(p)&&(m.easing=p);const y={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),e.animate(m,y)}function kR(e){return typeof e=="function"&&"applyToOptions"in e}function VG({type:e,...t}){return kR(e)&&AR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class UG extends qw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,Pw(typeof t.type!="string");const f=VG(t);this.animation=BG(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Hw(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):LG(n,r,m),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Bi(Number(t))}get time(){return Bi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&IG()?(this.animation.timeline=t,li):n(this)}}const CR={anticipate:oR,backInOut:sR,circInOut:cR};function FG(e){return e in CR}function HG(e){typeof e.ease=="string"&&FG(e.ease)&&(e.ease=CR[e.ease])}const pk=10;class qG extends UG{constructor(t){HG(t),jR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ww({...s,autoplay:!1}),u=zi(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-pk).value,l.sample(u).value,pk),l.stop()}}const gk=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ps.test(e)||e==="0")&&!e.startsWith("url("));function WG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GG(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=gk(i,t),l=gk(a,t);return!s||!l?!1:WG(e)||(n==="spring"||kR(n))&&r}function Hb(e){e.duration=0,e.type}const YG=new Set(["opacity","clipPath","filter","transform"]),KG=Dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZG(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return KG()&&n&&YG.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const XG=40;class QG extends qw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:u,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xr.now();const y={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:u,motionValue:f,element:m,...p},v=m?.KeyframeResolver||Gw;this.keyframeResolver=new v(l,(b,w,j)=>this.onKeyframesResolved(b,w,y,!j),u,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:u,isHandoff:f,onUpdate:m}=r;this.resolvedAt=xr.now(),GG(t,a,s,l)||((Oa.instantAnimations||!u)&&m?.(Hw(t,r,n)),t[0]=t[t.length-1],Hb(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>XG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!f&&ZG(y)?new qG({...y,element:y.motionValue.owner.current}):new Ww(y);v.finished.then(()=>this.notifyFinished()).catch(li),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),DG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const JG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eY(e){const t=JG.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function ER(e,t,n=1){const[r,i]=eY(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return Q5(s)?parseFloat(s):s}return zw(i)?ER(i,t,n+1):i}function Yw(e,t){return e?.[t]??e?.default??e}const TR=new Set(["width","height","top","left","right","bottom",...Tc]),tY={test:e=>e==="auto",parse:e=>e},OR=e=>t=>t.test(e),PR=[Ec,Ve,Vi,vs,WW,qW,tY],yk=e=>PR.find(OR(e));function nY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eR(e):!0}const rY=new Set(["brightness","contrast","saturate","opacity"]);function iY(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Bw)||[];if(!r)return e;const i=n.replace(r,"");let a=rY.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const aY=/\b([a-z-]*)\(.*?\)/gu,qb={...Ps,getAnimatableNone:e=>{const t=e.match(aY);return t?t.map(iY).join(" "):e}},vk={...Ec,transform:Math.round},sY={rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:vs,skewX:vs,skewY:vs,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Od,originX:ak,originY:ak,originZ:Ve},Kw={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...sY,zIndex:vk,fillOpacity:Od,strokeOpacity:Od,numOctaves:vk},oY={...Kw,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:qb,WebkitFilter:qb},DR=e=>oY[e];function RR(e,t){let n=DR(e);return n!==qb&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const lY=new Set(["auto","none","0"]);function cY(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!lY.has(a)&&Pd(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=RR(n,i)}class uY extends Gw{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),zw(f))){const m=ER(f,n.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!TR.has(r)||t.length!==2)return;const[i,a]=t,s=yk(i),l=yk(a);if(s!==l)if(hk(s)&&hk(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else Po[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||nY(t[i]))&&r.push(i);r.length&&cY(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Po[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function dY(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const LR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function IR(e){return J5(e)&&"offsetHeight"in e}const xk=30,fY=e=>!isNaN(parseFloat(e));class hY{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Rw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xk);return tR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hc(e,t){return new hY(e,t)}const{schedule:Zw}=fR(queueMicrotask,!1),vi={x:!1,y:!1};function $R(){return vi.x||vi.y}function mY(e){return e==="x"||e==="y"?vi[e]?null:(vi[e]=!0,()=>{vi[e]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function zR(e,t){const n=dY(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function bk(e){return!(e.pointerType==="touch"||$R())}function pY(e,t,n={}){const[r,i,a]=zR(e,n),s=l=>{if(!bk(l))return;const{target:u}=l,f=t(u,l);if(typeof f!="function"||!u)return;const m=p=>{bk(p)&&(f(p),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,i)};return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),a}const BR=(e,t)=>t?e===t?!0:BR(e,t.parentElement):!1,Xw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yY(e){return gY.has(e.tagName)||e.tabIndex!==-1}const Pm=new WeakSet;function wk(e){return t=>{t.key==="Enter"&&e(t)}}function Sv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vY=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wk(()=>{if(Pm.has(n))return;Sv(n,"down");const i=wk(()=>{Sv(n,"up")}),a=()=>Sv(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Sk(e){return Xw(e)&&!$R()}function xY(e,t,n={}){const[r,i,a]=zR(e,n),s=l=>{const u=l.currentTarget;if(!Sk(l))return;Pm.add(u);const f=t(u,l),m=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),Pm.has(u)&&Pm.delete(u),Sk(v)&&typeof f=="function"&&f(v,{success:b})},p=v=>{m(v,u===window||u===document||n.useGlobalTarget||BR(u,v.target))},y=v=>{m(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),IR(l)&&(l.addEventListener("focus",f=>vY(f,i)),!yY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function VR(e){return J5(e)&&"ownerSVGElement"in e}function bY(e){return VR(e)&&e.tagName==="svg"}const Zn=e=>!!(e&&e.getVelocity),wY=[...PR,cn,Ps],SY=e=>wY.find(OR(e)),Qw=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jY(...e){return t=>{let n=!1;const r=e.map(i=>{const a=jk(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():jk(e[i],null)}}}}function NY(...e){return N.useCallback(jY(...e),e)}class _Y extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=IR(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AY({children:e,isPresent:t,anchorX:n,root:r}){const i=N.useId(),a=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=N.useContext(Qw),u=NY(a,e?.ref);return N.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:v}=s.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");l&&(w.nonce=l);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),d.jsx(_Y,{isPresent:t,childRef:a,sizeRef:s,children:N.cloneElement(e,{ref:u})})}const MY=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l,root:u})=>{const f=Cw(kY),m=N.useId();let p=!0,y=N.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const b of f.values())if(!b)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return a&&p&&(y={...y}),N.useMemo(()=>{f.forEach((v,b)=>f.set(b,!1))},[n]),N.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),s==="popLayout"&&(e=d.jsx(AY,{isPresent:n,anchorX:l,root:u,children:e})),d.jsx(Jp.Provider,{value:y,children:e})};function kY(){return new Map}function UR(e=!0){const t=N.useContext(Jp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=N.useId();N.useEffect(()=>{if(e)return i(a)},[e]);const s=N.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const Qh=e=>e.key||"";function Nk(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const FR=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",root:u})=>{const[f,m]=UR(s),p=N.useMemo(()=>Nk(e),[e]),y=s&&!f?[]:p.map(Qh),v=N.useRef(!0),b=N.useRef(p),w=Cw(()=>new Map),[j,A]=N.useState(p),[_,k]=N.useState(p);X5(()=>{v.current=!1,b.current=p;for(let O=0;O<_.length;O++){const L=Qh(_[O]);y.includes(L)?w.delete(L):w.get(L)!==!0&&w.set(L,!1)}},[_,y.length,y.join("-")]);const E=[];if(p!==j){let O=[...p];for(let L=0;L<_.length;L++){const D=_[L],R=Qh(D);y.includes(R)||(O.splice(L,0,D),E.push(D))}return a==="wait"&&E.length&&(O=E),k(Nk(O)),A(p),null}const{forceRender:M}=N.useContext(kw);return d.jsx(d.Fragment,{children:_.map(O=>{const L=Qh(O),D=s&&!f?!1:p===_||y.includes(L),R=()=>{if(w.has(L))w.set(L,!0);else return;let F=!0;w.forEach(I=>{I||(F=!1)}),F&&(M?.(),k(b.current),s&&m?.(),r&&r())};return d.jsx(MY,{isPresent:D,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:D?void 0:R,anchorX:l,children:O},L)})})},HR=N.createContext({strict:!1}),_k={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mc={};for(const e in _k)mc[e]={isEnabled:t=>_k[e].some(n=>!!t[n])};function CY(e){for(const t in e)mc[t]={...mc[t],...e[t]}}const EY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EY.has(e)}let qR=e=>!Zm(e);function TY(e){typeof e=="function"&&(qR=t=>t.startsWith("on")?!Zm(t):e(t))}try{TY(require("@emotion/is-prop-valid").default)}catch{}function OY(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(qR(i)||n===!0&&Zm(i)||!t&&!Zm(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const eg=N.createContext({});function tg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dd(e){return typeof e=="string"||Array.isArray(e)}const Jw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eS=["initial",...Jw];function ng(e){return tg(e.animate)||eS.some(t=>Dd(e[t]))}function WR(e){return!!(ng(e)||e.variants)}function PY(e,t){if(ng(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Dd(n)?n:void 0,animate:Dd(r)?r:void 0}}return e.inherit!==!1?t:{}}function DY(e){const{initial:t,animate:n}=PY(e,N.useContext(eg));return N.useMemo(()=>({initial:t,animate:n}),[Ak(t),Ak(n)])}function Ak(e){return Array.isArray(e)?e.join(" "):e}const Rd={};function RY(e){for(const t in e)Rd[t]=e[t],$w(t)&&(Rd[t].isCSSVariable=!0)}function GR(e,{layout:t,layoutId:n}){return Oc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rd[e]||e==="opacity")}const LY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IY=Tc.length;function $Y(e,t,n){let r="",i=!0;for(let a=0;a<IY;a++){const s=Tc[a],l=e[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const f=LR(l,Kw[s]);if(!u){i=!1;const m=LY[s]||s;r+=`${m}(${f}) `}n&&(t[s]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function tS(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,l=!1;for(const u in t){const f=t[u];if(Oc.has(u)){s=!0;continue}else if($w(u)){i[u]=f;continue}else{const m=LR(f,Kw[u]);u.startsWith("origin")?(l=!0,a[u]=m):r[u]=m}}if(t.transform||(s||n?r.transform=$Y(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:m=0}=a;r.transformOrigin=`${u} ${f} ${m}`}}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YR(e,t,n){for(const r in t)!Zn(t[r])&&!GR(r,n)&&(e[r]=t[r])}function zY({transformTemplate:e},t){return N.useMemo(()=>{const n=nS();return tS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function BY(e,t){const n=e.style||{},r={};return YR(r,n,e),Object.assign(r,zY(e,t)),r}function VY(e,t){const n={},r=BY(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const UY={offset:"stroke-dashoffset",array:"stroke-dasharray"},FY={offset:"strokeDashoffset",array:"strokeDasharray"};function HY(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?UY:FY;e[a.offset]=Ve.transform(-r);const s=Ve.transform(t),l=Ve.transform(n);e[a.array]=`${s} ${l}`}function KR(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},u,f,m){if(tS(e,l,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y}=e;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&HY(p,i,a,s,!1)}const ZR=()=>({...nS(),attrs:{}}),XR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qY(e,t,n,r){const i=N.useMemo(()=>{const a=ZR();return KR(a,t,XR(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};YR(a,e.style,e),i.style={...a,...i.style}}return i}const WY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rS(e){return typeof e!="string"||e.includes("-")?!1:!!(WY.indexOf(e)>-1||/[A-Z]/u.test(e))}function GY(e,t,n,{latestValues:r},i,a=!1){const l=(rS(e)?qY:VY)(t,r,i,e),u=OY(t,typeof e=="string",a),f=e!==N.Fragment?{...u,...l,ref:n}:{},{children:m}=t,p=N.useMemo(()=>Zn(m)?m.get():m,[m]);return N.createElement(e,{...f,children:p})}function Mk(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function iS(e,t,n,r){if(typeof t=="function"){const[i,a]=Mk(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Mk(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Dm(e){return Zn(e)?e.get():e}function YY({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:KY(n,r,i,e),renderState:t()}}function KY(e,t,n,r){const i={},a=r(e,{});for(const y in a)i[y]=Dm(a[y]);let{initial:s,animate:l}=e;const u=ng(e),f=WR(e);t&&f&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let m=n?n.initial===!1:!1;m=m||s===!1;const p=m?l:s;if(p&&typeof p!="boolean"&&!tg(p)){const y=Array.isArray(p)?p:[p];for(let v=0;v<y.length;v++){const b=iS(e,y[v]);if(b){const{transitionEnd:w,transition:j,...A}=b;for(const _ in A){let k=A[_];if(Array.isArray(k)){const E=m?k.length-1:0;k=k[E]}k!==null&&(i[_]=k)}for(const _ in w)i[_]=w[_]}}}return i}const QR=e=>(t,n)=>{const r=N.useContext(eg),i=N.useContext(Jp),a=()=>YY(e,t,r,i);return n?a():Cw(a)};function aS(e,t,n){const{style:r}=e,i={};for(const a in r)(Zn(r[a])||t.style&&Zn(t.style[a])||GR(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const ZY=QR({scrapeMotionValuesFromProps:aS,createRenderState:nS});function JR(e,t,n){const r=aS(e,t,n);for(const i in e)if(Zn(e[i])||Zn(t[i])){const a=Tc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const XY=QR({scrapeMotionValuesFromProps:JR,createRenderState:ZR}),QY=Symbol.for("motionComponentSymbol");function ec(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JY(e,t,n){const r=N.useRef(null);return N.useCallback(i=>{const a=r.current;r.current=i,i!==a&&(i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount())),n&&(typeof n=="function"?n(i):ec(n)&&(n.current=i))},[t,n])}const sS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eK="framerAppearId",e3="data-"+sS(eK),t3=N.createContext({});function tK(e,t,n,r,i){const{visualElement:a}=N.useContext(eg),s=N.useContext(HR),l=N.useContext(Jp),u=N.useContext(Qw).reducedMotion,f=N.useRef(null);r=r||s.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=f.current,p=N.useContext(t3);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&nK(f.current,n,i,p);const y=N.useRef(!1);N.useInsertionEffect(()=>{m&&y.current&&m.update(n,l)});const v=n[e3],b=N.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return X5(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),N.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),m.enteringChildren=void 0)}),m}function nK(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:n3(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&ec(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:u,layoutRoot:f})}function n3(e){if(e)return e.options.allowProjection!==!1?e.projection:n3(e.parent)}function jv(e,{forwardMotionProps:t=!1}={},n,r){n&&CY(n);const i=rS(e)?XY:ZY;function a(l,u){let f;const m={...N.useContext(Qw),...l,layoutId:rK(l)},{isStatic:p}=m,y=DY(l),v=i(l,p);if(!p&&Ew){iK();const b=aK(m);f=b.MeasureLayout,y.visualElement=tK(e,v,m,r,b.ProjectionNode)}return d.jsxs(eg.Provider,{value:y,children:[f&&y.visualElement?d.jsx(f,{visualElement:y.visualElement,...m}):null,GY(e,l,JY(v,y.visualElement,u),v,p,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=N.forwardRef(a);return s[QY]=e,s}function rK({layoutId:e}){const t=N.useContext(kw).id;return t&&e!==void 0?t+"-"+e:e}function iK(e,t){N.useContext(HR).strict}function aK(e){const{drag:t,layout:n}=mc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sK(e,t){if(typeof Proxy>"u")return jv;const n=new Map,r=(a,s)=>jv(a,s,e,t),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,jv(s,void 0,e,t)),n.get(s))})}function r3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lK(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nv(e){return e===void 0||e===1}function Wb({scale:e,scaleX:t,scaleY:n}){return!Nv(e)||!Nv(t)||!Nv(n)}function go(e){return Wb(e)||i3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function i3(e){return kk(e.x)||kk(e.y)}function kk(e){return e&&e!=="0%"}function Xm(e,t,n){const r=e-n,i=t*r;return n+i}function Ck(e,t,n,r,i){return i!==void 0&&(e=Xm(e,i,r)),Xm(e,n,r)+t}function Gb(e,t=0,n=1,r,i){e.min=Ck(e.min,t,n,r,i),e.max=Ck(e.max,t,n,r,i)}function a3(e,{x:t,y:n}){Gb(e.x,t.translate,t.scale,t.originPoint),Gb(e.y,n.translate,n.scale,n.originPoint)}const Ek=.999999999999,Tk=1.0000000000001;function cK(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let l=0;l<i;l++){a=n[l],s=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&nc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,a3(e,s)),r&&go(a.latestValues)&&nc(e,a.latestValues))}t.x<Tk&&t.x>Ek&&(t.x=1),t.y<Tk&&t.y>Ek&&(t.y=1)}function tc(e,t){e.min=e.min+t,e.max=e.max+t}function Ok(e,t,n,r,i=.5){const a=$t(e.min,e.max,i);Gb(e,t,n,a,r)}function nc(e,t){Ok(e.x,t.x,t.scaleX,t.scale,t.originX),Ok(e.y,t.y,t.scaleY,t.scale,t.originY)}function s3(e,t){return r3(lK(e.getBoundingClientRect(),t))}function uK(e,t,n){const r=s3(e,n),{scroll:i}=t;return i&&(tc(r.x,i.offset.x),tc(r.y,i.offset.y)),r}const Pk=()=>({translate:0,scale:1,origin:0,originPoint:0}),rc=()=>({x:Pk(),y:Pk()}),Dk=()=>({min:0,max:0}),Qt=()=>({x:Dk(),y:Dk()}),Yb={current:null},o3={current:!1};function dK(){if(o3.current=!0,!!Ew)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yb.current=e.matches;e.addEventListener("change",t),t()}else Yb.current=!1}const fK=new WeakMap;function hK(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Zn(i))e.addValue(r,i);else if(Zn(a))e.addValue(r,hc(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,hc(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mK{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Pt.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=ng(n),this.isVariantNode=WR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];u[y]!==void 0&&Zn(v)&&v.set(u[y])}}mount(t){this.current=t,fK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),o3.current||dK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Oc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mc){const n=mc[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rk.length;r++){const i=Rk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=hK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=hc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Q5(r)||eR(r))?r=parseFloat(r):!SY(r)&&Ps.test(n)&&(r=RR(t,n)),this.setBaseTarget(t,Zn(r)?r.get():r)),Zn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=iS(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Zn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Rw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Zw.render(this.render)}}class l3 extends mK{constructor(){super(...arguments),this.KeyframeResolver=uY}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function c3(e,{style:t,vars:n},r,i){const a=e.style;let s;for(s in t)a[s]=t[s];i?.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function pK(e){return window.getComputedStyle(e)}class gK extends l3{constructor(){super(...arguments),this.type="html",this.renderInstance=c3}readValueFromInstance(t,n){if(Oc.has(n))return this.projection?.isProjecting?zb(n):CG(t,n);{const r=pK(t),i=($w(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return s3(t,n)}build(t,n,r){tS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return aS(t,n,r)}}const u3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yK(e,t,n,r){c3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(u3.has(i)?i:sS(i),t.attrs[i])}class vK extends l3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Oc.has(n)){const r=DR(n);return r&&r.default||0}return n=u3.has(n)?n:sS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return JR(t,n,r)}build(t,n,r){KR(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){yK(t,n,r,i)}mount(t){this.isSVGTag=XR(t.tagName),super.mount(t)}}const xK=(e,t)=>rS(e)?new vK(t):new gK(t,{allowProjection:e!==N.Fragment});function oc(e,t,n){const r=e.getProps();return iS(r,t,n!==void 0?n:r.custom,e)}const Kb=e=>Array.isArray(e);function bK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hc(n))}function wK(e){return Kb(e)?e[e.length-1]||0:e}function SK(e,t){const n=oc(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const l=wK(a[s]);bK(e,s,l)}}function jK(e){return!!(Zn(e)&&e.add)}function Zb(e,t){const n=e.getValue("willChange");if(jK(n))return n.add(t);if(!n&&Oa.WillChange){const r=new Oa.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function d3(e){return e.props[e3]}const NK=e=>e!==null;function _K(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(NK),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const AK={type:"spring",stiffness:500,damping:25,restSpeed:10},MK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kK={type:"keyframes",duration:.8},CK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EK=(e,{keyframes:t})=>t.length>2?kK:Oc.has(e)?e.startsWith("scale")?MK(t[1]):AK:CK;function TK({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:f,...m}){return!!Object.keys(m).length}const oS=(e,t,n,r={},i,a)=>s=>{const l=Yw(r,e)||{},u=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-zi(u);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:y=>{t.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};TK(l)||Object.assign(m,EK(e,m)),m.duration&&(m.duration=zi(m.duration)),m.repeatDelay&&(m.repeatDelay=zi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Hb(m),m.delay===0&&(p=!0)),(Oa.instantAnimations||Oa.skipAnimations)&&(p=!0,Hb(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,p&&!a&&t.get()!==void 0){const y=_K(m.keyframes,l);if(y!==void 0){Pt.update(()=>{m.onUpdate(y),m.onComplete()});return}}return l.isSync?new Ww(m):new QG(m)};function OK({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function f3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(a=r);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const p=e.getValue(m,e.latestValues[m]??null),y=l[m];if(y===void 0||f&&OK(f,m))continue;const v={delay:n,...Yw(a||{},m)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(y)&&y===b&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=d3(e);if(A){const _=window.MotionHandoffAnimation(A,m,Pt);_!==null&&(v.startTime=_,w=!0)}}Zb(e,m),p.start(oS(m,p,y,e.shouldReduceMotion&&TR.has(m)?{type:!1}:v,e,w));const j=p.animation;j&&u.push(j)}return s&&Promise.all(u).then(()=>{Pt.update(()=>{s&&SK(e,s)})}),u}function h3(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),s=e.size,l=(s-1)*r;return typeof n=="function"?n(a,s):i===1?a*r:l-a*r}function Xb(e,t,n={}){const r=oc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(f3(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return PK(e,t,u,f,m,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function PK(e,t,n=0,r=0,i=0,a=1,s){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(Xb(u,t,{...s,delay:n+(typeof r=="function"?0:r)+h3(e.variantChildren,u,r,i,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function DK(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Xb(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Xb(e,t,n);else{const i=typeof t=="function"?oc(e,t,n.custom):t;r=Promise.all(f3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function m3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const RK=eS.length;function p3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?p3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<RK;n++){const r=eS[n],i=e.props[r];(Dd(i)||i===!1)&&(t[r]=i)}return t}const LK=[...Jw].reverse(),IK=Jw.length;function $K(e){return t=>Promise.all(t.map(({animation:n,options:r})=>DK(e,n,r)))}function zK(e){let t=$K(e),n=Lk(),r=!0;const i=u=>(f,m)=>{const p=oc(e,m,u==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:y,transitionEnd:v,...b}=p;f={...f,...b,...v}}return f};function a(u){t=u(e)}function s(u){const{props:f}=e,m=p3(e.parent)||{},p=[],y=new Set;let v={},b=1/0;for(let j=0;j<IK;j++){const A=LK[j],_=n[A],k=f[A]!==void 0?f[A]:m[A],E=Dd(k),M=A===u?_.isActive:null;M===!1&&(b=j);let O=k===m[A]&&k!==f[A]&&E;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...v},!_.isActive&&M===null||!k&&!_.prevProp||tg(k)||typeof k=="boolean")continue;const L=BK(_.prevProp,k);let D=L||A===u&&_.isActive&&!O&&E||j>b&&E,R=!1;const F=Array.isArray(k)?k:[k];let I=F.reduce(i(A),{});M===!1&&(I={});const{prevResolvedValues:V={}}=_,q={...V,...I},re=z=>{D=!0,y.has(z)&&(R=!0,y.delete(z)),_.needsAnimating[z]=!0;const G=e.getValue(z);G&&(G.liveStyle=!1)};for(const z in q){const G=I[z],ie=V[z];if(v.hasOwnProperty(z))continue;let $=!1;Kb(G)&&Kb(ie)?$=!m3(G,ie):$=G!==ie,$?G!=null?re(z):y.add(z):G!==void 0&&y.has(z)?re(z):_.protectedKeys[z]=!0}_.prevProp=k,_.prevResolvedValues=I,_.isActive&&(v={...v,...I}),r&&e.blockInitialAnimation&&(D=!1);const se=O&&L;D&&(!se||R)&&p.push(...F.map(z=>{const G={type:A};if(typeof z=="string"&&r&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,$=oc(ie,z);if(ie.enteringChildren&&$){const{delayChildren:Q}=$.transition||{};G.delay=h3(ie.enteringChildren,e,Q)}}return{animation:z,options:G}}))}if(y.size){const j={};if(typeof f.initial!="boolean"){const A=oc(e,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(j.transition=A.transition)}y.forEach(A=>{const _=e.getBaseTarget(A),k=e.getValue(A);k&&(k.liveStyle=!0),j[A]=_??null}),p.push({animation:j})}let w=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function l(u,f){if(n[u].isActive===f)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(u,f)),n[u].isActive=f;const m=s(u);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Lk(),r=!0}}}function BK(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!m3(t,e):!1}function co(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lk(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class VK extends zs{constructor(t){super(t),t.animationState||(t.animationState=zK(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UK=0;class FK extends zs{constructor(){super(...arguments),this.id=UK++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const HK={animation:{Feature:VK},exit:{Feature:FK}};function Ld(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function hf(e){return{point:{x:e.pageX,y:e.pageY}}}const qK=e=>t=>Xw(t)&&e(t,hf(t));function pd(e,t,n,r){return Ld(e,t,qK(n),r)}const g3=1e-4,WK=1-g3,GK=1+g3,y3=.01,YK=0-y3,KK=0+y3;function sr(e){return e.max-e.min}function ZK(e,t,n){return Math.abs(e-t)<=n}function Ik(e,t,n,r=.5){e.origin=r,e.originPoint=$t(t.min,t.max,e.origin),e.scale=sr(n)/sr(t),e.translate=$t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WK&&e.scale<=GK||isNaN(e.scale))&&(e.scale=1),(e.translate>=YK&&e.translate<=KK||isNaN(e.translate))&&(e.translate=0)}function gd(e,t,n,r){Ik(e.x,t.x,n.x,r?r.originX:void 0),Ik(e.y,t.y,n.y,r?r.originY:void 0)}function $k(e,t,n){e.min=n.min+t.min,e.max=e.min+sr(t)}function XK(e,t,n){$k(e.x,t.x,n.x),$k(e.y,t.y,n.y)}function zk(e,t,n){e.min=t.min-n.min,e.max=e.min+sr(t)}function yd(e,t,n){zk(e.x,t.x,n.x),zk(e.y,t.y,n.y)}function ii(e){return[e("x"),e("y")]}const v3=({current:e})=>e?e.ownerDocument.defaultView:null,Bk=(e,t)=>Math.abs(e-t);function QK(e,t){const n=Bk(e.x,t.x),r=Bk(e.y,t.y);return Math.sqrt(n**2+r**2)}class x3{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Av(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=QK(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:w}=y,{timestamp:j}=$n;this.history.push({...w,timestamp:j});const{onStart:A,onMove:_}=this.handlers;v||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=_v(v,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Av(y.type==="pointercancel"?this.lastMoveEventInfo:_v(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,A),w&&w(y,A)},!Xw(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const l=hf(t),u=_v(l,this.transformPagePoint),{point:f}=u,{timestamp:m}=$n;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(t,Av(u,this.history)),this.removeListeners=uf(pd(this.contextWindow,"pointermove",this.handlePointerMove),pd(this.contextWindow,"pointerup",this.handlePointerUp),pd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Os(this.updatePoint)}}function _v(e,t){return t?{point:t(e.point)}:e}function Vk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Av({point:e},t){return{point:e,delta:Vk(e,b3(t)),offset:Vk(e,JK(t)),velocity:eZ(t,.1)}}function JK(e){return e[0]}function b3(e){return e[e.length-1]}function eZ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=b3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>zi(t)));)n--;if(!r)return{x:0,y:0};const a=Bi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function tZ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?$t(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?$t(n,e,r.max):Math.min(e,n)),e}function Uk(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function nZ(e,{top:t,left:n,bottom:r,right:i}){return{x:Uk(e.x,n,i),y:Uk(e.y,t,r)}}function Fk(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function rZ(e,t){return{x:Fk(e.x,t.x),y:Fk(e.y,t.y)}}function iZ(e,t){let n=.5;const r=sr(e),i=sr(t);return i>r?n=Td(t.min,t.max-r,e.min):r>i&&(n=Td(e.min,e.max-i,t.min)),Ta(0,1,n)}function aZ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qb=.35;function sZ(e=Qb){return e===!1?e=0:e===!0&&(e=Qb),{x:Hk(e,"left","right"),y:Hk(e,"top","bottom")}}function Hk(e,t,n){return{min:qk(e,t),max:qk(e,n)}}function qk(e,t){return typeof e=="number"?e:e[t]||0}const oZ=new WeakMap;class lZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hf(p).point)},s=(p,y)=>{const{drag:v,dragPropagation:b,onDragStart:w}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mY(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(A=>{let _=this.getAxisMotionValue(A).get()||0;if(Vi.test(_)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[A];E&&(_=sr(E)*(parseFloat(_)/100))}}this.originPoint[A]=_}),w&&Pt.postRender(()=>w(p,y)),Zb(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:w,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=y;if(b&&this.currentDirection===null){this.currentDirection=cZ(A),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),j&&j(p,y)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ii(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new x3(t,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:v3(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Pt.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Jh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=tZ(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&ec(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=nZ(r.layoutBox,t):this.constraints=!1,this.elastic=sZ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=aZ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ec(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=uK(r,i.root,this.visualElement.getTransformPagePoint());let s=rZ(i.layout.layoutBox,a);if(n){const l=n(oK(s));this.hasMutatedConstraints=!!l,l&&(s=r3(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=ii(m=>{if(!Jh(m,n,this.currentDirection))return;let p=u&&u[m]||{};s&&(p={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?t[m]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Zb(this.visualElement,t),r.start(oS(t,r,0,n,this.visualElement,!1))}stopAnimation(){ii(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ii(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ii(n=>{const{drag:r}=this.getProps();if(!Jh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];a.set(t[n]-$t(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ec(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ii(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();i[s]=iZ({min:u,max:u},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(s=>{if(!Jh(s,t,null))return;const l=this.getAxisMotionValue(s),{min:u,max:f}=this.constraints[s];l.set($t(u,f,i[s]))})}addListeners(){if(!this.visualElement.current)return;oZ.set(this.visualElement,this);const t=this.visualElement.current,n=pd(t,"pointerdown",u=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ec(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pt.read(r);const s=Ld(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(ii(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=u[m].translate,p.set(p.get()+u[m].translate))}),this.visualElement.render())}));return()=>{s(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Qb,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function Jh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class uZ extends zs{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new lZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wk=e=>(t,n)=>{e&&Pt.postRender(()=>e(t,n))};class dZ extends zs{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new x3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Wk(t),onStart:Wk(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Pt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=pd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=Gk(e,t.target.x),r=Gk(e,t.target.y);return`${n}% ${r}%`}},fZ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ps.parse(e);if(i.length>5)return r;const a=Ps.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=u;const f=$t(l,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),a(i)}};let Mv=!1;class hZ extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;RY(mZ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Mv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,Mv=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Pt.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Mv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function w3(e){const[t,n]=UR(),r=N.useContext(kw);return d.jsx(hZ,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(t3),isPresent:t,safeToRemove:n})}const mZ={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:fZ};function pZ(e,t,n){const r=Zn(e)?e:hc(e);return r.start(oS("",r,t,n)),r.animation}const gZ=(e,t)=>e.depth-t.depth;class yZ{constructor(){this.children=[],this.isDirty=!1}add(t){Tw(this.children,t),this.isDirty=!0}remove(t){Ow(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gZ),this.isDirty=!1,this.children.forEach(t)}}function vZ(e,t){const n=xr.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Os(r),e(a-t))};return Pt.setup(r,!0),()=>Os(r)}const S3=["TopLeft","TopRight","BottomLeft","BottomRight"],xZ=S3.length,Yk=e=>typeof e=="string"?parseFloat(e):e,Kk=e=>typeof e=="number"||Ve.test(e);function bZ(e,t,n,r,i,a){i?(e.opacity=$t(0,n.opacity??1,wZ(r)),e.opacityExit=$t(t.opacity??1,0,SZ(r))):a&&(e.opacity=$t(t.opacity??1,n.opacity??1,r));for(let s=0;s<xZ;s++){const l=`border${S3[s]}Radius`;let u=Zk(t,l),f=Zk(n,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Kk(u)===Kk(f)?(e[l]=Math.max($t(Yk(u),Yk(f),r),0),(Vi.test(f)||Vi.test(u))&&(e[l]+="%")):e[l]=f}(t.rotate||n.rotate)&&(e.rotate=$t(t.rotate||0,n.rotate||0,r))}function Zk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wZ=j3(0,.5,lR),SZ=j3(.5,.95,li);function j3(e,t,n){return r=>r<e?0:r>t?1:n(Td(e,t,r))}function Xk(e,t){e.min=t.min,e.max=t.max}function Jr(e,t){Xk(e.x,t.x),Xk(e.y,t.y)}function Qk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jk(e,t,n,r,i){return e-=t,e=Xm(e,1/n,r),i!==void 0&&(e=Xm(e,1/i,r)),e}function jZ(e,t=0,n=1,r=.5,i,a=e,s=e){if(Vi.test(t)&&(t=parseFloat(t),t=$t(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=$t(a.min,a.max,r);e===a&&(l-=t),e.min=Jk(e.min,t,n,l,i),e.max=Jk(e.max,t,n,l,i)}function eC(e,t,[n,r,i],a,s){jZ(e,t[n],t[r],t[i],t.scale,a,s)}const NZ=["x","scaleX","originX"],_Z=["y","scaleY","originY"];function tC(e,t,n,r){eC(e.x,t,NZ,n?n.x:void 0,r?r.x:void 0),eC(e.y,t,_Z,n?n.y:void 0,r?r.y:void 0)}function nC(e){return e.translate===0&&e.scale===1}function N3(e){return nC(e.x)&&nC(e.y)}function rC(e,t){return e.min===t.min&&e.max===t.max}function AZ(e,t){return rC(e.x,t.x)&&rC(e.y,t.y)}function iC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _3(e,t){return iC(e.x,t.x)&&iC(e.y,t.y)}function aC(e){return sr(e.x)/sr(e.y)}function sC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class MZ{constructor(){this.members=[]}add(t){Tw(this.members,t),t.scheduleRender()}remove(t){if(Ow(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kZ(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=n?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:y,skewX:v,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),p&&(r+=`rotateX(${p}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const kv=["","X","Y","Z"],CZ=1e3;let EZ=0;function Cv(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function A3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=d3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&A3(r)}function M3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t?.()){this.id=EZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PZ),this.nodes.forEach(IZ),this.nodes.forEach($Z),this.nodes.forEach(DZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new yZ)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Rw),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=VR(s)&&!bY(s),this.instance=s;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let m,p=0;const y=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{p=window.innerWidth}),e(s,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,m&&m(),m=vZ(y,250),Rm.hasAnimatedSinceResize&&(Rm.hasAnimatedSinceResize=!1,this.nodes.forEach(cC)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||FZ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=f.getProps(),A=!this.targetLayout||!_3(this.targetLayout,v),_=!p&&y;if(this.options.layoutRoot||this.resumeFrom||_||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Yw(b,"layout"),onPlay:w,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,_)}else p||cC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zZ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LZ),this.nodes.forEach(TZ),this.nodes.forEach(OZ)):this.nodes.forEach(lC),this.clearAllSnapshots();const l=xr.now();$n.delta=Ta(0,1e3/60,l-$n.timestamp),$n.timestamp=l,$n.isProcessing=!0,yv.update.process($n),yv.preRender.process($n),yv.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RZ),this.sharedNodes.forEach(BZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sr(this.snapshot.measuredBox.x)&&!sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!N3(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;s&&this.instance&&(l||go(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),HZ(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Qt();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qZ))){const{scroll:f}=this.root;f&&(tc(l.x,f.offset.x),tc(l.y,f.offset.y))}return l}removeElementScroll(s){const l=Qt();if(Jr(l,s),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Jr(l,s),tc(l.x,m.offset.x),tc(l.y,m.offset.y))}return l}applyTransform(s,l=!1){const u=Qt();Jr(u,s);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&nc(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),go(m.latestValues)&&nc(u,m.latestValues)}return go(this.latestValues)&&nc(u,this.latestValues),u}removeTransform(s){const l=Qt();Jr(l,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!go(f.latestValues))continue;Wb(f.latestValues)&&f.updateSnapshot();const m=Qt(),p=f.measurePageBox();Jr(m,p),tC(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return go(this.latestValues)&&tC(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),yd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jr(this.target,this.layout.layoutBox),a3(this.target,this.targetDelta)):Jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),yd(this.relativeTargetOrigin,this.target,y.target),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wb(this.parent.latestValues)||i3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(u=!1),u)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Jr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;cK(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Qt());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qk(this.prevProjectionDelta.x,this.projectionDelta.x),Qk(this.prevProjectionDelta.y,this.projectionDelta.y)),gd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!sC(this.projectionDelta.x,this.prevProjectionDelta.x)||!sC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rc(),this.projectionDelta=rc(),this.projectionDeltaWithTransform=rc()}setAnimationOrigin(s,l=!1){const u=this.snapshot,f=u?u.latestValues:{},m={...this.latestValues},p=rc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Qt(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,w=v!==b,j=this.getStack(),A=!j||j.members.length<=1,_=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(UZ));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const M=E/1e3;uC(p.x,s.x,M),uC(p.y,s.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VZ(this.relativeTarget,this.relativeTargetOrigin,y,M),k&&AZ(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Qt()),Jr(k,this.relativeTarget)),w&&(this.animationValues=m,bZ(m,f,this.latestValues,M,_,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Rm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hc(0)),this.currentAnimation=pZ(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:m}=s;if(!(!l||!u||!f)){if(this!==s&&this.layout&&f&&k3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Qt();const p=sr(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+p;const y=sr(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+y}Jr(l,u),nc(l,m),gd(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new MZ),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&Cv("z",s,f,this.animationValues);for(let m=0;m<kv.length;m++)Cv(`rotate${kv[m]}`,s,f,this.animationValues),Cv(`skew${kv[m]}`,s,f,this.animationValues);s.render();for(const m in f)s.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Dm(l?.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Dm(l?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=kZ(this.projectionDeltaWithTransform,this.treeScale,m);u&&(p=u(m,p)),s.transform=p;const{x:y,y:v}=this.projectionDelta;s.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?s.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:s.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Rd){if(m[b]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:A}=Rd[b],_=p==="none"?m[b]:w(m[b],f);if(j){const k=j.length;for(let E=0;E<k;E++)s[j[E]]=_}else A?this.options.visualElement.renderState.vars[b]=_:s[b]=_}this.options.layoutId&&(s.pointerEvents=f===this?Dm(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(oC),this.root.sharedNodes.clear()}}}function TZ(e){e.updateLayout()}function OZ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?ii(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],y=sr(p);p.min=n[m].min,p.max=p.min+y}):k3(i,t.layoutBox,n)&&ii(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],y=sr(n[m]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const s=rc();gd(s,n,t.layoutBox);const l=rc();a?gd(l,e.applyTransform(r,!0),t.measuredBox):gd(l,n,t.layoutBox);const u=!N3(s);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:y}=m;if(p&&y){const v=Qt();yd(v,t.layoutBox,p.layoutBox);const b=Qt();yd(b,n,y.layoutBox),_3(v,b)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function PZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RZ(e){e.clearSnapshot()}function oC(e){e.clearMeasurements()}function lC(e){e.isLayoutDirty=!1}function LZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function IZ(e){e.resolveTargetDelta()}function $Z(e){e.calcProjection()}function zZ(e){e.resetSkewAndRotation()}function BZ(e){e.removeLeadSnapshot()}function uC(e,t,n){e.translate=$t(t.translate,0,n),e.scale=$t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function dC(e,t,n,r){e.min=$t(t.min,n.min,r),e.max=$t(t.max,n.max,r)}function VZ(e,t,n,r){dC(e.x,t.x,n.x,r),dC(e.y,t.y,n.y,r)}function UZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const FZ={duration:.45,ease:[.4,0,.1,1]},fC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hC=fC("applewebkit/")&&!fC("chrome/")?Math.round:li;function mC(e){e.min=hC(e.min),e.max=hC(e.max)}function HZ(e){mC(e.x),mC(e.y)}function k3(e,t,n){return e==="position"||e==="preserve-aspect"&&!ZK(aC(t),aC(n),.2)}function qZ(e){return e!==e.root&&e.scroll?.wasRoot}const WZ=M3({attachResizeListener:(e,t)=>Ld(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ev={current:void 0},C3=M3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ev.current){const e=new WZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Ev.current=e}return Ev.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GZ={pan:{Feature:dZ},drag:{Feature:uZ,ProjectionNode:C3,MeasureLayout:w3}};function pC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Pt.postRender(()=>a(t,hf(t)))}class YZ extends zs{mount(){const{current:t}=this.node;t&&(this.unmount=pY(t,(n,r)=>(pC(this.node,r,"Start"),i=>pC(this.node,i,"End"))))}unmount(){}}class KZ extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uf(Ld(this.node.current,"focus",()=>this.onFocus()),Ld(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gC(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Pt.postRender(()=>a(t,hf(t)))}class ZZ extends zs{mount(){const{current:t}=this.node;t&&(this.unmount=xY(t,(n,r)=>(gC(this.node,r,"Start"),(i,{success:a})=>gC(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,Tv=new WeakMap,XZ=e=>{const t=Jb.get(e.target);t&&t(e)},QZ=e=>{e.forEach(XZ)};function JZ({root:e,...t}){const n=e||document;Tv.has(n)||Tv.set(n,{});const r=Tv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(QZ,{root:e,...t})),r[i]}function eX(e,t,n){const r=JZ(t);return Jb.set(e,n),r.observe(e),()=>{Jb.delete(e),r.unobserve(e)}}const tX={some:0,all:1};class nX extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tX[i]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),y=f?m:p;y&&y(u)};return eX(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(rX(t,n))&&this.startObserver()}unmount(){}}function rX({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const iX={inView:{Feature:nX},tap:{Feature:ZZ},focus:{Feature:KZ},hover:{Feature:YZ}},aX={layout:{ProjectionNode:C3,MeasureLayout:w3}},sX={...HK,...iX,...GZ,...aX},Je=sK(sX,xK),E3=N.createContext(void 0);function oX({children:e}){const[t,n]=N.useState([]),r=p=>{const y=Date.now().toString()+Math.random().toString(36).substr(2,9);console.log("addNotification 호출됨:",p),n(v=>[...v,{...p,id:y}])},i=p=>{n(y=>y.filter(v=>v.id!==p))},a=(p,y,v,b)=>{console.log("showTransactionNotification 호출됨:",{from:p,to:y,amount:v,currency:b}),r({type:"success",title:"💸 새로운 거래 발생!",message:`${p}이(가) ${y}에게 ${v.toLocaleString()}${b}을 보냈습니다.`,icon:"💸",duration:4e3})},s=(p,y,v)=>{r({type:"success",title:"💰 급여 지급!",message:`${p}에게 ${y.toLocaleString()}${v}이 지급되었습니다.`,icon:"💰",duration:4e3})},l=(p,y,v,b)=>{console.log("showCreditScoreNotification 호출됨:",{student:p,change:y,newScore:v,reason:b});const w=y>0;r({type:w?"success":"warning",title:w?"📈 신용점수 상승!":"📉 신용점수 하락",message:`${p}의 신용점수가 ${Math.abs(y)}점 ${w?"상승":"하락"}했습니다 (${v}점). 사유: ${b}`,icon:w?"📈":"📉",duration:5e3})},u=(p,y)=>{console.log("showAchievementNotification 호출됨:",{student:p,achievement:y}),r({type:"info",title:"🏆 업적 달성!",message:`${p}이(가) "${y}" 업적을 달성했습니다!`,icon:"🏆",duration:6e3})},f=(p,y)=>{r({type:"info",title:"📢 "+p,message:y,icon:"📢",duration:7e3})},m=(p,y)=>{r({type:"warning",title:"⚠️ "+p,message:y,icon:"⚠️",duration:8e3})};return d.jsxs(E3.Provider,{value:{notifications:t,addNotification:r,removeNotification:i,showTransactionNotification:a,showSalaryNotification:s,showCreditScoreNotification:l,showAchievementNotification:u,showEventNotification:f,showWarningNotification:m},children:[e,d.jsx(cX,{notifications:t,removeNotification:i})]})}const lX=({notification:e,onRemove:t})=>{N.useEffect(()=>{const i=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(i)},[e.id,e.duration,t]);const n=i=>{switch(i){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},r=i=>{switch(i){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";default:return"💡"}};return d.jsx(Je.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9,transition:{duration:.15}},className:`max-w-sm w-full bg-white shadow-md rounded-xl pointer-events-auto border overflow-hidden ${n(e.type)}`,children:d.jsx("div",{className:"p-3",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"text-lg",children:e.icon||r(e.type)})}),d.jsxs("div",{className:"ml-3 w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),d.jsx("p",{className:"mt-1 text-xs text-gray-600",children:e.message})]}),d.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:d.jsxs("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>t(e.id),children:[d.jsx("span",{className:"sr-only",children:"Close"}),d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})};function cX({notifications:e,removeNotification:t}){return d.jsx("div",{className:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end z-50",children:d.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:d.jsx(FR,{children:e.map(n=>d.jsx(lX,{notification:n,onRemove:t},n.id))})})})}function rg(){const e=N.useContext(E3);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}var Fu={},od={exports:{}},uX=od.exports,yC;function dX(){return yC||(yC=1,(function(e,t){(function(n,r){r(t)})(uX,(function(n){var r=function(){return r=Object.assign||function(a){for(var s,l=1,u=arguments.length;l<u;l++)for(var f in s=arguments[l])Object.prototype.hasOwnProperty.call(s,f)&&(a[f]=s[f]);return a},r.apply(this,arguments)},i=(function(){function a(s,l,u){var f=this;this.endVal=l,this.options=u,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(m){f.startTime||(f.startTime=m);var p=m-f.startTime;f.remaining=f.duration-p,f.useEasing?f.countDown?f.frameVal=f.startVal-f.easingFn(p,0,f.startVal-f.endVal,f.duration):f.frameVal=f.easingFn(p,f.startVal,f.endVal-f.startVal,f.duration):f.frameVal=f.startVal+(f.endVal-f.startVal)*(p/f.duration);var y=f.countDown?f.frameVal<f.endVal:f.frameVal>f.endVal;f.frameVal=y?f.endVal:f.frameVal,f.frameVal=Number(f.frameVal.toFixed(f.options.decimalPlaces)),f.printValue(f.frameVal),p<f.duration?f.rAF=requestAnimationFrame(f.count):f.finalEndVal!==null?f.update(f.finalEndVal):f.options.onCompleteCallback&&f.options.onCompleteCallback()},this.formatNumber=function(m){var p,y,v,b,w=m<0?"-":"";p=Math.abs(m).toFixed(f.options.decimalPlaces);var j=(p+="").split(".");if(y=j[0],v=j.length>1?f.options.decimal+j[1]:"",f.options.useGrouping){b="";for(var A=3,_=0,k=0,E=y.length;k<E;++k)f.options.useIndianSeparators&&k===4&&(A=2,_=1),k!==0&&_%A==0&&(b=f.options.separator+b),_++,b=y[E-k-1]+b;y=b}return f.options.numerals&&f.options.numerals.length&&(y=y.replace(/[0-9]/g,(function(M){return f.options.numerals[+M]})),v=v.replace(/[0-9]/g,(function(M){return f.options.numerals[+M]}))),w+f.options.prefix+y+v+f.options.suffix},this.easeOutExpo=function(m,p,y,v){return y*(1-Math.pow(2,-10*m/v))*1024/1023+p},this.options=r(r({},this.defaults),u),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof s=="string"?document.getElementById(s):s,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,s):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return f.handleScroll(f)})),window.onscroll=function(){window.onScrollFns.forEach((function(m){return m()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(s){if(s&&window&&!s.once){var l=window.innerHeight+window.scrollY,u=s.el.getBoundingClientRect(),f=u.top+window.pageYOffset,m=u.top+u.height+window.pageYOffset;m<l&&m>window.scrollY&&s.paused?(s.paused=!1,setTimeout((function(){return s.start()}),s.options.scrollSpyDelay),s.options.scrollSpyOnce&&(s.once=!0)):(window.scrollY>m||f>l)&&!s.paused&&s.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var l=s-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=s;var u=this.countDown?1:-1;this.endVal=s+u*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(s){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),s&&(this.options.onCompleteCallback=s),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(s){var l;if(this.el){var u=this.formattingFn(s);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,u):this.el.tagName==="INPUT"?this.el.value=u:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=u:this.el.innerHTML=u}},a.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},a.prototype.validateValue=function(s){var l=Number(s);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(s),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(s){var l=function(p){return p.replace(/([.,'  ])/g,"\\$1")},u=l(this.options.separator),f=l(this.options.decimal),m=s.replace(new RegExp(u,"g"),"").replace(new RegExp(f,"g"),".");return parseFloat(m)},a})();n.CountUp=i}))})(od,od.exports)),od.exports}var vC;function fX(){if(vC)return Fu;vC=1,Object.defineProperty(Fu,"__esModule",{value:!0});var e=Zo(),t=dX();function n(D,R){var F=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(F!=null){var I,V,q,re,se=[],H=!0,z=!1;try{if(q=(F=F.call(D)).next,R!==0)for(;!(H=(I=q.call(F)).done)&&(se.push(I.value),se.length!==R);H=!0);}catch(G){z=!0,V=G}finally{try{if(!H&&F.return!=null&&(re=F.return(),Object(re)!==re))return}finally{if(z)throw V}}return se}}function r(D,R){var F=Object.keys(D);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(D);R&&(I=I.filter(function(V){return Object.getOwnPropertyDescriptor(D,V).enumerable})),F.push.apply(F,I)}return F}function i(D){for(var R=1;R<arguments.length;R++){var F=arguments[R]!=null?arguments[R]:{};R%2?r(Object(F),!0).forEach(function(I){l(D,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(F)):r(Object(F)).forEach(function(I){Object.defineProperty(D,I,Object.getOwnPropertyDescriptor(F,I))})}return D}function a(D,R){if(typeof D!="object"||!D)return D;var F=D[Symbol.toPrimitive];if(F!==void 0){var I=F.call(D,R);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(D)}function s(D){var R=a(D,"string");return typeof R=="symbol"?R:String(R)}function l(D,R,F){return R=s(R),R in D?Object.defineProperty(D,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[R]=F,D}function u(){return u=Object.assign?Object.assign.bind():function(D){for(var R=1;R<arguments.length;R++){var F=arguments[R];for(var I in F)Object.prototype.hasOwnProperty.call(F,I)&&(D[I]=F[I])}return D},u.apply(this,arguments)}function f(D,R){if(D==null)return{};var F={},I=Object.keys(D),V,q;for(q=0;q<I.length;q++)V=I[q],!(R.indexOf(V)>=0)&&(F[V]=D[V]);return F}function m(D,R){if(D==null)return{};var F=f(D,R),I,V;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(D);for(V=0;V<q.length;V++)I=q[V],!(R.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(D,I)&&(F[I]=D[I])}return F}function p(D,R){return y(D)||n(D,R)||v(D,R)||w()}function y(D){if(Array.isArray(D))return D}function v(D,R){if(D){if(typeof D=="string")return b(D,R);var F=Object.prototype.toString.call(D).slice(8,-1);if(F==="Object"&&D.constructor&&(F=D.constructor.name),F==="Map"||F==="Set")return Array.from(D);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return b(D,R)}}function b(D,R){(R==null||R>D.length)&&(R=D.length);for(var F=0,I=new Array(R);F<R;F++)I[F]=D[F];return I}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function A(D){var R=e.useRef(D);return j(function(){R.current=D}),e.useCallback(function(){for(var F=arguments.length,I=new Array(F),V=0;V<F;V++)I[V]=arguments[V];return R.current.apply(void 0,I)},[])}var _=function(R,F){var I=F.decimal,V=F.decimals,q=F.duration,re=F.easingFn,se=F.end,H=F.formattingFn,z=F.numerals,G=F.prefix,ie=F.separator,$=F.start,Q=F.suffix,ne=F.useEasing,ue=F.useGrouping,xe=F.useIndianSeparators,J=F.enableScrollSpy,le=F.scrollSpyDelay,_e=F.scrollSpyOnce,Te=F.plugin;return new t.CountUp(R,se,{startVal:$,duration:q,decimal:I,decimalPlaces:V,easingFn:re,formattingFn:H,numerals:z,separator:ie,prefix:G,suffix:Q,plugin:Te,useEasing:ne,useIndianSeparators:xe,useGrouping:ue,enableScrollSpy:J,scrollSpyDelay:le,scrollSpyOnce:_e})},k=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],E={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},M=function(R){var F=Object.fromEntries(Object.entries(R).filter(function(We){var De=p(We,2),he=De[1];return he!==void 0})),I=e.useMemo(function(){return i(i({},E),F)},[R]),V=I.ref,q=I.startOnMount,re=I.enableReinitialize,se=I.delay,H=I.onEnd,z=I.onStart,G=I.onPauseResume,ie=I.onReset,$=I.onUpdate,Q=m(I,k),ne=e.useRef(),ue=e.useRef(),xe=e.useRef(!1),J=A(function(){return _(typeof V=="string"?V:V.current,Q)}),le=A(function(We){var De=ne.current;if(De&&!We)return De;var he=J();return ne.current=he,he}),_e=A(function(){var We=function(){return le(!0).start(function(){H?.({pauseResume:Te,reset:ee,start:Se,update:we})})};se&&se>0?ue.current=setTimeout(We,se*1e3):We(),z?.({pauseResume:Te,reset:ee,update:we})}),Te=A(function(){le().pauseResume(),G?.({reset:ee,start:Se,update:we})}),ee=A(function(){le().el&&(ue.current&&clearTimeout(ue.current),le().reset(),ie?.({pauseResume:Te,start:Se,update:we}))}),we=A(function(We){le().update(We),$?.({pauseResume:Te,reset:ee,start:Se})}),Se=A(function(){ee(),_e()}),ye=A(function(We){q&&(We&&ee(),_e())});return e.useEffect(function(){xe.current?re&&ye(!0):(xe.current=!0,ye())},[re,xe,ye,se,R.start,R.suffix,R.prefix,R.duration,R.separator,R.decimals,R.decimal,R.formattingFn]),e.useEffect(function(){return function(){ee()}},[ee]),{start:Se,pauseResume:Te,reset:ee,update:we,getCountUp:le}},O=["className","redraw","containerProps","children","style"],L=function(R){var F=R.className,I=R.redraw,V=R.containerProps,q=R.children,re=R.style,se=m(R,O),H=e.useRef(null),z=e.useRef(!1),G=M(i(i({},se),{},{ref:H,startOnMount:typeof q!="function"||R.delay===0,enableReinitialize:!1})),ie=G.start,$=G.reset,Q=G.update,ne=G.pauseResume,ue=G.getCountUp,xe=A(function(){ie()}),J=A(function(Te){R.preserveValue||$(),Q(Te)}),le=A(function(){if(typeof R.children=="function"&&!(H.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}ue()});e.useEffect(function(){le()},[le]),e.useEffect(function(){z.current&&J(R.end)},[R.end,J]);var _e=I&&R;return e.useEffect(function(){I&&z.current&&xe()},[xe,I,_e]),e.useEffect(function(){!I&&z.current&&xe()},[xe,I,R.start,R.suffix,R.prefix,R.duration,R.separator,R.decimals,R.decimal,R.className,R.formattingFn]),e.useEffect(function(){z.current=!0},[]),typeof q=="function"?q({countUpRef:H,start:ie,reset:$,update:Q,pauseResume:ne,getCountUp:ue}):e.createElement("span",u({className:F,ref:H,style:re},V),typeof R.start<"u"?ue().formattingFn(R.start):"")};return Fu.default=L,Fu.useCountUp=M,Fu}var hX=fX();const Un=Gi(hX);function T3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=T3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=T3(e))&&(r&&(r+=" "),r+=t);return r}var Ov={},Pv={},xC;function mX(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Pv)),Pv}var Dv={},bC;function O3(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Dv)),Dv}var Rv={},wC;function P3(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Rv)),Rv}var Lv={},SC;function lS(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,s="",l="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];l?f==="\\"&&a+1<i?(a++,s+=n[a]):f===l?l="":s+=f:u?f==='"'||f==="'"?l=f:f==="]"?(u=!1,r.push(s),s=""):s+=f:f==="["?(u=!0,s&&(r.push(s),s="")):f==="."?s&&(r.push(s),s=""):s+=f,a++}return s&&r.push(s),r}e.toPath=t})(Lv)),Lv}var jC;function cS(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mX(),n=O3(),r=P3(),i=lS();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const m=l[u];return m===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=l[u];return m===void 0?f:m}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const m=l[u];return m===void 0?f:m}}}function s(l,u,f){if(u.length===0)return f;let m=l;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}e.get=a})(Ov)),Ov}var Iv,NC;function pX(){return NC||(NC=1,Iv=cS().get),Iv}var gX=pX();const Uo=Gi(gX);var $v={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function yX(){if(_C)return bt;_C=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case e:switch(w=w.type,w){case n:case i:case r:case u:case f:case y:return w;default:switch(w=w&&w.$$typeof,w){case s:case l:case p:case m:return w;case a:return w;default:return j}}case t:return j}}}return bt.ContextConsumer=a,bt.ContextProvider=s,bt.Element=e,bt.ForwardRef=l,bt.Fragment=n,bt.Lazy=p,bt.Memo=m,bt.Portal=t,bt.Profiler=i,bt.StrictMode=r,bt.Suspense=u,bt.SuspenseList=f,bt.isContextConsumer=function(w){return b(w)===a},bt.isContextProvider=function(w){return b(w)===s},bt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},bt.isForwardRef=function(w){return b(w)===l},bt.isFragment=function(w){return b(w)===n},bt.isLazy=function(w){return b(w)===p},bt.isMemo=function(w){return b(w)===m},bt.isPortal=function(w){return b(w)===t},bt.isProfiler=function(w){return b(w)===i},bt.isStrictMode=function(w){return b(w)===r},bt.isSuspense=function(w){return b(w)===u},bt.isSuspenseList=function(w){return b(w)===f},bt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===u||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===s||w.$$typeof===a||w.$$typeof===l||w.$$typeof===v||w.getModuleId!==void 0)},bt.typeOf=b,bt}var AC;function vX(){return AC||(AC=1,$v.exports=yX()),$v.exports}var xX=vX(),Xn=e=>e===0?0:e>0?1:-1,zr=e=>typeof e=="number"&&e!=+e,_o=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!zr(e),qi=e=>Pe(e)||typeof e=="string",bX=0,Id=e=>{var t=++bX;return"".concat(e||"").concat(t)},Ir=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var a;if(_o(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return zr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},D3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Bn(e,t,n){return Pe(e)&&Pe(t)?e+n*(t-e):t}function R3(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Uo(r,t))===n)}var kn=e=>e===null||typeof e>"u",mf=e=>kn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),wX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uS(e){if(typeof e!="string")return!1;var t=wX;return t.includes(e)}var SX=["viewBox","children"],MC=["points","pathLength"],zv={svg:SX,polygon:MC,polyline:MC},dS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{uS(i)&&(r[i]=(a=>n[i](n,a)))}),r},jX=(e,t,n)=>r=>(e(t,n,r),null),L3=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];uS(i)&&typeof a=="function"&&(r||(r={}),r[i]=jX(a,t,n))}),r},NX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function I3(e){if(typeof e!="string")return!1;var t=NX;return t.includes(e)}function Zi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return I3(r)});return Object.fromEntries(t)}var kC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CC=null,Bv=null,$3=e=>{if(e===CC&&Array.isArray(Bv))return Bv;var t=[];return N.Children.forEach(e,n=>{kn(n)||(xX.isFragment(n)?t=t.concat($3(n.props.children)):t.push(n))}),Bv=t,CC=e,t};function z3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>kC(i)):r=[kC(t)],$3(e).forEach(i=>{var a=Uo(i,"type.displayName")||Uo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var B3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_X=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&zv?.[r])!==null&&i!==void 0?i:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!r&&a.includes(t)||I3(t)),u=!!n&&uS(t);return s||l||u},en=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;_X((s=r)===null||s===void 0?void 0:s[a],a,t,n)&&(i[a]=r[a])}),i},AX=["children","width","height","viewBox","className","style","title","desc"];function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e1.apply(null,arguments)}function MX(e,t){if(e==null)return{};var n,r,i=kX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var V3=N.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:u,desc:f}=e,m=MX(e,AX),p=a||{width:r,height:i,x:0,y:0},y=lt("recharts-surface",s);return N.createElement("svg",e1({},en(m,!0,"svg"),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),N.createElement("title",null,u),N.createElement("desc",null,f),n)}),CX=["children","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t1.apply(null,arguments)}function EX(e,t){if(e==null)return{};var n,r,i=TX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var er=N.forwardRef((e,t)=>{var{children:n,className:r}=e,i=EX(e,CX),a=lt("recharts-layer",r);return N.createElement("g",t1({className:a},en(i,!0),{ref:t}),n)}),OX=N.createContext(null);function _t(e){return function(){return e}}const U3=Math.cos,Qm=Math.sin,Ai=Math.sqrt,Jm=Math.PI,ig=2*Jm,n1=Math.PI,r1=2*n1,yo=1e-6,PX=r1-yo;function F3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function DX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F3;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class RX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F3:DX(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-t,f=i-n,m=s-t,p=l-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>yo)if(!(Math.abs(p*u-f*m)>yo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,b=i-l,w=u*u+f*f,j=v*v+b*b,A=Math.sqrt(w),_=Math.sqrt(y),k=a*Math.tan((n1-Math.acos((w+y-j)/(2*A*_)))/2),E=k/_,M=k/A;Math.abs(E-1)>yo&&this._append`L${t+E*m},${n+E*p}`,this._append`A${a},${a},0,0,${+(p*v>m*b)},${this._x1=t+M*u},${this._y1=n+M*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,m=n+u,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>yo||Math.abs(this._y1-m)>yo)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%r1+r1),y>PX?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>yo&&this._append`A${r},${r},0,${+(y>=n1)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new RX(t)}function hS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function H3(e){this._context=e}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ag(e){return new H3(e)}function q3(e){return e[0]}function W3(e){return e[1]}function G3(e,t){var n=_t(!0),r=null,i=ag,a=null,s=fS(l);e=typeof e=="function"?e:e===void 0?q3:_t(e),t=typeof t=="function"?t:t===void 0?W3:_t(t);function l(u){var f,m=(u=hS(u)).length,p,y=!1,v;for(r==null&&(a=i(v=s())),f=0;f<=m;++f)!(f<m&&n(p=u[f],f,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,u),+t(p,f,u));if(v)return a=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:_t(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:_t(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_t(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function em(e,t,n){var r=null,i=_t(!0),a=null,s=ag,l=null,u=fS(f);e=typeof e=="function"?e:e===void 0?q3:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?W3:_t(+n);function f(p){var y,v,b,w=(p=hS(p)).length,j,A=!1,_,k=new Array(w),E=new Array(w);for(a==null&&(l=s(_=u())),y=0;y<=w;++y){if(!(y<w&&i(j=p[y],y,p))===A)if(A=!A)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=y-1;b>=v;--b)l.point(k[b],E[b]);l.lineEnd(),l.areaEnd()}A&&(k[y]=+e(j,y,p),E[y]=+t(j,y,p),l.point(r?+r(j,y,p):k[y],n?+n(j,y,p):E[y]))}if(_)return l=null,_+""||null}function m(){return G3().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:_t(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:_t(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:_t(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:_t(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:_t(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:_t(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:_t(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),f):a},f}class Y3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function LX(e){return new Y3(e,!0)}function IX(e){return new Y3(e,!1)}const mS={draw(e,t){const n=Ai(t/Jm);e.moveTo(n,0),e.arc(0,0,n,0,ig)}},$X={draw(e,t){const n=Ai(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},K3=Ai(1/3),zX=K3*2,BX={draw(e,t){const n=Ai(t/zX),r=n*K3;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},VX={draw(e,t){const n=Ai(t),r=-n/2;e.rect(r,r,n,n)}},UX=.8908130915292852,Z3=Qm(Jm/10)/Qm(7*Jm/10),FX=Qm(ig/10)*Z3,HX=-U3(ig/10)*Z3,qX={draw(e,t){const n=Ai(t*UX),r=FX*n,i=HX*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=ig*a/5,l=U3(s),u=Qm(s);e.lineTo(u*n,-l*n),e.lineTo(l*r-u*i,u*r+l*i)}e.closePath()}},Vv=Ai(3),WX={draw(e,t){const n=-Ai(t/(Vv*3));e.moveTo(0,n*2),e.lineTo(-Vv*n,-n),e.lineTo(Vv*n,-n),e.closePath()}},ei=-.5,ti=Ai(3)/2,i1=1/Ai(12),GX=(i1/2+1)*3,YX={draw(e,t){const n=Ai(t/GX),r=n/2,i=n*i1,a=r,s=n*i1+n,l=-a,u=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(l,u),e.lineTo(ei*r-ti*i,ti*r+ei*i),e.lineTo(ei*a-ti*s,ti*a+ei*s),e.lineTo(ei*l-ti*u,ti*l+ei*u),e.lineTo(ei*r+ti*i,ei*i-ti*r),e.lineTo(ei*a+ti*s,ei*s-ti*a),e.lineTo(ei*l+ti*u,ei*u-ti*l),e.closePath()}};function KX(e,t){let n=null,r=fS(i);e=typeof e=="function"?e:_t(e||mS),t=typeof t=="function"?t:_t(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:_t(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:_t(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ep(){}function tp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function X3(e){this._context=e}X3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZX(e){return new X3(e)}function Q3(e){this._context=e}Q3.prototype={areaStart:ep,areaEnd:ep,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XX(e){return new Q3(e)}function J3(e){this._context=e}J3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QX(e){return new J3(e)}function e4(e){this._context=e}e4.prototype={areaStart:ep,areaEnd:ep,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JX(e){return new e4(e)}function EC(e){return e<0?-1:1}function TC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(EC(a)+EC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function OC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Uv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,s-l*n,a,s)}function np(e){this._context=e}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uv(this,this._t0,OC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uv(this,OC(this,n=TC(this,e,t)),n);break;default:Uv(this,this._t0,n=TC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function t4(e){this._context=new n4(e)}(t4.prototype=Object.create(np.prototype)).point=function(e,t){np.prototype.point.call(this,t,e)};function n4(e){this._context=e}n4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function eQ(e){return new np(e)}function tQ(e){return new t4(e)}function r4(e){this._context=e}r4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=PC(e),i=PC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function nQ(e){return new r4(e)}function sg(e,t){this._context=e,this._t=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function rQ(e){return new sg(e,.5)}function iQ(e){return new sg(e,0)}function aQ(e){return new sg(e,1)}function pc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,l=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sQ(e,t){return e[t]}function oQ(e){const t=[];return t.key=e,t}function lQ(){var e=_t([]),t=a1,n=pc,r=sQ;function i(a){var s=Array.from(e.apply(this,arguments),oQ),l,u=s.length,f=-1,m;for(const p of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+r(p,s[l].key,f,a)]).data=p;for(l=0,m=hS(t(s));l<u;++l)s[m[l]].index=l;return n(s,m),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:_t(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:_t(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?a1:typeof a=="function"?a:_t(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??pc,i):n},i}function cQ(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}pc(e,t)}}function uQ(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}pc(e,t)}}function dQ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,f=0;l<s;++l){for(var m=e[t[l]],p=m[r][1]||0,y=m[r-1][1]||0,v=(p-y)/2,b=0;b<l;++b){var w=e[t[b]],j=w[r][1]||0,A=w[r-1][1]||0;v+=j-A}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,pc(e,t)}}var fQ=["type","size","sizeType"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s1.apply(null,arguments)}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gQ(e,t){if(e==null)return{};var n,r,i=yQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i4={symbolCircle:mS,symbolCross:$X,symbolDiamond:BX,symbolSquare:VX,symbolStar:qX,symbolTriangle:WX,symbolWye:YX},vQ=Math.PI/180,xQ=e=>{var t="symbol".concat(mf(e));return i4[t]||mS},bQ=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*vQ;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wQ=(e,t)=>{i4["symbol".concat(mf(e))]=t},a4=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=gQ(e,fQ),a=RC(RC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var y=xQ(s),v=KX().type(y).size(bQ(n,r,s));return v()},{className:u,cx:f,cy:m}=a,p=en(a,!0);return f===+f&&m===+m&&n===+n?N.createElement("path",s1({},p,{className:lt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(m,")"),d:l()})):null};a4.registerSymbol=wQ;var Fv={},Hv={},LC;function SQ(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(Hv)),Hv}var qv={},IC;function s4(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(qv)),qv}var Wv={},Gv={},Yv={},$C;function jQ(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Yv)),Yv}var zC;function pS(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jQ();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Gv)),Gv}var Kv={},BC;function NQ(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Kv)),Kv}var VC;function _Q(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pS(),n=NQ();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Wv)),Wv}var Zv={},Xv={},UC;function AQ(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Xv)),Xv}var Qv={},Jv={},ex={},tx={},FC;function o4(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(tx)),tx}var nx={},HC;function l4(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(nx)),nx}var rx={},qC;function c4(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(rx)),rx}var WC;function MQ(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS(),n=o4(),r=l4(),i=c4();function a(p,y,v){return typeof v!="function"?t.isMatch(p,y):s(p,y,function b(w,j,A,_,k,E){const M=v(w,j,A,_,k,E);return M!==void 0?!!M:s(w,j,b,E)},new Map)}function s(p,y,v,b){if(y===p)return!0;switch(typeof y){case"object":return l(p,y,v,b);case"function":return Object.keys(y).length>0?s(p,{...y},v,b):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function l(p,y,v,b){if(y==null)return!0;if(Array.isArray(y))return f(p,y,v,b);if(y instanceof Map)return u(p,y,v,b);if(y instanceof Set)return m(p,y,v,b);const w=Object.keys(y);if(p==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(y))return b.get(y)===p;b&&b.set(y,p);try{for(let j=0;j<w.length;j++){const A=w[j];if(!r.isPrimitive(p)&&!(A in p)||y[A]===void 0&&p[A]!==void 0||y[A]===null&&p[A]!==null||!v(p[A],y[A],A,p,y,b))return!1}return!0}finally{b&&b.delete(y)}}function u(p,y,v,b){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,j]of y.entries()){const A=p.get(w);if(v(A,j,w,p,y,b)===!1)return!1}return!0}function f(p,y,v,b){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let j=0;j<y.length;j++){const A=y[j];let _=!1;for(let k=0;k<p.length;k++){if(w.has(k))continue;const E=p[k];let M=!1;if(v(E,A,j,p,y,b)&&(M=!0),M){w.add(k),_=!0;break}}if(!_)return!1}return!0}function m(p,y,v,b){return y.size===0?!0:p instanceof Set?f([...p],[...y],v,b):!1}e.isMatchWith=a,e.isSetMatch=m})(ex)),ex}var GC;function gS(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MQ();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Jv)),Jv}var ix={},ax={},sx={},YC;function kQ(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(sx)),sx}var ox={},KC;function u4(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ox)),ox}var lx={},ZC;function d4(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",v="[object Object]",b="[object Error]",w="[object DataView]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",E="[object BigUint64Array]",M="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=b,e.float32ArrayTag=R,e.float64ArrayTag=F,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=L,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=k,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=A})(lx)),lx}var cx={},XC;function CQ(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cx)),cx}var QC;function f4(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kQ(),n=u4(),r=d4(),i=l4(),a=CQ();function s(m,p){return l(m,void 0,m,new Map,p)}function l(m,p,y,v=new Map,b=void 0){const w=b?.(m,p,y,v);if(w!==void 0)return w;if(i.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const j=new Array(m.length);v.set(m,j);for(let A=0;A<m.length;A++)j[A]=l(m[A],A,y,v,b);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;v.set(m,j);for(const[A,_]of m)j.set(A,l(_,A,y,v,b));return j}if(m instanceof Set){const j=new Set;v.set(m,j);for(const A of m)j.add(l(A,void 0,y,v,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,j);for(let A=0;A<m.length;A++)j[A]=l(m[A],A,y,v,b);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,j),u(j,m,y,v,b),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return v.set(m,j),u(j,m,y,v,b),j}if(m instanceof Blob){const j=new Blob([m],{type:m.type});return v.set(m,j),u(j,m,y,v,b),j}if(m instanceof Error){const j=new m.constructor;return v.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,u(j,m,y,v,b),j}if(typeof m=="object"&&f(m)){const j=Object.create(Object.getPrototypeOf(m));return v.set(m,j),u(j,m,y,v,b),j}return m}function u(m,p,y=m,v,b){const w=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<w.length;j++){const A=w[j],_=Object.getOwnPropertyDescriptor(m,A);(_==null||_.writable)&&(m[A]=l(p[A],A,y,v,b))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(ax)),ax}var JC;function EQ(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f4();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(ix)),ix}var eE;function TQ(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS(),n=EQ();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Qv)),Qv}var ux={},dx={},fx={},tE;function OQ(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f4(),n=d4();function r(i,a){return t.cloneDeepWith(i,(s,l,u,f)=>{const m=a?.(s,l,u,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(fx)),fx}var nE;function PQ(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OQ();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(dx)),dx}var hx={},mx={},rE;function h4(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(mx)),mx}var px={},iE;function DQ(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(px)),px}var aE;function RQ(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O3(),n=h4(),r=DQ(),i=lS();function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=s;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(hx)),hx}var sE;function LQ(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS(),n=P3(),r=PQ(),i=cS(),a=RQ();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const m=i.get(f,l);return m===void 0?a.has(f,l):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=s})(ux)),ux}var oE;function IQ(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s4(),n=AQ(),r=TQ(),i=LQ();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(Zv)),Zv}var lE;function $Q(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SQ(),n=s4(),r=_Q(),i=IQ();function a(s,l=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(l)):[]}e.uniqBy=a})(Fv)),Fv}var gx,cE;function zQ(){return cE||(cE=1,gx=$Q().uniqBy),gx}var BQ=zQ();const uE=Gi(BQ);function VQ(e,t,n){return t===!0?uE(e,n):typeof t=="function"?uE(e,t):e}var yx={exports:{}},vx={},xx={exports:{}},bx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function UQ(){if(dE)return bx;dE=1;var e=Zo();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function l(p,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),w=b[0].inst,j=b[1];return a(function(){w.value=v,w.getSnapshot=y,u(w)&&j({inst:w})},[p,v,y]),i(function(){return u(w)&&j({inst:w}),p(function(){u(w)&&j({inst:w})})},[p]),s(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return bx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,bx}var fE;function FQ(){return fE||(fE=1,xx.exports=UQ()),xx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function HQ(){if(hE)return vx;hE=1;var e=Zo(),t=FQ();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return vx.useSyncExternalStoreWithSelector=function(f,m,p,y,v){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function A(O){if(!_){if(_=!0,k=O,O=y(O),v!==void 0&&w.hasValue){var L=w.value;if(v(L,O))return E=L}return E=O}if(L=E,r(k,O))return L;var D=y(O);return v!==void 0&&v(L,D)?(k=O,L):(k=O,E=D)}var _=!1,k,E,M=p===void 0?null:p;return[function(){return A(m())},M===null?void 0:function(){return A(M())}]},[m,p,y,v]);var j=i(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=j},[j]),u(j),j},vx}var mE;function qQ(){return mE||(mE=1,yx.exports=HQ()),yx.exports}var WQ=qQ(),yS=N.createContext(null),GQ=e=>e,nn=()=>{var e=N.useContext(yS);return e?e.store.dispatch:GQ},Lm=()=>{},YQ=()=>Lm,KQ=(e,t)=>e===t;function Oe(e){var t=N.useContext(yS);return WQ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YQ,t?t.store.getState:Lm,t?t.store.getState:Lm,t?e:Lm,KQ)}function ZQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function QQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pE=e=>Array.isArray(e)?e:[e];function JQ(e){const t=Array.isArray(e[0])?e[0]:e;return QQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eJ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var tJ=class{constructor(e){this.value=e}deref(){return this.value}},nJ=typeof WeakRef<"u"?WeakRef:tJ,rJ=0,gE=1;function tm(){return{s:rJ,v:void 0,o:null,p:null}}function m4(e,t={}){let n=tm();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,y=u;p<y;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(v);w===void 0?(l=tm(),b.set(v,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(v);w===void 0?(l=tm(),b.set(v,l)):l=w}}const f=l;let m;if(l.s===gE)m=l.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new nJ(m):m}return f.s=gE,f.v=m,m}return s.clearCache=()=>{n=tm(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function iJ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),ZQ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:v=m4,argsMemoizeOptions:b=[]}=m,w=pE(y),j=pE(b),A=JQ(i),_=p(function(){return a++,f.apply(null,arguments)},...w),k=v(function(){s++;const M=eJ(A,arguments);return l=_.apply(null,M),l},...j);return Object.assign(k,{resultFunc:f,memoizedResultFunc:_,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var oe=iJ(m4),aJ=Object.assign((e,t=oe)=>{XQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>aJ}),wx={},Sx={},jx={},yE;function sJ(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};e.compareValues=n})(jx)),jx}var Nx={},_x={},vE;function p4(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(_x)),_x}var xE;function oJ(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(Nx)),Nx}var bE;function lJ(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sJ(),n=oJ(),r=lS();function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const f=(v,b)=>{let w=v;for(let j=0;j<b.length&&w!=null;++j)w=w[b[j]];return w},m=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:f(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?f(b,v):typeof b=="object"?b[v]:b,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(b=>m(b,v))})).slice().sort((v,b)=>{for(let w=0;w<p.length;w++){const j=t.compareValues(v.criteria[w],b.criteria[w],l[w]);if(j!==0)return j}return 0}).map(v=>v.original)}e.orderBy=i})(Sx)),Sx}var Ax={},wE;function cJ(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(l,u)=>{for(let f=0;f<l.length;f++){const m=l[f];Array.isArray(m)&&u<a?s(m,u+1):i.push(m)}};return s(n,0),i}e.flatten=t})(Ax)),Ax}var Mx={},SE;function g4(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h4(),n=pS(),r=o4(),i=c4();function a(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],s):!1}e.isIterateeCall=a})(Mx)),Mx}var jE;function uJ(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lJ(),n=cJ(),r=g4();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(wx)),wx}var kx,NE;function dJ(){return NE||(NE=1,kx=uJ().sortBy),kx}var fJ=dJ();const og=Gi(fJ);var y4=e=>e.legend.settings,hJ=e=>e.legend.size,mJ=e=>e.legend.payload;oe([mJ,y4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?og(r,n):r});var nm=1;function pJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>nm||Math.abs(s.left-t.left)>nm||Math.abs(s.top-t.top)>nm||Math.abs(s.width-t.width)>nm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function In(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",_E=gJ,Cx=()=>Math.random().toString(36).substring(7).split("").join("."),yJ={INIT:`@@redux/INIT${Cx()}`,REPLACE:`@@redux/REPLACE${Cx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cx()}`},rp=yJ;function vS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function v4(e,t,n){if(typeof e!="function")throw new Error(In(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(In(1));return n(v4)(e,t)}let r=e,i=t,a=new Map,s=a,l=0,u=!1;function f(){s===a&&(s=new Map,a.forEach((j,A)=>{s.set(A,j)}))}function m(){if(u)throw new Error(In(3));return i}function p(j){if(typeof j!="function")throw new Error(In(4));if(u)throw new Error(In(5));let A=!0;f();const _=l++;return s.set(_,j),function(){if(A){if(u)throw new Error(In(6));A=!1,f(),s.delete(_),a=null}}}function y(j){if(!vS(j))throw new Error(In(7));if(typeof j.type>"u")throw new Error(In(8));if(typeof j.type!="string")throw new Error(In(17));if(u)throw new Error(In(9));try{u=!0,i=r(i,j)}finally{u=!1}return(a=s).forEach(_=>{_()}),j}function v(j){if(typeof j!="function")throw new Error(In(10));r=j,y({type:rp.REPLACE})}function b(){const j=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(In(11));function _(){const E=A;E.next&&E.next(m())}return _(),{unsubscribe:j(_)}},[_E](){return this}}}return y({type:rp.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:v,[_E]:b}}function vJ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:rp.INIT})>"u")throw new Error(In(12));if(typeof n(void 0,{type:rp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function x4(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{vJ(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],v=s[p],b=y(v,l);if(typeof b>"u")throw l&&l.type,new Error(In(14));f[p]=b,u=u||b!==v}return u=u||r.length!==Object.keys(s).length,u?f:s}}function ip(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function xJ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(In(15))};const s={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=e.map(u=>u(s));return a=ip(...l)(i.dispatch),{...i,dispatch:a}}}function b4(e){return vS(e)&&"type"in e&&typeof e.type=="string"}var w4=Symbol.for("immer-nothing"),AE=Symbol.for("immer-draftable"),Br=Symbol.for("immer-state");function bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var gc=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[Br]}function Pa(e){return e?S4(e)||Array.isArray(e)||!!e[AE]||!!e.constructor?.[AE]||pf(e)||cg(e):!1}var bJ=Object.prototype.constructor.toString();function S4(e){if(!e||typeof e!="object")return!1;const t=gc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===bJ}function ap(e,t){lg(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function lg(e){const t=e[Br];return t?t.type_:Array.isArray(e)?1:pf(e)?2:cg(e)?3:0}function o1(e,t){return lg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function j4(e,t,n){const r=lg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pf(e){return e instanceof Map}function cg(e){return e instanceof Set}function vo(e){return e.copy_||e.base_}function l1(e,t){if(pf(e))return new Map(e);if(cg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=S4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Br];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(gc(e),r)}else{const r=gc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function xS(e,t=!1){return ug(e)||Fo(e)||!Pa(e)||(lg(e)>1&&Object.defineProperties(e,{set:{value:rm},add:{value:rm},clear:{value:rm},delete:{value:rm}}),Object.freeze(e),t&&Object.values(e).forEach(n=>xS(n,!0))),e}function rm(){bi(2)}function ug(e){return Object.isFrozen(e)}var SJ={};function Ho(e){const t=SJ[e];return t||bi(0,e),t}var $d;function N4(){return $d}function jJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ME(e,t){t&&(Ho("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function c1(e){u1(e),e.drafts_.forEach(NJ),e.drafts_=null}function u1(e){e===$d&&($d=e.parent_)}function kE(e){return $d=jJ($d,e)}function NJ(e){const t=e[Br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Br].modified_&&(c1(t),bi(4)),Pa(e)&&(e=sp(t,e),t.parent_||op(t,e)),t.patches_&&Ho("Patches").generateReplacementPatches_(n[Br].base_,e,t.patches_,t.inversePatches_)):e=sp(t,n,[]),c1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w4?e:void 0}function sp(e,t,n){if(ug(t))return t;const r=t[Br];if(!r)return ap(t,(i,a)=>EE(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return op(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),ap(a,(l,u)=>EE(e,r,i,l,u,n,s)),op(e,i,!1),n&&e.patches_&&Ho("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function EE(e,t,n,r,i,a,s){if(Fo(i)){const l=a&&t&&t.type_!==3&&!o1(t.assigned_,r)?a.concat(r):void 0,u=sp(e,i,l);if(j4(n,r,u),Fo(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Pa(i)&&!ug(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(pf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&op(e,i)}}function op(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xS(t,n)}function _J(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:N4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=bS;n&&(i=[r],a=zd);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var bS={get(e,t){if(t===Br)return e;const n=vo(e);if(!o1(n,t))return AJ(e,n,t);const r=n[t];return e.finalized_||!Pa(r)?r:r===Ex(e.base_,t)?(Tx(e),e.copy_[t]=f1(r,e)):r},has(e,t){return t in vo(e)},ownKeys(e){return Reflect.ownKeys(vo(e))},set(e,t,n){const r=_4(vo(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ex(vo(e),t),a=i?.[Br];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(wJ(n,i)&&(n!==void 0||o1(e.base_,t)))return!0;Tx(e),d1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ex(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tx(e),d1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=vo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){bi(11)},getPrototypeOf(e){return gc(e.base_)},setPrototypeOf(){bi(12)}},zd={};ap(bS,(e,t)=>{zd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zd.deleteProperty=function(e,t){return zd.set.call(this,e,t,void 0)};zd.set=function(e,t,n){return bS.set.call(this,e[0],t,n,e[0])};function Ex(e,t){const n=e[Br];return(n?vo(n):e)[t]}function AJ(e,t,n){const r=_4(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function _4(e,t){if(!(t in e))return;let n=gc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=gc(n)}}function d1(e){e.modified_||(e.modified_=!0,e.parent_&&d1(e.parent_))}function Tx(e){e.copy_||(e.copy_=l1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var MJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(u=a,...f){return s.produce(u,m=>n.call(this,m,...f))}}typeof n!="function"&&bi(6),r!==void 0&&typeof r!="function"&&bi(7);let i;if(Pa(t)){const a=kE(this),s=f1(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?c1(a):u1(a)}return ME(a,r),CE(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===w4&&(i=void 0),this.autoFreeze_&&xS(i,!0),r){const a=[],s=[];Ho("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else bi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pa(e)||bi(8),Fo(e)&&(e=Aa(e));const t=kE(this),n=f1(e,void 0);return n[Br].isManual_=!0,u1(t),n}finishDraft(e,t){const n=e&&e[Br];(!n||!n.isManual_)&&bi(9);const{scope_:r}=n;return ME(r,t),CE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ho("Patches").applyPatches_;return Fo(e)?r(e,t):this.produce(e,i=>r(i,t))}};function f1(e,t){const n=pf(e)?Ho("MapSet").proxyMap_(e,t):cg(e)?Ho("MapSet").proxySet_(e,t):_J(e,t);return(t?t.scope_:N4()).drafts_.push(n),n}function Aa(e){return Fo(e)||bi(10,e),A4(e)}function A4(e){if(!Pa(e)||ug(e))return e;const t=e[Br];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=l1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=l1(e,!0);return ap(n,(r,i)=>{j4(n,r,A4(i))}),t&&(t.finalized_=!1),n}var kJ=new MJ,M4=kJ.produce;function k4(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var CJ=k4(),EJ=k4,TJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ip:ip.apply(null,arguments)};function ci(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error($r(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>b4(r)&&r.type===e,n}var C4=class ld extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ld.prototype)}static get[Symbol.species](){return ld}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ld(...t[0].concat(this)):new ld(...t.concat(this))}};function TE(e){return Pa(e)?M4(e,()=>{}):e}function im(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function OJ(e){return typeof e=="boolean"}var PJ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new C4;return n&&(OJ(n)?s.push(CJ):s.push(EJ(n.extraArgument))),s},DJ="RTK_autoBatch",OE=e=>t=>{setTimeout(t,e)},RJ=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OE(10):e.type==="callback"?e.queueNotification:OE(e.timeout),f=()=>{s=!1,a&&(a=!1,l.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return l.add(m),()=>{y(),l.delete(m)}},dispatch(m){try{return i=!m?.meta?.[DJ],a=!i,a&&(s||(s=!0,u(f))),r.dispatch(m)}finally{i=!0}}})},LJ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new C4(e);return r&&i.push(RJ(typeof r=="object"?r:void 0)),i};function IJ(e){const t=PJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(vS(n))l=x4(n);else throw new Error($r(1));let u;typeof r=="function"?u=r(t):u=t();let f=ip;i&&(f=TJ({trace:!1,...typeof i=="object"&&i}));const m=xJ(...u),p=LJ(m);let y=typeof s=="function"?s(p):p();const v=f(...y);return v4(l,a,v)}function E4(e){const t={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error($r(28));if(l in t)throw new Error($r(29));return t[l]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function $J(e){return typeof e=="function"}function zJ(e,t){let[n,r,i]=E4(t),a;if($J(e))a=()=>TE(e());else{const l=TE(e);a=()=>l}function s(l=a(),u){let f=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Fo(m)){const v=p(m,u);return v===void 0?m:v}else{if(Pa(m))return M4(m,y=>p(y,u));{const y=p(m,u);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},l)}return s.getInitialState=a,s}var BJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VJ=(e=21)=>{let t="",n=e;for(;n--;)t+=BJ[Math.random()*64|0];return t},UJ=Symbol.for("rtk-slice-createasyncthunk");function FJ(e,t){return`${e}/${t}`}function HJ({creators:e}={}){const t=e?.asyncThunk?.[UJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error($r(11));const s=(typeof r.reducers=="function"?r.reducers(WJ()):r.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(k,E){const M=typeof k=="string"?k:k.type;if(!M)throw new Error($r(12));if(M in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[M]=E,f},addMatcher(k,E){return u.sliceMatchers.push({matcher:k,reducer:E}),f},exposeAction(k,E){return u.actionCreators[k]=E,f},exposeCaseReducer(k,E){return u.sliceCaseReducersByName[k]=E,f}};l.forEach(k=>{const E=s[k],M={reducerName:k,type:FJ(i,k),createNotation:typeof r.reducers=="function"};YJ(E)?ZJ(M,E,f,t):GJ(M,E,f)});function m(){const[k={},E=[],M=void 0]=typeof r.extraReducers=="function"?E4(r.extraReducers):[r.extraReducers],O={...k,...u.sliceCaseReducersByType};return zJ(r.initialState,L=>{for(let D in O)L.addCase(D,O[D]);for(let D of u.sliceMatchers)L.addMatcher(D.matcher,D.reducer);for(let D of E)L.addMatcher(D.matcher,D.reducer);M&&L.addDefaultCase(M)})}const p=k=>k,y=new Map,v=new WeakMap;let b;function w(k,E){return b||(b=m()),b(k,E)}function j(){return b||(b=m()),b.getInitialState()}function A(k,E=!1){function M(L){let D=L[k];return typeof D>"u"&&E&&(D=im(v,M,j)),D}function O(L=p){const D=im(y,E,()=>new WeakMap);return im(D,L,()=>{const R={};for(const[F,I]of Object.entries(r.selectors??{}))R[F]=qJ(I,L,()=>im(v,L,j),E);return R})}return{reducerPath:k,getSelectors:O,get selectors(){return O(M)},selectSlice:M}}const _={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...A(a),injectInto(k,{reducerPath:E,...M}={}){const O=E??a;return k.inject({reducerPath:O,reducer:w},M),{..._,...A(O,!0)}}};return _}}function qJ(e,t,n,r){function i(a,...s){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Fr=HJ();function WJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function GJ({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!KJ(r))throw new Error($r(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?ci(e,s):ci(e))}function YJ(e){return e._reducerDefinitionType==="asyncThunk"}function KJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ZJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||am,pending:l||am,rejected:u||am,settled:f||am})}function am(){}var XJ="task",T4="listener",O4="completed",wS="cancelled",QJ=`task-${wS}`,JJ=`task-${O4}`,h1=`${T4}-${wS}`,eee=`${T4}-${O4}`,dg=class{constructor(e){this.code=e,this.message=`${XJ} ${wS} (reason: ${e})`}name="TaskAbortError";message},SS=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},lp=()=>{},P4=(e,t=lp)=>(e.catch(t),e),D4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ro=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lo=e=>{if(e.aborted){const{reason:t}=e;throw new dg(t)}};function R4(e,t){let n=lp;return new Promise((r,i)=>{const a=()=>i(new dg(e.reason));if(e.aborted){a();return}n=D4(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=lp})}var tee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof dg?"cancelled":"rejected",error:n}}finally{t?.()}},cp=e=>t=>P4(R4(e,t).then(n=>(Lo(e),n))),L4=e=>{const t=cp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:lc}=Object,PE={},fg="listenerMiddleware",nee=(e,t)=>{const n=r=>D4(e,()=>Ro(r,e.reason));return(r,i)=>{SS(r);const a=new AbortController;n(a);const s=tee(async()=>{Lo(e),Lo(a.signal);const l=await r({pause:cp(a.signal),delay:L4(a.signal),signal:a.signal});return Lo(a.signal),l},()=>Ro(a,JJ));return i?.autoJoin&&t.push(s.catch(lp)),{result:cp(e)(s),cancel(){Ro(a,QJ)}}}},ree=(e,t)=>{const n=async(r,i)=>{Lo(t);let a=()=>{};const l=[new Promise((u,f)=>{let m=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await R4(t,Promise.race(l));return Lo(t),u}finally{a()}};return(r,i)=>P4(n(r,i))},I4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ci(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error($r(21));return SS(a),{predicate:i,type:t,effect:a}},$4=lc(e=>{const{type:t,predicate:n,effect:r}=I4(e);return{id:VJ(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>$4}),DE=(e,t)=>{const{type:n,effect:r,predicate:i}=I4(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},m1=e=>{e.pending.forEach(t=>{Ro(t,h1)})},iee=e=>()=>{e.forEach(m1),e.clear()},RE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},z4=lc(ci(`${fg}/add`),{withTypes:()=>z4}),aee=ci(`${fg}/removeAll`),B4=lc(ci(`${fg}/remove`),{withTypes:()=>B4}),see=(...e)=>{console.error(`${fg}/error`,...e)},gf=(e={})=>{const t=new Map,{extra:n,onError:r=see}=e;SS(r);const i=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p?.cancelActive&&m1(m)}),a=m=>{const p=DE(t,m)??$4(m);return i(p)};lc(a,{withTypes:()=>a});const s=m=>{const p=DE(t,m);return p&&(p.unsubscribe(),m.cancelActive&&m1(p)),!!p};lc(s,{withTypes:()=>s});const l=async(m,p,y,v)=>{const b=new AbortController,w=ree(a,b.signal),j=[];try{m.pending.add(b),await Promise.resolve(m.effect(p,lc({},y,{getOriginalState:v,condition:(A,_)=>w(A,_).then(Boolean),take:w,delay:L4(b.signal),pause:cp(b.signal),extra:n,signal:b.signal,fork:nee(b.signal,j),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((A,_,k)=>{A!==b&&(Ro(A,h1),k.delete(A))})},cancel:()=>{Ro(b,h1),m.pending.delete(b)},throwIfCancelled:()=>{Lo(b.signal)}})))}catch(A){A instanceof dg||RE(r,A,{raisedBy:"effect"})}finally{await Promise.all(j),Ro(b,eee),m.pending.delete(b)}},u=iee(t);return{middleware:m=>p=>y=>{if(!b4(y))return p(y);if(z4.match(y))return a(y.payload);if(aee.match(y)){u();return}if(B4.match(y))return s(y.payload);let v=m.getState();const b=()=>{if(v===PE)throw new Error($r(23));return v};let w;try{if(w=p(y),t.size>0){const j=m.getState(),A=Array.from(t.values());for(const _ of A){let k=!1;try{k=_.predicate(y,j,v)}catch(E){k=!1,RE(r,E,{raisedBy:"predicate"})}k&&l(_,y,m,b)}}}finally{v=PE}return w},startListening:a,stopListening:s,clearListeners:u}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},V4=Fr({name:"chartLayout",initialState:oee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lee,setLayout:cee,setChartSize:uee,setScale:dee}=V4.actions,fee=V4.reducer;function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(n),!0).forEach(function(r){hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hee(e,t,n){return(t=mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var up=Math.PI/180,gee=e=>e*180/Math.PI,fn=(e,t,n,r)=>({x:e+Math.cos(-up*r)*n,y:t+Math.sin(-up*r)*n}),U4=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},yee=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},vee=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=yee({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:s,angle:gee(u),angleInRadian:u}},xee=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},bee=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},wee=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=vee({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:f}=xee(t),m=a,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?IE(IE({},t),{},{radius:i,angle:bee(m,t)}):null};function F4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,n){return kn(e)||kn(t)?n:qi(t)?Uo(e,t,n):typeof t=="function"?t(e):n}var _ee=(e,t,n,r,i)=>{var a,s=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,m=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Xn(m-f)!==Xn(p-m)){var v=[];if(Xn(p-m)===Xn(i[1]-i[0])){y=p;var b=m+i[1]-i[0];v[0]=Math.min(b,(b+f)/2),v[1]=Math.max(b,(b+f)/2)}else{y=f;var w=p+i[1]-i[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var j=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>j[0]&&e<=j[1]||e>=v[0]&&e<=v[1]){({index:s}=n[u]);break}}else{var A=Math.min(f,p),_=Math.max(f,p);if(e>(A+m)/2&&e<=(_+m)/2){({index:s}=n[u]);break}}}else if(t){for(var k=0;k<l;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:s}=t[k]);break}}return s},Aee=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Pe(e[a]))return ai(ai({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Pe(e[s]))return ai(ai({},e),{},{[s]:e[s]+(i||0)})}return e},Ia=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",H4=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(t),a||s.push(n),s},q4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:v}=e;if(!s)return null;var b=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/b:0;if(w=v==="angleAxis"&&a&&a.length>=2?Xn(a[0]-a[1])*2*w:w,p||y){var j=(p||y||[]).map((A,_)=>{var k=r?r.indexOf(A):A;return{coordinate:s(k)+w,value:A,offset:w,index:_}});return j.filter(A=>!zr(A.coordinate))}return u&&f?f.map((A,_)=>({coordinate:s(A)+w,value:A,index:_,offset:w})):s.ticks&&m!=null?s.ticks(m).map((A,_)=>({coordinate:s(A)+w,value:A,offset:w,index:_})):s.domain().map((A,_)=>({coordinate:s(A)+w,value:r?r[A]:A,index:_,offset:w}))},zE=1e-4,Mee=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zE,a=Math.max(r[0],r[1])+zE,s=e(t[0]),l=e(t[n-1]);(s<i||s>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},kee=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var l=zr(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},Cee=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=zr(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Eee={sign:kee,expand:cQ,none:pc,silhouette:uQ,wiggle:dQ,positive:Cee},Tee=(e,t,n)=>{var r=Eee[n],i=lQ().keys(t).value((a,s)=>+zt(a,s,0)).order(a1).offset(r);return i(e)};function Oee(e){return e==null?void 0:String(e)}function BE(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kn(i[t.dataKey])){var l=R3(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=zt(i,kn(s)?t.dataKey:s);return kn(u)?null:t.scale(u)}var Pee=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},Dee=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ree=(e,t,n)=>{if(e!=null)return Dee(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,l=s.reduce((u,f)=>{var m=F4(f,t,n),p=Pee(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},VE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p1=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=og(t,m=>m.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],f=i[s-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function FE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return ai(ai({},t),{},{dataKey:n,payload:r,value:i,name:a})}function hg(e,t){if(e)return String(e);if(typeof t=="string")return t}function Lee(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?wee({x:e,y:t},r):null}var Iee=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=r;return ai(ai(ai({},r),fn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=r;return ai(ai(ai({},r),fn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},$ee=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,$a=e=>e.layout.width,za=e=>e.layout.height,zee=e=>e.layout.scale,W4=e=>e.layout.margin,mg=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pg=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),G4="data-recharts-item-index",Y4="data-recharts-item-data-key",yf=60;function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fee=e=>e.brush.height;function Hee(e){var t=pg(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yf;return n+i}return n},0)}function qee(e){var t=pg(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yf;return n+i}return n},0)}function Wee(e){var t=mg(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Gee(e){var t=mg(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Cn=oe([$a,za,W4,Fee,Hee,qee,Wee,Gee,y4,hJ],(e,t,n,r,i,a,s,l,u,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=sm(sm({},p),m),v=y.bottom;y.bottom+=r,y=Aee(y,u,f);var b=e-y.left-y.right,w=t-y.top-y.bottom;return sm(sm({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(w,0)})}),Yee=oe(Cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),K4=oe($a,za,(e,t)=>({x:0,y:0,width:e,height:t})),Kee=N.createContext(null),hi=()=>N.useContext(Kee)!=null,gg=e=>e.brush,yg=oe([gg,Cn,W4],(e,t,n)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Pe(e.width)?e.width:t.width})),jS=()=>{var e,t=hi(),n=Oe(Yee),r=Oe(yg),i=(e=Oe(gg))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Zee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Z4=()=>{var e;return(e=Oe(Cn))!==null&&e!==void 0?e:Zee},X4=()=>Oe($a),Q4=()=>Oe(za),gt=e=>e.layout.layoutType,NS=()=>Oe(gt),Xee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J4=Fr({name:"legend",initialState:Xee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Aa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:dbe,setLegendSettings:fbe,addLegendPayload:e6,removeLegendPayload:t6}=J4.actions,Qee=J4.reducer;function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g1.apply(null,arguments)}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var rte=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,v=()=>{if(a&&a.length){var M={padding:0,margin:0},O=(l?og(a,l):a).map((L,D)=>{if(L.type==="none")return null;var R=L.formatter||s||nte,{value:F,name:I}=L,V=F,q=I;if(R){var re=R(F,I,L,D,a);if(Array.isArray(re))[V,q]=re;else if(re!=null)V=re;else return null}var se=Ox({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:se},qi(q)?N.createElement("span",{className:"recharts-tooltip-item-name"},q):null,qi(q)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},V),N.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:M},O)}return null},b=Ox({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Ox({margin:0},i),j=!kn(m),A=j?m:"",_=lt("recharts-default-tooltip",u),k=lt("recharts-tooltip-label",f);j&&p&&a!==void 0&&a!==null&&(A=p(m,a));var E=y?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",g1({className:_,style:b},E),N.createElement("p",{className:k,style:w},N.isValidElement(A)?A:"".concat(A)),v())},Hu="recharts-tooltip-wrapper",ite={visibility:"hidden"};function ate(e){var{coordinate:t,translateX:n,translateY:r}=e;return lt(Hu,{["".concat(Hu,"-right")]:Pe(n)&&t&&Pe(t.x)&&n>=t.x,["".concat(Hu,"-left")]:Pe(n)&&t&&Pe(t.x)&&n<t.x,["".concat(Hu,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(Hu,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function WE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(a&&Pe(a[r]))return a[r];var m=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?m:p;var y=u[r];if(y==null)return 0;if(s[r]){var v=m,b=y;return v<b?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var w=p+l,j=y+f;return w>j?Math.max(m,y):Math.max(p,y)}function ste(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ote(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,f,m,p;return s.height>0&&s.width>0&&n?(m=WE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=WE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=ste({translateX:m,translateY:p,useTranslate3d:l})):f=ite,{cssProperties:f,cssClasses:ate({translateX:m,translateY:p,coordinate:n})}}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){y1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y1(e,t,n){return(t=lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lte(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ute extends N.PureComponent{constructor(){super(...arguments),y1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),y1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:v,wrapperStyle:b,lastBoundingBox:w,innerRef:j,hasPortalFromProps:A}=this.props,{cssClasses:_,cssProperties:k}=ote({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),E=A?{}:om(om({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=om(om({},E),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},b);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:M,ref:j},a)}}var dte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),el={devToolsEnabled:!1,isSsr:dte()},n6=()=>Oe(e=>e.rootProps.accessibilityLayer);function lr(e){return Number.isFinite(e)}function yc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v1.apply(null,arguments)}function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fte(e,t,n){return(t=hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZE={curveBasisClosed:XX,curveBasisOpen:QX,curveBasis:ZX,curveBumpX:LX,curveBumpY:IX,curveLinearClosed:JX,curveLinear:ag,curveMonotoneX:eQ,curveMonotoneY:tQ,curveNatural:nQ,curveStep:rQ,curveStepAfter:aQ,curveStepBefore:iQ},lm=e=>lr(e.x)&&lr(e.y),qu=e=>e.x,Wu=e=>e.y,pte=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(mf(e));return(n==="curveMonotone"||n==="curveBump")&&t?ZE["".concat(n).concat(t==="vertical"?"Y":"X")]:ZE[n]||ag},gte=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=pte(t,i),l=a?n.filter(lm):n,u;if(Array.isArray(r)){var f=a?r.filter(p=>lm(p)):r,m=l.map((p,y)=>KE(KE({},p),{},{base:f[y]}));return i==="vertical"?u=em().y(Wu).x1(qu).x0(p=>p.base.x):u=em().x(qu).y1(Wu).y0(p=>p.base.y),u.defined(lm).curve(s),u(m)}return i==="vertical"&&Pe(r)?u=em().y(Wu).x1(qu).x0(r):Pe(r)?u=em().x(qu).y1(Wu).y0(r):u=G3().x(qu).y(Wu),u.defined(lm).curve(s),u(l)},vd=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?gte(e):r;return N.createElement("path",v1({},Zi(e),dS(e),{className:lt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},yte=["x","y","top","left","width","height","className"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(null,arguments)}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){xte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xte(e,t,n){return(t=bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t){if(e==null)return{};var n,r,i=jte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nte=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),_te=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=e,u=Ste(e,yte),f=vte({x:t,y:n,top:r,left:i,width:a,height:s},u);return!Pe(t)||!Pe(n)||!Pe(a)||!Pe(s)||!Pe(r)||!Pe(i)?null:N.createElement("path",x1({},en(f,!0),{className:lt("recharts-cross",l),d:Nte(t,n,a,s,r,i)}))};function Ate(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t){var n=Mte({},e),r=t,i=Object.keys(t),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}function Tte(){}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),r6=(e,t,n)=>e.map(r=>"".concat(Rte(r)," ").concat(t,"ms ").concat(n)).join(","),Lte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Bd=(e,t)=>Object.keys(t).reduce((n,r)=>eT(eT({},n),{},{[r]:e(r,t[r])}),{});function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){Ite(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ite(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp=(e,t,n)=>e+(t-e)*n,b1=e=>{var{from:t,to:n}=e;return t!==n},i6=(e,t,n)=>{var r=Bd((i,a)=>{if(b1(a)){var[s,l]=e(a.from,a.to,a.velocity);return zn(zn({},a),{},{from:s,velocity:l})}return a},t);return n<1?Bd((i,a)=>b1(a)?zn(zn({},a),{},{velocity:dp(a.velocity,r[i].velocity,n),from:dp(a.from,r[i].from,n)}):a,t):i6(e,r,n-1)};function Bte(e,t,n,r,i,a){var s,l=r.reduce((y,v)=>zn(zn({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Bd((y,v)=>v.from,l),f=()=>!Object.values(l).filter(b1).length,m=null,p=y=>{s||(s=y);var v=y-s,b=v/n.dt;l=i6(n,l,b),i(zn(zn(zn({},e),t),u())),s=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{m()})}function Vte(e,t,n,r,i,a,s){var l=null,u=i.reduce((p,y)=>zn(zn({},p),{},{[y]:[e[y],t[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,v=Bd((w,j)=>dp(...j,n(y)),u);if(a(zn(zn(zn({},e),t),v)),y<1)l=s.setTimeout(m);else{var b=Bd((w,j)=>dp(...j,n(1)),u);a(zn(zn(zn({},e),t),b))}};return()=>(l=s.setTimeout(m),()=>{l()})}const Ute=(e,t,n,r,i,a)=>{var s=Lte(e,t);return n.isStepper===!0?Bte(e,t,n,s,i,a):Vte(e,t,n,r,s,i,a)};var fp=1e-4,a6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],s6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nT=(e,t)=>n=>{var r=a6(e,t);return s6(r,n)},Fte=(e,t)=>n=>{var r=a6(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return s6(i,n)},rT=function(){for(var t,n,r,i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var u=s[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,r,n,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else s.length===4&&([t,r,n,i]=s);var f=nT(t,n),m=nT(r,i),p=Fte(t,n),y=b=>b>1?1:b<0?0:b,v=b=>{for(var w=b>1?1:b,j=w,A=0;A<8;++A){var _=f(j)-w,k=p(j);if(Math.abs(_-w)<fp||k<fp)return m(j);j=y(j-_/k)}return m(j)};return v.isStepper=!1,v},Hte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,l,u)=>{var f=-(s-l)*n,m=u*r,p=u+(f-m)*i/1e3,y=u*i/1e3+s;return Math.abs(y-l)<fp&&Math.abs(p)<fp?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},qte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rT(e);case"spring":return Hte();default:if(e.split("(")[0]==="cubic-bezier")return rT(e)}return typeof e=="function"?e:null};function Wte(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Gte{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Yte(){return Wte(new Gte)}var Kte=N.createContext(Yte);function Zte(e,t){var n=N.useContext(Kte);return N.useMemo(()=>t??n(e),[e,t,n])}var Xte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iT={t:0},Px={t:1};function vg(e){var t=nr(e,Xte),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=t,m=Zte(t.animationId,t.animationManager),[p,y]=N.useState(n?iT:Px),v=N.useRef(null);return N.useEffect(()=>{n||y(Px)},[n]),N.useEffect(()=>{if(!n||!r)return Tte;var b=Ute(iT,Px,qte(a),i,y,m.getTimeoutController()),w=()=>{v.current=b()};return m.start([u,s,w,i,l]),()=>{m.stop(),v.current&&v.current(),l()}},[n,r,i,a,s,u,l,m]),f(p.t)}function xg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Id(t)),r=N.useRef(e);return r.current!==e&&(n.current=Id(t),r.current=e),n.current}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){Qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qte(e,t,n){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jte(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp.apply(null,arguments)}var oT=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+l*m[0],",").concat(t)),f+="L ".concat(e+n-l*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+s*m[1])),f+="L ".concat(e+n,",").concat(t+r-s*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-l*m[2],",").concat(t+r)),f+="L ".concat(e+l*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-s*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+n-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*v,`
            L `).concat(e+n,",").concat(t+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(t+r,`
            L `).concat(e+l*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},tne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o6=e=>{var t=nr(e,tne),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:w}=t,j=N.useRef(l),A=N.useRef(u),_=N.useRef(a),k=N.useRef(s),E=N.useMemo(()=>({x:a,y:s,width:l,height:u,radius:f}),[a,s,l,u,f]),M=xg(E,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var O=lt("recharts-rectangle",m);if(!w)return N.createElement("path",hp({},en(t,!0),{className:O,d:oT(a,s,l,u,f)}));var L=j.current,D=A.current,R=_.current,F=k.current,I="0px ".concat(r===-1?1:r,"px"),V="".concat(r,"px 0px"),q=r6(["strokeDasharray"],y,typeof p=="string"?p:void 0);return N.createElement(vg,{animationId:M,key:M,canBegin:r>0,duration:y,easing:p,isActive:w,begin:v},re=>{var se=Bn(L,l,re),H=Bn(D,u,re),z=Bn(R,a,re),G=Bn(F,s,re);n.current&&(j.current=se,A.current=H,_.current=z,k.current=G);var ie;return b?re>0?ie={transition:q,strokeDasharray:V}:ie={strokeDasharray:I}:ie={strokeDasharray:V},N.createElement("path",hp({},en(t,!0),{className:O,d:oT(z,G,se,H,f),ref:n,style:sT(sT({},ie),t.style)}))})};function l6(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=fn(t,n,r,i),l=fn(t,n,r,a);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w1.apply(null,arguments)}var nne=(e,t)=>{var n=Xn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},cm=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,f=l*(s?1:-1)+r,m=Math.asin(l/f)/up,p=u?i:i+a*m,y=fn(t,n,f,p),v=fn(t,n,r,p),b=u?i-a*m:i,w=fn(t,n,f*Math.cos(m*up),b);return{center:y,circleTangency:v,lineTangency:w,theta:m}},c6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,l=nne(a,s),u=a+l,f=fn(t,n,i,a),m=fn(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=fn(t,n,r,a),v=fn(t,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},rne=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:f}=e,m=Xn(f-u),{circleTangency:p,lineTangency:y,theta:v}=cm({cx:t,cy:n,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:l}),{circleTangency:b,lineTangency:w,theta:j}=cm({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:l}),A=l?Math.abs(u-f):Math.abs(u-f)-v-j;if(A<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):c6({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:E,theta:M}=cm({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:O,lineTangency:L,theta:D}=cm({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=l?Math.abs(u-f):Math.abs(u-f)-M-D;if(R<0&&a===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(t,",").concat(n,"Z");return _},ine={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u6=e=>{var t=nr(e,ine),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var y=lt("recharts-sector",p),v=a-i,b=Ir(s,v,0,!0),w;return b>0&&Math.abs(f-m)<360?w=rne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:m}):w=c6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),N.createElement("path",w1({},en(t,!0),{className:y,d:w}))};function ane(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:m,angle:p}=t,y=fn(l,u,f,p),v=fn(l,u,m,p);r=y.x,i=y.y,a=v.x,s=v.y}else return l6(t);return[{x:r,y:i},{x:a,y:s}]}var Dx={},Rx={},Lx={},lT;function sne(){return lT||(lT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Lx)),Lx}var cT;function one(){return cT||(cT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sne();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Rx)),Rx}var uT;function lne(){return uT||(uT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g4(),n=one();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=s;return u}e.range=r})(Dx)),Dx}var Ix,dT;function cne(){return dT||(dT=1,Ix=lne().range),Ix}var une=cne();const d6=Gi(une);function ks(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _S(e){let t,n,r;e.length!==2?(t=ks,n=(l,u)=>ks(e(l),u),r=(l,u)=>e(l)-u):(t=e===ks||e===dne?e:fne,n=e,r=e);function i(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(l[p],u)<0?f=p+1:m=p}while(f<m)}return f}function a(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(l[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function s(l,u,f=0,m=l.length){const p=i(l,u,f,m-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function fne(){return 0}function f6(e){return e===null?NaN:+e}function*hne(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const mne=_S(ks),vf=mne.right;_S(f6).center;class fT extends Map{constructor(t,n=yne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(hT(this,t))}has(t){return super.has(hT(this,t))}set(t,n){return super.set(pne(this,t),n)}delete(t){return super.delete(gne(this,t))}}function hT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pne({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gne({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function yne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vne(e=ks){if(e===ks)return h6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function h6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xne=Math.sqrt(50),bne=Math.sqrt(10),wne=Math.sqrt(2);function mp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=xne?10:a>=bne?5:a>=wne?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*s,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?mp(e,t,n*2):[l,u,f]}function S1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?mp(t,e,n):mp(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(i+f)/-s;else for(let f=0;f<l;++f)u[f]=(i+f)*s;return u}function j1(e,t,n){return t=+t,e=+e,n=+n,mp(e,t,n)[2]}function N1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?j1(t,e,n):j1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mT(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function m6(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?h6:vne(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(t-f*p/u+y)),b=Math.min(r,Math.floor(t+(u-f)*p/u+y));m6(e,t,v,b,i)}const a=e[t];let s=n,l=r;for(Gu(e,n,t),i(e[r],a)>0&&Gu(e,n,r);s<l;){for(Gu(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Gu(e,n,l):(++l,Gu(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Sne(e,t,n){if(e=Float64Array.from(hne(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pT(e);if(t>=1)return mT(e);var r,i=(r-1)*t,a=Math.floor(i),s=mT(m6(e,a).subarray(0,a+1)),l=pT(e.subarray(a+1));return s+(l-s)*(i-a)}}function jne(e,t,n=f6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function Nne(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function mi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _1=Symbol("implicit");function AS(){var e=new fT,t=[],n=[],r=_1;function i(a){let s=e.get(a);if(s===void 0){if(r!==_1)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new fT;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AS(t,n).unknown(r)},mi.apply(i,arguments),i}function MS(){var e=AS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,u=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,v=i<r,b=v?i:r,w=v?r:i;a=(w-b)/Math.max(1,y-u+f*2),l&&(a=Math.floor(a)),b+=(w-b-a*(y-u))*m,s=a*(1-u),l&&(b=Math.round(b),s=Math.round(s));var j=Nne(y).map(function(A){return b+a*A});return n(v?j.reverse():j)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(l=!!y,p()):l},e.padding=function(y){return arguments.length?(u=Math.min(1,f=+y),p()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return MS(t(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(m)},mi.apply(p(),arguments)}function p6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return p6(t())},e}function _ne(){return p6(MS.apply(null,arguments).paddingInner(1))}function kS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function g6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xf(){}var Vd=.7,pp=1/Vd,cc="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ane=/^#([0-9a-f]{3,8})$/,Mne=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),kne=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),Cne=new RegExp(`^rgba\\(${cc},${cc},${cc},${Ud}\\)$`),Ene=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${Ud}\\)$`),Tne=new RegExp(`^hsl\\(${Ud},${Ui},${Ui}\\)$`),One=new RegExp(`^hsla\\(${Ud},${Ui},${Ui},${Ud}\\)$`),gT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kS(xf,Fd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yT,formatHex:yT,formatHex8:Pne,formatHsl:Dne,formatRgb:vT,toString:vT});function yT(){return this.rgb().formatHex()}function Pne(){return this.rgb().formatHex8()}function Dne(){return y6(this).formatHsl()}function vT(){return this.rgb().formatRgb()}function Fd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ane.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xT(t):n===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?um(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?um(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mne.exec(e))?new br(t[1],t[2],t[3],1):(t=kne.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cne.exec(e))?um(t[1],t[2],t[3],t[4]):(t=Ene.exec(e))?um(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tne.exec(e))?ST(t[1],t[2]/100,t[3]/100,1):(t=One.exec(e))?ST(t[1],t[2]/100,t[3]/100,t[4]):gT.hasOwnProperty(e)?xT(gT[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function xT(e){return new br(e>>16&255,e>>8&255,e&255,1)}function um(e,t,n,r){return r<=0&&(e=t=n=NaN),new br(e,t,n,r)}function Rne(e){return e instanceof xf||(e=Fd(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function A1(e,t,n,r){return arguments.length===1?Rne(e):new br(e,t,n,r??1)}function br(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}kS(br,A1,g6(xf,{brighter(e){return e=e==null?pp:Math.pow(pp,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vd:Math.pow(Vd,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(Io(this.r),Io(this.g),Io(this.b),gp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bT,formatHex:bT,formatHex8:Lne,formatRgb:wT,toString:wT}));function bT(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}`}function Lne(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}${Ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function wT(){const e=gp(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function gp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ao(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function ST(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wi(e,t,n,r)}function y6(e){if(e instanceof wi)return new wi(e.h,e.s,e.l,e.opacity);if(e instanceof xf||(e=Fd(e)),!e)return new wi;if(e instanceof wi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new wi(s,l,u,e.opacity)}function Ine(e,t,n,r){return arguments.length===1?y6(e):new wi(e,t,n,r??1)}function wi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}kS(wi,Ine,g6(xf,{brighter(e){return e=e==null?pp:Math.pow(pp,e),new wi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vd:Math.pow(Vd,e),new wi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new br($x(e>=240?e-240:e+120,i,r),$x(e,i,r),$x(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new wi(jT(this.h),dm(this.s),dm(this.l),gp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gp(this.opacity);return`${e===1?"hsl(":"hsla("}${jT(this.h)}, ${dm(this.s)*100}%, ${dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jT(e){return e=(e||0)%360,e<0?e+360:e}function dm(e){return Math.max(0,Math.min(1,e||0))}function $x(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const CS=e=>()=>e;function $ne(e,t){return function(n){return e+n*t}}function zne(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bne(e){return(e=+e)==1?v6:function(t,n){return n-t?zne(t,n,e):CS(isNaN(t)?n:t)}}function v6(e,t){var n=t-e;return n?$ne(e,n):CS(isNaN(e)?t:e)}const NT=(function e(t){var n=Bne(t);function r(i,a){var s=n((i=A1(i)).r,(a=A1(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=v6(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=l(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function Vne(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Une(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fne(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Pc(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Hne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qne(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pc(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var M1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zx=new RegExp(M1.source,"g");function Wne(e){return function(){return e}}function Gne(e){return function(t){return e(t)+""}}function Yne(e,t){var n=M1.lastIndex=zx.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=M1.exec(e))&&(i=zx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:yp(r,i)})),n=zx.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?Gne(u[0].x):Wne(t):(t=u.length,function(f){for(var m=0,p;m<t;++m)l[(p=u[m]).i]=p.x(f);return l.join("")})}function Pc(e,t){var n=typeof t,r;return t==null||n==="boolean"?CS(t):(n==="number"?yp:n==="string"?(r=Fd(t))?(t=r,NT):Yne:t instanceof Fd?NT:t instanceof Date?Hne:Une(t)?Vne:Array.isArray(t)?Fne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qne:yp)(e,t)}function ES(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kne(e,t){t===void 0&&(t=e,e=Pc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Zne(e){return function(){return e}}function vp(e){return+e}var _T=[0,1];function or(e){return e}function k1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zne(isNaN(t)?NaN:.5)}function Xne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Qne(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=k1(i,r),a=n(s,a)):(r=k1(r,i),a=n(a,s)),function(l){return a(r(l))}}function Jne(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=k1(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var u=vf(e,l,1,r)-1;return a[u](i[u](l))}}function bf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bg(){var e=_T,t=_T,n=Pc,r,i,a,s=or,l,u,f;function m(){var y=Math.min(e.length,t.length);return s!==or&&(s=Xne(e[0],e[y-1])),l=y>2?Jne:Qne,u=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=l(e.map(r),t,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=l(t,e.map(r),yp)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,vp),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=ES,m()},p.clamp=function(y){return arguments.length?(s=y?!0:or,m()):s!==or},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,v){return r=y,i=v,m()}}function TS(){return bg()(or,or)}function ere(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vc(e){return e=xp(Math.abs(e)),e?e[1]:NaN}function tre(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function nre(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hd(e){if(!(t=rre.exec(e)))throw new Error("invalid format: "+e);var t;return new OS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hd.prototype=OS.prototype;function OS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ire(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var x6;function are(e,t){var n=xp(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(x6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xp(e,Math.max(0,t+a-1))[0]}function AT(e,t){var n=xp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ere,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AT(e*100,t),r:AT,s:are,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kT(e){return e}var CT=Array.prototype.map,ET=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sre(e){var t=e.grouping===void 0||e.thousands===void 0?kT:tre(CT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?kT:nre(CT.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Hd(p);var y=p.fill,v=p.align,b=p.sign,w=p.symbol,j=p.zero,A=p.width,_=p.comma,k=p.precision,E=p.trim,M=p.type;M==="n"?(_=!0,M="g"):MT[M]||(k===void 0&&(k=12),E=!0,M="g"),(j||y==="0"&&v==="=")&&(j=!0,y="0",v="=");var O=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=w==="$"?r:/[%p]/.test(M)?s:"",D=MT[M],R=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(I){var V=O,q=L,re,se,H;if(M==="c")q=D(I)+q,I="";else{I=+I;var z=I<0||1/I<0;if(I=isNaN(I)?u:D(Math.abs(I),k),E&&(I=ire(I)),z&&+I==0&&b!=="+"&&(z=!1),V=(z?b==="("?b:l:b==="-"||b==="("?"":b)+V,q=(M==="s"?ET[8+x6/3]:"")+q+(z&&b==="("?")":""),R){for(re=-1,se=I.length;++re<se;)if(H=I.charCodeAt(re),48>H||H>57){q=(H===46?i+I.slice(re+1):I.slice(re))+q,I=I.slice(0,re);break}}}_&&!j&&(I=t(I,1/0));var G=V.length+I.length+q.length,ie=G<A?new Array(A-G+1).join(y):"";switch(_&&j&&(I=t(ie+I,ie.length?A-q.length:1/0),ie=""),v){case"<":I=V+I+q+ie;break;case"=":I=V+ie+I+q;break;case"^":I=ie.slice(0,G=ie.length>>1)+V+I+q+ie.slice(G);break;default:I=ie+V+I+q;break}return a(I)}return F.toString=function(){return p+""},F}function m(p,y){var v=f((p=Hd(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(vc(y)/3)))*3,w=Math.pow(10,-b),j=ET[8+b/3];return function(A){return v(w*A)+j}}return{format:f,formatPrefix:m}}var fm,PS,b6;ore({thousands:",",grouping:[3],currency:["$",""]});function ore(e){return fm=sre(e),PS=fm.format,b6=fm.formatPrefix,fm}function lre(e){return Math.max(0,-vc(Math.abs(e)))}function cre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vc(t)/3)))*3-vc(Math.abs(e)))}function ure(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vc(t)-vc(e))+1}function w6(e,t,n,r){var i=N1(e,t,n),a;switch(r=Hd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=cre(i,s))&&(r.precision=a),b6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ure(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lre(i))&&(r.precision=a-(r.type==="%")*2);break}}return PS(r)}function Bs(e){var t=e.domain;return e.ticks=function(n){var r=t();return S1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return w6(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],u,f,m=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);m-- >0;){if(f=j1(s,l,n),f===u)return r[i]=s,r[a]=l,t(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function S6(){var e=TS();return e.copy=function(){return bf(e,S6())},mi.apply(e,arguments),Bs(e)}function j6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return j6(e).unknown(t)},e=arguments.length?Array.from(e,vp):[0,1],Bs(n)}function N6(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function TT(e){return Math.log(e)}function OT(e){return Math.exp(e)}function dre(e){return-Math.log(-e)}function fre(e){return-Math.exp(-e)}function hre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mre(e){return e===10?hre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PT(e){return(t,n)=>-e(-t,n)}function DS(e){const t=e(TT,OT),n=t.domain;let r=10,i,a;function s(){return i=pre(r),a=mre(r),n()[0]<0?(i=PT(i),a=PT(a),e(dre,fre)):e(TT,OT),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),v=i(m),b,w;const j=l==null?10:+l;let A=[];if(!(r%1)&&v-y<j){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(b=1;b<r;++b)if(w=y<0?b/a(-y):b*a(y),!(w<f)){if(w>m)break;A.push(w)}}else for(;y<=v;++y)for(b=r-1;b>=1;--b)if(w=y>0?b/a(-y):b*a(y),!(w<f)){if(w>m)break;A.push(w)}A.length*2<j&&(A=S1(f,m,j))}else A=S1(y,v,Math.min(v-y,j)).map(a);return p?A.reverse():A},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Hd(u)).precision==null&&(u.trim=!0),u=PS(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?u(m):""}},t.nice=()=>n(N6(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function _6(){const e=DS(bg()).domain([1,10]);return e.copy=()=>bf(e,_6()).base(e.base()),mi.apply(e,arguments),e}function DT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RS(e){var t=1,n=e(DT(t),RT(t));return n.constant=function(r){return arguments.length?e(DT(t=+r),RT(t)):t},Bs(n)}function A6(){var e=RS(bg());return e.copy=function(){return bf(e,A6()).constant(e.constant())},mi.apply(e,arguments)}function LT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yre(e){return e<0?-e*e:e*e}function LS(e){var t=e(or,or),n=1;function r(){return n===1?e(or,or):n===.5?e(gre,yre):e(LT(n),LT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Bs(t)}function IS(){var e=LS(bg());return e.copy=function(){return bf(e,IS()).exponent(e.exponent())},mi.apply(e,arguments),e}function vre(){return IS.apply(null,arguments).exponent(.5)}function IT(e){return Math.sign(e)*e*e}function xre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M6(){var e=TS(),t=[0,1],n=!1,r;function i(a){var s=xre(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(IT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,vp)).map(IT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return M6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},mi.apply(i,arguments),Bs(i)}function k6(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=jne(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:t[vf(n,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ks),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return k6().domain(e).range(t).unknown(r)},mi.apply(a,arguments)}function C6(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[vf(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return C6().domain([e,t]).range(i).unknown(a)},mi.apply(Bs(s),arguments)}function E6(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[vf(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return E6().domain(e).range(t).unknown(n)},mi.apply(i,arguments)}const Bx=new Date,Vx=new Date;function bn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<s);return u},i.filter=a=>bn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Bx.setTime(+a),Vx.setTime(+s),e(Bx),e(Vx),Math.floor(n(Bx,Vx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const bp=bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bp);bp.range;const ba=1e3,si=ba*60,wa=si*60,Da=wa*24,$S=Da*7,$T=Da*30,Ux=Da*365,Mo=bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCSeconds());Mo.range;const zS=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getMinutes());zS.range;const BS=bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCMinutes());BS.range;const VS=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba-e.getMinutes()*si)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getHours());VS.range;const US=bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCHours());US.range;const wf=bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*si)/Da,e=>e.getDate()-1);wf.range;const wg=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>e.getUTCDate()-1);wg.range;const T6=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>Math.floor(e/Da));T6.range;function tl(e){return bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*si)/$S)}const Sg=tl(0),wp=tl(1),bre=tl(2),wre=tl(3),xc=tl(4),Sre=tl(5),jre=tl(6);Sg.range;wp.range;bre.range;wre.range;xc.range;Sre.range;jre.range;function nl(e){return bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$S)}const jg=nl(0),Sp=nl(1),Nre=nl(2),_re=nl(3),bc=nl(4),Are=nl(5),Mre=nl(6);jg.range;Sp.range;Nre.range;_re.range;bc.range;Are.range;Mre.range;const FS=bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());FS.range;const HS=bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HS.range;const Ra=bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ra.range;const La=bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});La.range;function O6(e,t,n,r,i,a){const s=[[Mo,1,ba],[Mo,5,5*ba],[Mo,15,15*ba],[Mo,30,30*ba],[a,1,si],[a,5,5*si],[a,15,15*si],[a,30,30*si],[i,1,wa],[i,3,3*wa],[i,6,6*wa],[i,12,12*wa],[r,1,Da],[r,2,2*Da],[n,1,$S],[t,1,$T],[t,3,3*$T],[e,1,Ux]];function l(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:u(f,m,p),b=v?v.range(f,+m+1):[];return y?b.reverse():b}function u(f,m,p){const y=Math.abs(m-f)/p,v=_S(([,,j])=>j).right(s,y);if(v===s.length)return e.every(N1(f/Ux,m/Ux,p));if(v===0)return bp.every(Math.max(N1(f,m,p),1));const[b,w]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return b.every(w)}return[l,u]}const[kre,Cre]=O6(La,HS,jg,T6,US,BS),[Ere,Tre]=O6(Ra,FS,Sg,wf,VS,zS);function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ore(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,f=Ku(i),m=Zu(i),p=Ku(a),y=Zu(a),v=Ku(s),b=Zu(s),w=Ku(l),j=Zu(l),A=Ku(u),_=Zu(u),k={a:z,A:G,b:ie,B:$,c:null,d:HT,e:HT,f:tie,g:die,G:hie,H:Qre,I:Jre,j:eie,L:P6,m:nie,M:rie,p:Q,q:ne,Q:GT,s:YT,S:iie,u:aie,U:sie,V:oie,w:lie,W:cie,x:null,X:null,y:uie,Y:fie,Z:mie,"%":WT},E={a:ue,A:xe,b:J,B:le,c:null,d:qT,e:qT,f:vie,g:kie,G:Eie,H:pie,I:gie,j:yie,L:R6,m:xie,M:bie,p:_e,q:Te,Q:GT,s:YT,S:wie,u:Sie,U:jie,V:Nie,w:_ie,W:Aie,x:null,X:null,y:Mie,Y:Cie,Z:Tie,"%":WT},M={a:F,A:I,b:V,B:q,c:re,d:UT,e:UT,f:Yre,g:VT,G:BT,H:FT,I:FT,j:Hre,L:Gre,m:Fre,M:qre,p:R,q:Ure,Q:Zre,s:Xre,S:Wre,u:Ire,U:$re,V:zre,w:Lre,W:Bre,x:se,X:H,y:VT,Y:BT,Z:Vre,"%":Kre};k.x=O(n,k),k.X=O(r,k),k.c=O(t,k),E.x=O(n,E),E.X=O(r,E),E.c=O(t,E);function O(ee,we){return function(Se){var ye=[],We=-1,De=0,he=ee.length,Ce,Ye,wt;for(Se instanceof Date||(Se=new Date(+Se));++We<he;)ee.charCodeAt(We)===37&&(ye.push(ee.slice(De,We)),(Ye=zT[Ce=ee.charAt(++We)])!=null?Ce=ee.charAt(++We):Ye=Ce==="e"?" ":"0",(wt=we[Ce])&&(Ce=wt(Se,Ye)),ye.push(Ce),De=We+1);return ye.push(ee.slice(De,We)),ye.join("")}}function L(ee,we){return function(Se){var ye=Yu(1900,void 0,1),We=D(ye,ee,Se+="",0),De,he;if(We!=Se.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(we&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(De=Hx(Yu(ye.y,0,1)),he=De.getUTCDay(),De=he>4||he===0?Sp.ceil(De):Sp(De),De=wg.offset(De,(ye.V-1)*7),ye.y=De.getUTCFullYear(),ye.m=De.getUTCMonth(),ye.d=De.getUTCDate()+(ye.w+6)%7):(De=Fx(Yu(ye.y,0,1)),he=De.getDay(),De=he>4||he===0?wp.ceil(De):wp(De),De=wf.offset(De,(ye.V-1)*7),ye.y=De.getFullYear(),ye.m=De.getMonth(),ye.d=De.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),he="Z"in ye?Hx(Yu(ye.y,0,1)).getUTCDay():Fx(Yu(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(he+5)%7:ye.w+ye.U*7-(he+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Hx(ye)):Fx(ye)}}function D(ee,we,Se,ye){for(var We=0,De=we.length,he=Se.length,Ce,Ye;We<De;){if(ye>=he)return-1;if(Ce=we.charCodeAt(We++),Ce===37){if(Ce=we.charAt(We++),Ye=M[Ce in zT?we.charAt(We++):Ce],!Ye||(ye=Ye(ee,Se,ye))<0)return-1}else if(Ce!=Se.charCodeAt(ye++))return-1}return ye}function R(ee,we,Se){var ye=f.exec(we.slice(Se));return ye?(ee.p=m.get(ye[0].toLowerCase()),Se+ye[0].length):-1}function F(ee,we,Se){var ye=v.exec(we.slice(Se));return ye?(ee.w=b.get(ye[0].toLowerCase()),Se+ye[0].length):-1}function I(ee,we,Se){var ye=p.exec(we.slice(Se));return ye?(ee.w=y.get(ye[0].toLowerCase()),Se+ye[0].length):-1}function V(ee,we,Se){var ye=A.exec(we.slice(Se));return ye?(ee.m=_.get(ye[0].toLowerCase()),Se+ye[0].length):-1}function q(ee,we,Se){var ye=w.exec(we.slice(Se));return ye?(ee.m=j.get(ye[0].toLowerCase()),Se+ye[0].length):-1}function re(ee,we,Se){return D(ee,t,we,Se)}function se(ee,we,Se){return D(ee,n,we,Se)}function H(ee,we,Se){return D(ee,r,we,Se)}function z(ee){return s[ee.getDay()]}function G(ee){return a[ee.getDay()]}function ie(ee){return u[ee.getMonth()]}function $(ee){return l[ee.getMonth()]}function Q(ee){return i[+(ee.getHours()>=12)]}function ne(ee){return 1+~~(ee.getMonth()/3)}function ue(ee){return s[ee.getUTCDay()]}function xe(ee){return a[ee.getUTCDay()]}function J(ee){return u[ee.getUTCMonth()]}function le(ee){return l[ee.getUTCMonth()]}function _e(ee){return i[+(ee.getUTCHours()>=12)]}function Te(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var we=O(ee+="",k);return we.toString=function(){return ee},we},parse:function(ee){var we=L(ee+="",!1);return we.toString=function(){return ee},we},utcFormat:function(ee){var we=O(ee+="",E);return we.toString=function(){return ee},we},utcParse:function(ee){var we=L(ee+="",!0);return we.toString=function(){return ee},we}}}var zT={"-":"",_:" ",0:"0"},En=/^\s*\d+/,Pre=/^%/,Dre=/[\\^$*+?|[\]().{}]/g;function at(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Rre(e){return e.replace(Dre,"\\$&")}function Ku(e){return new RegExp("^(?:"+e.map(Rre).join("|")+")","i")}function Zu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Lre(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ire(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $re(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zre(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bre(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function BT(e,t,n){var r=En.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function VT(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vre(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ure(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Fre(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function UT(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Hre(e,t,n){var r=En.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function FT(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qre(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wre(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Gre(e,t,n){var r=En.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yre(e,t,n){var r=En.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kre(e,t,n){var r=Pre.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Zre(e,t,n){var r=En.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xre(e,t,n){var r=En.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HT(e,t){return at(e.getDate(),t,2)}function Qre(e,t){return at(e.getHours(),t,2)}function Jre(e,t){return at(e.getHours()%12||12,t,2)}function eie(e,t){return at(1+wf.count(Ra(e),e),t,3)}function P6(e,t){return at(e.getMilliseconds(),t,3)}function tie(e,t){return P6(e,t)+"000"}function nie(e,t){return at(e.getMonth()+1,t,2)}function rie(e,t){return at(e.getMinutes(),t,2)}function iie(e,t){return at(e.getSeconds(),t,2)}function aie(e){var t=e.getDay();return t===0?7:t}function sie(e,t){return at(Sg.count(Ra(e)-1,e),t,2)}function D6(e){var t=e.getDay();return t>=4||t===0?xc(e):xc.ceil(e)}function oie(e,t){return e=D6(e),at(xc.count(Ra(e),e)+(Ra(e).getDay()===4),t,2)}function lie(e){return e.getDay()}function cie(e,t){return at(wp.count(Ra(e)-1,e),t,2)}function uie(e,t){return at(e.getFullYear()%100,t,2)}function die(e,t){return e=D6(e),at(e.getFullYear()%100,t,2)}function fie(e,t){return at(e.getFullYear()%1e4,t,4)}function hie(e,t){var n=e.getDay();return e=n>=4||n===0?xc(e):xc.ceil(e),at(e.getFullYear()%1e4,t,4)}function mie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function qT(e,t){return at(e.getUTCDate(),t,2)}function pie(e,t){return at(e.getUTCHours(),t,2)}function gie(e,t){return at(e.getUTCHours()%12||12,t,2)}function yie(e,t){return at(1+wg.count(La(e),e),t,3)}function R6(e,t){return at(e.getUTCMilliseconds(),t,3)}function vie(e,t){return R6(e,t)+"000"}function xie(e,t){return at(e.getUTCMonth()+1,t,2)}function bie(e,t){return at(e.getUTCMinutes(),t,2)}function wie(e,t){return at(e.getUTCSeconds(),t,2)}function Sie(e){var t=e.getUTCDay();return t===0?7:t}function jie(e,t){return at(jg.count(La(e)-1,e),t,2)}function L6(e){var t=e.getUTCDay();return t>=4||t===0?bc(e):bc.ceil(e)}function Nie(e,t){return e=L6(e),at(bc.count(La(e),e)+(La(e).getUTCDay()===4),t,2)}function _ie(e){return e.getUTCDay()}function Aie(e,t){return at(Sp.count(La(e)-1,e),t,2)}function Mie(e,t){return at(e.getUTCFullYear()%100,t,2)}function kie(e,t){return e=L6(e),at(e.getUTCFullYear()%100,t,2)}function Cie(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function Eie(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bc(e):bc.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function Tie(){return"+0000"}function WT(){return"%"}function GT(e){return+e}function YT(e){return Math.floor(+e/1e3)}var Gl,I6,$6;Oie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oie(e){return Gl=Ore(e),I6=Gl.format,Gl.parse,$6=Gl.utcFormat,Gl.utcParse,Gl}function Pie(e){return new Date(e)}function Die(e){return e instanceof Date?+e:+new Date(+e)}function qS(e,t,n,r,i,a,s,l,u,f){var m=TS(),p=m.invert,y=m.domain,v=f(".%L"),b=f(":%S"),w=f("%I:%M"),j=f("%I %p"),A=f("%a %d"),_=f("%b %d"),k=f("%B"),E=f("%Y");function M(O){return(u(O)<O?v:l(O)<O?b:s(O)<O?w:a(O)<O?j:r(O)<O?i(O)<O?A:_:n(O)<O?k:E)(O)}return m.invert=function(O){return new Date(p(O))},m.domain=function(O){return arguments.length?y(Array.from(O,Die)):y().map(Pie)},m.ticks=function(O){var L=y();return e(L[0],L[L.length-1],O??10)},m.tickFormat=function(O,L){return L==null?M:f(L)},m.nice=function(O){var L=y();return(!O||typeof O.range!="function")&&(O=t(L[0],L[L.length-1],O??10)),O?y(N6(L,O)):m},m.copy=function(){return bf(m,qS(e,t,n,r,i,a,s,l,u,f))},m}function Rie(){return mi.apply(qS(Ere,Tre,Ra,FS,Sg,wf,VS,zS,Mo,I6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lie(){return mi.apply(qS(kre,Cre,La,HS,jg,wg,US,BS,Mo,$6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ng(){var e=0,t=1,n,r,i,a,s=or,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var v,b;return arguments.length?([v,b]=y,s=p(v,b),f):[s(0),s(1)]}}return f.range=m(Pc),f.rangeRound=m(ES),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function z6(){var e=Bs(Ng()(or));return e.copy=function(){return Vs(e,z6())},Ba.apply(e,arguments)}function B6(){var e=DS(Ng()).domain([1,10]);return e.copy=function(){return Vs(e,B6()).base(e.base())},Ba.apply(e,arguments)}function V6(){var e=RS(Ng());return e.copy=function(){return Vs(e,V6()).constant(e.constant())},Ba.apply(e,arguments)}function WS(){var e=LS(Ng());return e.copy=function(){return Vs(e,WS()).exponent(e.exponent())},Ba.apply(e,arguments)}function Iie(){return WS.apply(null,arguments).exponent(.5)}function U6(){var e=[],t=or;function n(r){if(r!=null&&!isNaN(r=+r))return t((vf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ks),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Sne(e,a/r))},n.copy=function(){return U6(t).domain(e)},Ba.apply(n,arguments)}function _g(){var e=0,t=.5,n=1,r=1,i,a,s,l,u,f=or,m,p=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-a)*(r*w<r*a?l:u),f(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=m(e=+e),a=m(t=+t),s=m(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(f=w,v):f};function b(w){return function(j){var A,_,k;return arguments.length?([A,_,k]=j,f=Kne(w,[A,_,k]),v):[f(0),f(.5),f(1)]}}return v.range=b(Pc),v.rangeRound=b(ES),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return m=w,i=w(e),a=w(t),s=w(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function F6(){var e=Bs(_g()(or));return e.copy=function(){return Vs(e,F6())},Ba.apply(e,arguments)}function H6(){var e=DS(_g()).domain([.1,1,10]);return e.copy=function(){return Vs(e,H6()).base(e.base())},Ba.apply(e,arguments)}function q6(){var e=RS(_g());return e.copy=function(){return Vs(e,q6()).constant(e.constant())},Ba.apply(e,arguments)}function GS(){var e=LS(_g());return e.copy=function(){return Vs(e,GS()).exponent(e.exponent())},Ba.apply(e,arguments)}function $ie(){return GS.apply(null,arguments).exponent(.5)}const cd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MS,scaleDiverging:F6,scaleDivergingLog:H6,scaleDivergingPow:GS,scaleDivergingSqrt:$ie,scaleDivergingSymlog:q6,scaleIdentity:j6,scaleImplicit:_1,scaleLinear:S6,scaleLog:_6,scaleOrdinal:AS,scalePoint:_ne,scalePow:IS,scaleQuantile:k6,scaleQuantize:C6,scaleRadial:M6,scaleSequential:z6,scaleSequentialLog:B6,scaleSequentialPow:WS,scaleSequentialQuantile:U6,scaleSequentialSqrt:Iie,scaleSequentialSymlog:V6,scaleSqrt:vre,scaleSymlog:A6,scaleThreshold:E6,scaleTime:Rie,scaleUtc:Lie,tickFormat:w6},Symbol.toStringTag,{value:"Module"}));var Us=e=>e.chartData,YS=oe([Us],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),KS=(e,t,n,r)=>r?YS(e):Us(e);function wc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(lr(t)&&lr(n))return!0}return!1}function KT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function zie(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(lr(n))i=n;else if(typeof n=="function")return;if(lr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(wc(s))return s}}function Bie(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(wc(r))return KT(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Pe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&VE.test(i)){var u=VE.exec(i);if(u==null||t==null)s=void 0;else{var f=+u[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Pe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&UE.test(a)){var m=UE.exec(a);if(m==null||t==null)l=void 0;else{var p=+m[1];l=t[1]+p}}else l=t?.[1];var y=[s,l];if(wc(y))return t==null?y:KT(y,t,n)}}}var Dc=1e9,Vie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XS,Dt=!0,ui="[DecimalError] ",$o=ui+"Invalid argument: ",ZS=ui+"Exponent out of range: ",Rc=Math.floor,xo=Math.pow,Uie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Mn=1e7,kt=7,W6=9007199254740991,jp=Rc(W6/kt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*kt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return Ma(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,n=t.constructor;return jt(Ma(t,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return hn(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Dr))throw Error(ui+"NaN");if(n.s<1)throw Error(ui+(n.s?"NaN":"-Infinity"));return n.eq(Dr)?new r(0):(Dt=!1,t=Ma(qd(n,a),qd(e,a),a),Dt=!0,jt(t,i))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K6(t,e):G6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ui+"NaN");return n.s?(Dt=!1,t=Ma(n,e,0,1).times(e),Dt=!0,n.minus(t)):jt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return Y6(this)};Ne.naturalLogarithm=Ne.ln=function(){return qd(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G6(t,e):K6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($o+e);if(t=hn(i)+1,r=i.d.length-1,n=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ui+"NaN")}for(e=hn(l),Dt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=$i(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Ma(l,a,s+2)).times(.5),$i(a.d).slice(0,s)===(t=$i(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(jt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;s+=4}return Dt=!0,jt(r,n)};Ne.times=Ne.mul=function(e){var t,n,r,i,a,s,l,u,f,m=this,p=m.constructor,y=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=y.length,f=v.length,u<f&&(a=y,y=v,v=a,s=u,u=f,f=s),a=[],s=u+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+v[r]*y[i-r-1]+t,a[i--]=l%Mn|0,t=l/Mn|0;a[i]=(a[i]+t)%Mn|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Dt?jt(e,p.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Wi(e,0,Dc),t===void 0?t=r.rounding:Wi(t,0,8),jt(n,e+hn(n)+1,t))};Ne.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=qo(r,!0):(Wi(e,0,Dc),t===void 0?t=i.rounding:Wi(t,0,8),r=jt(new i(r),e+1,t),n=qo(r,!0,e+1)),n};Ne.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?qo(i):(Wi(e,0,Dc),t===void 0?t=a.rounding:Wi(t,0,8),r=jt(new a(i),e+hn(i)+1,t),n=qo(r.abs(),!1,e+hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return jt(new t(e),hn(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,n,r,i,a,s,l=this,u=l.constructor,f=12,m=+(e=new u(e));if(!e.s)return new u(Dr);if(l=new u(l),!l.s){if(e.s<1)throw Error(ui+"Infinity");return l}if(l.eq(Dr))return l;if(r=u.precision,e.eq(Dr))return jt(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=l.s,s){if((n=m<0?-m:m)<=W6){for(i=new u(Dr),t=Math.ceil(r/kt+4),Dt=!1;n%2&&(i=i.times(l),XT(i.d,t)),n=Rc(n/2),n!==0;)l=l.times(l),XT(l.d,t);return Dt=!0,e.s<0?new u(Dr).div(i):jt(i,r)}}else if(a<0)throw Error(ui+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Dt=!1,i=e.times(qd(l,r+f)),Dt=!0,i=Y6(i),i.s=a,i};Ne.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=hn(i),r=qo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wi(e,1,Dc),t===void 0?t=a.rounding:Wi(t,0,8),i=jt(new a(i),e,t),n=hn(i),r=qo(i,e<=n||n<=a.toExpNeg,e)),r};Ne.toSignificantDigits=Ne.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Wi(e,1,Dc),t===void 0?t=r.rounding:Wi(t,0,8)),jt(new r(n),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hn(e),n=e.constructor;return qo(e,t<=n.toExpNeg||t>=n.toExpPos)};function G6(e,t){var n,r,i,a,s,l,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Dt?jt(t,p):t;if(u=e.d,f=t.d,s=e.e,i=t.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=s,l=u.length),s=Math.ceil(p/kt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/Mn|0,u[a]%=Mn;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Dt?jt(t,p):t}function Wi(e,t,n){if(e!==~~e||e<t||e>n)throw Error($o+e)}function $i(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=kt-r.length,n&&(a+=bs(n)),a+=r;s=e[t],r=s+"",n=kt-r.length,n&&(a+=bs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ma=(function(){function e(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Mn|0,s=a/Mn|0;return s&&r.unshift(s),r}function t(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Mn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,f,m,p,y,v,b,w,j,A,_,k,E,M,O,L,D,R=r.constructor,F=r.s==i.s?1:-1,I=r.d,V=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ui+"Division by zero");for(u=r.e-i.e,L=V.length,M=I.length,v=new R(F),b=v.d=[],f=0;V[f]==(I[f]||0);)++f;if(V[f]>(I[f]||0)&&--u,a==null?_=a=R.precision:s?_=a+(hn(r)-hn(i))+1:_=a,_<0)return new R(0);if(_=_/kt+2|0,f=0,L==1)for(m=0,V=V[0],_++;(f<M||m)&&_--;f++)k=m*Mn+(I[f]||0),b[f]=k/V|0,m=k%V|0;else{for(m=Mn/(V[0]+1)|0,m>1&&(V=e(V,m),I=e(I,m),L=V.length,M=I.length),E=L,w=I.slice(0,L),j=w.length;j<L;)w[j++]=0;D=V.slice(),D.unshift(0),O=V[0],V[1]>=Mn/2&&++O;do m=0,l=t(V,w,L,j),l<0?(A=w[0],L!=j&&(A=A*Mn+(w[1]||0)),m=A/O|0,m>1?(m>=Mn&&(m=Mn-1),p=e(V,m),y=p.length,j=w.length,l=t(p,w,y,j),l==1&&(m--,n(p,L<y?D:V,y))):(m==0&&(l=m=1),p=V.slice()),y=p.length,y<j&&p.unshift(0),n(w,p,j),l==-1&&(j=w.length,l=t(V,w,L,j),l<1&&(m++,n(w,L<j?D:V,j))),j=w.length):l===0&&(m++,w=[0]),b[f++]=m,l&&w[0]?w[j++]=I[E]||0:(w=[I[E]],j=1);while((E++<M||w[0]!==void 0)&&_--)}return b[0]||b.shift(),v.e=u,jt(v,s?a+hn(v)+1:a)}})();function Y6(e,t){var n,r,i,a,s,l,u=0,f=0,m=e.constructor,p=m.precision;if(hn(e)>16)throw Error(ZS+hn(e));if(!e.s)return new m(Dr);for(Dt=!1,l=p,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(xo(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new m(Dr),m.precision=l;;){if(i=jt(i.times(e),l),n=n.times(++u),s=a.plus(Ma(i,n,l)),$i(s.d).slice(0,l)===$i(a.d).slice(0,l)){for(;f--;)a=jt(a.times(a),l);return m.precision=p,t==null?(Dt=!0,jt(a,p)):a}a=s}}function hn(e){for(var t=e.e*kt,n=e.d[0];n>=10;n/=10)t++;return t}function qx(e,t,n){if(t>e.LN10.sd())throw Dt=!0,n&&(e.precision=n),Error(ui+"LN10 precision limit exceeded");return jt(new e(e.LN10),t)}function bs(e){for(var t="";e--;)t+="0";return t}function qd(e,t){var n,r,i,a,s,l,u,f,m,p=1,y=10,v=e,b=v.d,w=v.constructor,j=w.precision;if(v.s<1)throw Error(ui+(v.s?"NaN":"-Infinity"));if(v.eq(Dr))return new w(0);if(t==null?(Dt=!1,f=j):f=t,v.eq(10))return t==null&&(Dt=!0),qx(w,f);if(f+=y,w.precision=f,n=$i(b),r=n.charAt(0),a=hn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=$i(v.d),r=n.charAt(0),p++;a=hn(v),r>1?(v=new w("0."+n),a++):v=new w(r+"."+n.slice(1))}else return u=qx(w,f+2,j).times(a+""),v=qd(new w(r+"."+n.slice(1)),f-y).plus(u),w.precision=j,t==null?(Dt=!0,jt(v,j)):v;for(l=s=v=Ma(v.minus(Dr),v.plus(Dr),f),m=jt(v.times(v),f),i=3;;){if(s=jt(s.times(m),f),u=l.plus(Ma(s,new w(i),f)),$i(u.d).slice(0,f)===$i(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(qx(w,f+2,j).times(a+""))),l=Ma(l,new w(p),f),w.precision=j,t==null?(Dt=!0,jt(l,j)):l;l=u,i+=2}}function ZT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rc(n/kt),e.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=kt;r<i;)e.d.push(+t.slice(r,r+=kt));t=t.slice(r),r=kt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Dt&&(e.e>jp||e.e<-jp))throw Error(ZS+n)}else e.s=0,e.e=0,e.d=[0];return e}function jt(e,t,n){var r,i,a,s,l,u,f,m,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=kt,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/kt),a=p.length,m>=a)return e;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=kt,i=r-kt+s}if(n!==void 0&&(a=xo(10,s-i-1),l=f/a%10|0,u=t<0||p[m+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/xo(10,s-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=hn(e),p.length=1,t=t-a-1,p[0]=xo(10,(kt-t%kt)%kt),e.e=Rc(-t/kt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=xo(10,kt-r),p[m]=i>0?(f/xo(10,s-i)%xo(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==Mn&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=Mn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Dt&&(e.e>jp||e.e<-jp))throw Error(ZS+hn(e));return e}function K6(e,t){var n,r,i,a,s,l,u,f,m,p,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Dt?jt(t,v):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),s=f-r,s){for(m=s<0,m?(n=u,s=-s,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(v/kt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}s=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Mn-1;--u[a],u[i]+=Mn}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Dt?jt(t,v):t):new y(0)}function qo(e,t,n){var r,i=hn(e),a=$i(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+bs(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+bs(-i-1)+a,n&&(r=n-s)>0&&(a+=bs(r))):i>=s?(a+=bs(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+bs(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=bs(r))),e.s<0?"-"+a:a}function XT(e,t){if(e.length>t)return e.length=t,!0}function Z6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($o+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ZT(s,a.toString())}else if(typeof a!="string")throw Error($o+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Uie.test(a))ZT(s,a);else throw Error($o+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Z6,i.config=i.set=Fie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Fie(e){if(!e||typeof e!="object")throw Error(ui+"Object expected");var t,n,r,i=["precision",1,Dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rc(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error($o+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($o+n+": "+r);return this}var XS=Z6(Vie);Dr=new XS(1);const mt=XS;var Hie=e=>e,X6={},Q6=e=>e===X6,QT=e=>function t(){return arguments.length===0||arguments.length===1&&Q6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},J6=(e,t)=>e===1?t:QT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==X6).length;return a>=e?t(...r):J6(e-a,QT(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=r.map(m=>Q6(m)?l.shift():m);return t(...f,...l)}))}),Ag=e=>J6(e.length,e),C1=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},qie=Ag((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Wie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Hie;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,u)=>u(l),a(...arguments))}},E1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eL=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((s,l)=>{var u;return s===((u=t)===null||u===void 0?void 0:u[l])})||(t=i,n=e(...i)),n}};function tL(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function nL(e,t,n){for(var r=new mt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Ag((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Ag((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Ag((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var rL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},iL=(e,t,n)=>{if(e.lte(0))return new mt(0);var r=tL(e.toNumber()),i=new mt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,l=new mt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new mt(u.toNumber()):new mt(Math.ceil(u.toNumber()))},Gie=(e,t,n)=>{var r=new mt(1),i=new mt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new mt(10).pow(tL(e)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new mt(Math.floor(e)))}else e===0?i=new mt(Math.floor((t-1)/2)):n||(i=new mt(Math.floor(e)));var s=Math.floor((t-1)/2),l=Wie(qie(u=>i.add(new mt(u-s).mul(r)).toNumber()),C1);return l(0,t)},aL=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var s=iL(new mt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new mt(0):(l=new mt(t).add(n).div(2),l=l.sub(new mt(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new mt(n).sub(l).div(s).toNumber()),m=u+f+1;return m>r?aL(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,u=n>0?u:u+(r-m)),{step:s,tickMin:l.sub(new mt(u).mul(s)),tickMax:l.add(new mt(f).mul(s))})};function Yie(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=rL([t,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...C1(0,r-1).map(()=>1/0)]:[...C1(0,r-1).map(()=>-1/0),l];return t>n?E1(u):u}if(s===l)return Gie(s,r,i);var{step:f,tickMin:m,tickMax:p}=aL(s,l,a,i,0),y=nL(m,p.add(new mt(.1).mul(f)),f);return t>n?E1(y):y}function Kie(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=rL([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(t,2),u=iL(new mt(s).sub(a).div(l-1),i,0),f=[...nL(new mt(a),new mt(s),u),s];return i===!1&&(f=f.map(m=>Math.round(m))),n>r?E1(f):f}var Zie=eL(Yie),Xie=eL(Kie),Qie=e=>e.rootProps.barCategoryGap,Sf=e=>e.rootProps.stackOffset,QS=e=>e.options.chartName,JS=e=>e.rootProps.syncId,sL=e=>e.rootProps.syncMethod,ej=e=>e.options.eventEmitter,va={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Jie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:va.type,unit:void 0},eae={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:Or.type,unit:void 0},tae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nae={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:"category",unit:void 0},tj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tae:Jie,nj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nae:eae,kg=e=>e.polarOptions,rj=oe([$a,za,Cn],U4),oL=oe([kg,rj],(e,t)=>{if(e!=null)return Ir(e.innerRadius,t,0)}),lL=oe([kg,rj],(e,t)=>{if(e!=null)return Ir(e.outerRadius,t,t*.8)}),rae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cL=oe([kg],rae);oe([tj,cL],Mg);var uL=oe([rj,oL,lL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});oe([nj,uL],Mg);var dL=oe([gt,kg,oL,lL,$a,za],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=t;return{cx:Ir(s,i,i/2),cy:Ir(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Lt=(e,t)=>t,jf=(e,t,n)=>n;function ij(e){return e?.id}var wn=e=>{var t=gt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lc=e=>e.tooltip.settings.axisId,Tn=e=>{var t=wn(e),n=Lc(e);return Nf(e,t,n)},fL=oe([Tn],e=>e?.dataKey);function hL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var m=ij(l);f.forEach((p,y)=>{var v=a==null||i?y:String(zt(p,a,null)),b=zt(p,l.dataKey,0),w;s.has(v)?w=s.get(v):w={},Object.assign(w,{[m]:b}),s.set(v,w)})}}),Array.from(s.values())}function aj(e){return e.stackId!=null&&e.dataKey!=null}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iae(e,t,n){return(t=aae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1=[0,"auto"],Er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mL=(e,t)=>e.cartesianAxis.xAxis[t],Va=(e,t)=>{var n=mL(e,t);return n??Er},Tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:T1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yf},pL=(e,t)=>e.cartesianAxis.yAxis[t],Ua=(e,t)=>{var n=pL(e,t);return n??Tr},oae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??oae},rn=(e,t,n)=>{switch(t){case"xAxis":return Va(e,n);case"yAxis":return Ua(e,n);case"zAxis":return sj(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lae=(e,t,n)=>{switch(t){case"xAxis":return Va(e,n);case"yAxis":return Ua(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Nf=(e,t,n)=>{switch(t){case"xAxis":return Va(e,n);case"yAxis":return Ua(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function oj(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var yL=e=>e.graphicalItems.cartesianItems,cae=oe([Lt,jf],oj),lj=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),_f=oe([yL,rn,cae],lj),vL=oe([_f],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aj)),xL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bL=oe([_f],xL),cj=e=>e.map(t=>t.data).filter(Boolean).flat(1),uae=oe([_f],cj),uj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},dj=oe([uae,KS],uj),fj=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:zt(i,r)}))):e.map(r=>({value:r})),Cg=oe([dj,rn,_f],fj);function wL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function rl(e){return e.filter(t=>qi(t)||t instanceof Date).map(Number).filter(t=>zr(t)===!1)}function dae(e,t,n){return!n||typeof t!="number"||zr(t)?[]:n.length?rl(n.flatMap(r=>{var i=zt(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!lr(a)||!lr(s)))return[t-a,t+s]})):[]}var fae=oe([vL,KS,Tn],hL),SL=(e,t,n)=>{var r={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,u=l.map(ij);return[s,{stackedData:Tee(e,u,n),graphicalItems:l}]}))},O1=oe([fae,vL,Sf],SL),jL=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=Ree(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},hae=oe([O1,Us,Lt],jL),NL=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var l,u,f=(l=r[s.id])===null||l===void 0?void 0:l.filter(p=>wL(i,p)),m=zt(a,(u=t.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:m,errorDomain:dae(a,m,f)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:zt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Eg=e=>e.errorBars,_L=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>wL(n,r));oe([bL,Eg,Lt],_L);var mae=oe([dj,rn,bL,Eg,Lt],NL);function pae(e){var{value:t}=e;if(qi(t)||t instanceof Date)return t}var eO=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=rl(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gae=(e,t,n)=>{var r=e.map(pae).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&D3(r))?d6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},hj=e=>{var t;if(e==null||!("domain"in e))return T1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=rl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:T1},_p=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},AL=e=>e.referenceElements.dots,Ic=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),yae=oe([AL,Lt,jf],Ic),ML=e=>e.referenceElements.areas,vae=oe([ML,Lt,jf],Ic),kL=e=>e.referenceElements.lines,xae=oe([kL,Lt,jf],Ic),CL=(e,t)=>{var n=rl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bae=oe(yae,Lt,CL),EL=(e,t)=>{var n=rl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wae=oe([vae,Lt],EL),TL=(e,t)=>{var n=rl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sae=oe(xae,Lt,TL),jae=oe(bae,Sae,wae,(e,t,n)=>_p(e,n,t)),OL=oe([rn],hj),mj=(e,t,n,r,i,a,s)=>{var l=zie(t,e.allowDataOverflow);if(l!=null)return l;var u=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",f=u?_p(n,i,eO(r)):_p(i,eO(r));return Bie(t,f,e.allowDataOverflow)},Nae=oe([rn,OL,hae,mae,jae,gt,Lt],mj),_ae=[0,1],pj=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,f=Ia(t,a);return f&&l==null?d6(0,n.length):u==="category"?gae(r,e,f):i==="expand"?_ae:s}},gj=oe([rn,gt,dj,Cg,Sf,Lt,Nae],pj),PL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(mf(a));return l in cd?l:"point"}}},$c=oe([rn,gt,gL,QS,Lt],PL);function Aae(e){if(e!=null){if(e in cd)return cd[e]();var t="scale".concat(mf(e));if(t in cd)return cd[t]()}}function yj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Aae(t);if(i!=null){var a=i.domain(n).range(r);return Mee(a),a}}}var vj=(e,t,n)=>{var r=hj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&wc(e))return Zie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wc(e))return Xie(e,t.tickCount,t.allowDecimals)}},xj=oe([gj,Nf,$c],vj),bj=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&wc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return t},Mae=oe([rn,gj,xj,Lt],bj),kae=oe(Cg,rn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(rl(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),DL=oe(kae,gt,Qie,Cn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!lr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ir(n,e*a),l=e*a/2;return l-s-(l-s)/a*s}return 0}),Cae=(e,t)=>{var n=Va(e,t);return n==null||typeof n.padding!="string"?0:DL(e,"xAxis",t,n.padding)},Eae=(e,t)=>{var n=Ua(e,t);return n==null||typeof n.padding!="string"?0:DL(e,"yAxis",t,n.padding)},Tae=oe(Va,Cae,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Oae=oe(Ua,Eae,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Pae=oe([Cn,Tae,yg,gg,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Dae=oe([Cn,gt,Oae,yg,gg,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Af=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Pae(e,n,r);case"yAxis":return Dae(e,n,r);case"zAxis":return(i=sj(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cL(e);case"radiusAxis":return uL(e,n);default:return}},RL=oe([rn,Af],Mg),zc=oe([rn,$c,Mae,RL],yj);oe([_f,Eg,Lt],_L);function LL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Tg=(e,t)=>t,Og=(e,t,n)=>n,Rae=oe(mg,Tg,Og,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(LL)),Lae=oe(pg,Tg,Og,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(LL)),IL=(e,t)=>({width:e.width,height:t.height}),Iae=(e,t)=>{var n=typeof t.width=="number"?t.width:yf;return{width:n,height:e.height}},$ae=oe(Cn,Va,IL),zae=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Bae=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Vae=oe(za,Cn,Rae,Tg,Og,(e,t,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=IL(t,l);s==null&&(s=zae(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),a}),Uae=oe($a,Cn,Lae,Tg,Og,(e,t,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=Iae(t,l);s==null&&(s=Bae(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),a}),Fae=(e,t)=>{var n=Va(e,t);if(n!=null)return Vae(e,n.orientation,n.mirror)},Hae=oe([Cn,Va,Fae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),qae=(e,t)=>{var n=Ua(e,t);if(n!=null)return Uae(e,n.orientation,n.mirror)},Wae=oe([Cn,Ua,qae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Gae=oe(Cn,Ua,(e,t)=>{var n=typeof t.width=="number"?t.width:yf;return{width:n,height:e.height}}),$L=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=Ia(e,r),u=t.map(f=>f.value);if(s&&l&&a==="category"&&i&&D3(u))return u}},wj=oe([gt,Cg,rn,Lt],$L),zL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ia(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},Sj=oe([gt,Cg,Nf,Lt],zL),tO=oe([gt,lae,$c,zc,wj,Sj,Af,xj,Lt],(e,t,n,r,i,a,s,l,u)=>{if(t==null)return null;var f=Ia(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:s,realScaleType:n,scale:r}}),Yae=(e,t,n,r,i,a,s,l,u)=>{if(!(t==null||r==null)){var f=Ia(e,u),{type:m,ticks:p,tickCount:y}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=m==="category"&&r.bandwidth?r.bandwidth()/v:0;b=u==="angleAxis"&&a!=null&&a.length>=2?Xn(a[0]-a[1])*2*b:b;var w=p||i;if(w){var j=w.map((A,_)=>{var k=s?s.indexOf(A):A;return{index:_,coordinate:r(k)+b,value:A,offset:b}});return j.filter(A=>!zr(A.coordinate))}return f&&l?l.map((A,_)=>({coordinate:r(A)+b,value:A,index:_,offset:b})):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+b,value:A,offset:b})):r.domain().map((A,_)=>({coordinate:r(A)+b,value:s?s[A]:A,index:_,offset:b}))}},BL=oe([gt,Nf,$c,zc,xj,Af,wj,Sj,Lt],Yae),Kae=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Ia(e,s),{tickCount:u}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?Xn(r[0]-r[1])*2*f:f,l&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},VL=oe([gt,Nf,zc,Af,wj,Sj,Lt],Kae),UL=oe(rn,zc,(e,t)=>{if(!(e==null||t==null))return Np(Np({},e),{},{scale:t})}),Zae=oe([rn,$c,gj,RL],yj);oe((e,t,n)=>sj(e,n),Zae,(e,t)=>{if(!(e==null||t==null))return Np(Np({},e),{},{scale:t})});var Xae=oe([gt,mg,pg],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FL=e=>e.options.defaultTooltipEventType,HL=e=>e.options.validateTooltipEventTypes;function qL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function jj(e,t){var n=FL(e),r=HL(e);return qL(t,n,r)}function Qae(e){return Oe(t=>jj(t,e))}var WL=(e,t)=>{var n,r=Number(t);if(!(zr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Jae=e=>e.tooltip.settings,js={active:!1,index:null,dataKey:void 0,coordinate:void 0},ese={itemInteraction:{click:js,hover:js},axisInteraction:{click:js,hover:js},keyboardInteraction:js,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GL=Fr({name:"tooltip",initialState:ese,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Aa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:tse,removeTooltipEntrySettings:nse,setTooltipSettingsState:rse,setActiveMouseOverItemIndex:YL,mouseLeaveItem:ise,mouseLeaveChart:KL,setActiveClickItemIndex:ase,setMouseOverAxisIndex:ZL,setMouseClickAxisIndex:sse,setSyncInteraction:P1,setKeyboardInteraction:D1}=GL.actions,ose=GL.reducer;function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){lse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lse(e,t,n){return(t=cse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cse(e){var t=use(e,"string");return typeof t=="symbol"?t:t+""}function use(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dse(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fse(e){return e.index!=null}var XL=(e,t,n,r)=>{if(t==null)return js;var i=dse(e,t,n);if(i==null)return js;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(fse(i)){if(a)return hm(hm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return hm(hm({},js),{},{coordinate:i.coordinate})},Nj=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!lr(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},QL=(e,t,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var u=s[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},JL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Mf=e=>e.options.tooltipPayloadSearcher,Bc=e=>e.tooltip;function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){hse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hse(e,t,n){return(t=mse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gse(e,t){return e??t}var eI=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((y,v)=>{var b,{dataDefinedOnItem:w,settings:j}=v,A=gse(w,l),_=Array.isArray(A)?F4(A,f,m):A,k=(b=j?.dataKey)!==null&&b!==void 0?b:r,E=j?.nameKey,M;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?M=R3(_,r,i):M=a(_,t,u,E),Array.isArray(M))M.forEach(L=>{var D=iO(iO({},j),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});y.push(FE({tooltipEntrySettings:D,dataKey:L.dataKey,payload:L.payload,value:zt(L.payload,L.dataKey),name:L.name}))});else{var O;y.push(FE({tooltipEntrySettings:j,dataKey:k,payload:M,value:zt(M,k),name:(O=zt(M,E))!==null&&O!==void 0?O:j?.name}))}return y},p)}},_j=oe([Tn,gt,gL,QS,wn],PL),yse=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vse=oe([wn,Lc],oj),kf=oe([yse,Tn,vse],lj),xse=oe([kf],e=>e.filter(aj)),bse=oe([kf],cj),Vc=oe([bse,Us],uj),wse=oe([xse,Us,Tn],hL),Aj=oe([Vc,Tn,kf],fj),Sse=oe([Tn],hj),jse=oe([kf],e=>e.filter(aj)),Nse=oe([wse,jse,Sf],SL),_se=oe([Nse,Us,wn],jL),Ase=oe([kf],xL),Mse=oe([Vc,Tn,Ase,Eg,wn],NL),kse=oe([AL,wn,Lc],Ic),Cse=oe([kse,wn],CL),Ese=oe([ML,wn,Lc],Ic),Tse=oe([Ese,wn],EL),Ose=oe([kL,wn,Lc],Ic),Pse=oe([Ose,wn],TL),Dse=oe([Cse,Pse,Tse],_p),Rse=oe([Tn,Sse,_se,Mse,Dse,gt,wn],mj),tI=oe([Tn,gt,Vc,Aj,Sf,wn,Rse],pj),Lse=oe([tI,Tn,_j],vj),Ise=oe([Tn,tI,Lse,wn],bj),nI=e=>{var t=wn(e),n=Lc(e),r=!1;return Af(e,t,n,r)},rI=oe([Tn,nI],Mg),iI=oe([Tn,_j,Ise,rI],yj),$se=oe([gt,Aj,Tn,wn],$L),zse=oe([gt,Aj,Tn,wn],zL),Bse=(e,t,n,r,i,a,s,l)=>{if(t){var{type:u}=t,f=Ia(e,l);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Xn(i[0]-i[1])*2*p:p,f&&s?s.map((y,v)=>({coordinate:r(y)+p,value:y,index:v,offset:p})):r.domain().map((y,v)=>({coordinate:r(y)+p,value:a?a[y]:y,index:v,offset:p}))}}},Fa=oe([gt,Tn,_j,iI,nI,$se,zse,wn],Bse),Mj=oe([FL,HL,Jae],(e,t,n)=>qL(n.shared,e,t)),aI=e=>e.tooltip.settings.trigger,kj=e=>e.tooltip.settings.defaultIndex,Pg=oe([Bc,Mj,aI,kj],XL),Sc=oe([Pg,Vc],Nj),sI=oe([Fa,Sc],WL),Vse=oe([Pg],e=>{if(e)return e.dataKey}),oI=oe([Bc,Mj,aI,kj],JL),Use=oe([$a,za,gt,Cn,Fa,kj,oI,Mf],QL),Fse=oe([Pg,Use],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Hse=oe([Pg],e=>e.active),qse=oe([oI,Sc,Us,fL,sI,Mf,Mj],eI),Wse=oe([qse],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(r){Gse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gse(e,t,n){return(t=Yse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yse(e){var t=Kse(e,"string");return typeof t=="symbol"?t:t+""}function Kse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zse=()=>Oe(Tn),Xse=()=>{var e=Zse(),t=Oe(Fa),n=Oe(iI);return p1(sO(sO({},e),{},{scale:n}),t)},lI=()=>Oe(QS),Cj=(e,t)=>t,cI=(e,t,n)=>n,Ej=(e,t,n,r)=>r,Qse=oe(Fa,e=>og(e,t=>t.coordinate)),Tj=oe([Bc,Cj,cI,Ej],XL),uI=oe([Tj,Vc],Nj),Jse=(e,t,n)=>{if(t!=null){var r=Bc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dI=oe([Bc,Cj,cI,Ej],JL),Ap=oe([$a,za,gt,Cn,Fa,Ej,dI,Mf],QL),eoe=oe([Tj,Ap],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),fI=oe(Fa,uI,WL),toe=oe([dI,uI,Us,fL,fI,Mf,Cj],eI),noe=oe([Tj],e=>({isActive:e.active,activeIndex:e.index})),roe=(e,t,n,r,i,a,s,l)=>{if(!(!e||!t||!r||!i||!a)){var u=Lee(e.chartX,e.chartY,t,n,l);if(u){var f=$ee(u,t),m=_ee(f,s,a,r,i),p=Iee(t,a,m,u);return{activeIndex:String(m),activeCoordinate:p}}}};function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R1.apply(null,arguments)}function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){ioe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ioe(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=soe(e,"string");return typeof t=="symbol"?t:t+""}function soe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ooe(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:f}=e,m=t,p=n,y=r;if(!l||!m||f!=="ScatterChart"&&u!=="axis")return null;var v,b;if(f==="ScatterChart")v=m,b=_te;else if(f==="BarChart")v=Ate(s,m,i,a),b=o6;else if(s==="radial"){var{cx:w,cy:j,radius:A,startAngle:_,endAngle:k}=l6(m);v={cx:w,cy:j,startAngle:_,endAngle:k,innerRadius:A,outerRadius:A},b=u6}else v={points:ane(s,m,i)},b=vd;var E=typeof l=="object"&&"className"in l?l.className:void 0,M=mm(mm(mm(mm({stroke:"#ccc",pointerEvents:"none"},i),v),en(l,!1)),{},{payload:p,payloadIndex:y,className:lt("recharts-tooltip-cursor",E)});return N.isValidElement(l)?N.cloneElement(l,M):N.createElement(b,M)}function loe(e){var t=Xse(),n=Z4(),r=NS(),i=lI();return N.createElement(ooe,R1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var hI=N.createContext(null),coe=()=>N.useContext(hI),Wx={exports:{}},lO;function uoe(){return lO||(lO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||u,y),b=n?n+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},l.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,b=new Array(v);y<v;y++)b[y]=p[y].fn;return b},l.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,m,p,y,v,b){var w=n?n+f:f;if(!this._events[w])return!1;var j=this._events[w],A=arguments.length,_,k;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),A){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,y),!0;case 5:return j.fn.call(j.context,m,p,y,v),!0;case 6:return j.fn.call(j.context,m,p,y,v,b),!0}for(k=1,_=new Array(A-1);k<A;k++)_[k-1]=arguments[k];j.fn.apply(j.context,_)}else{var E=j.length,M;for(k=0;k<E;k++)switch(j[k].once&&this.removeListener(f,j[k].fn,void 0,!0),A){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,m);break;case 3:j[k].fn.call(j[k].context,m,p);break;case 4:j[k].fn.call(j[k].context,m,p,y);break;default:if(!_)for(M=1,_=new Array(A-1);M<A;M++)_[M-1]=arguments[M];j[k].fn.apply(j[k].context,_)}}return!0},l.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},l.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},l.prototype.removeListener=function(f,m,p,y){var v=n?n+f:f;if(!this._events[v])return this;if(!m)return s(this,v),this;var b=this._events[v];if(b.fn)b.fn===m&&(!y||b.once)&&(!p||b.context===p)&&s(this,v);else{for(var w=0,j=[],A=b.length;w<A;w++)(b[w].fn!==m||y&&!b[w].once||p&&b[w].context!==p)&&j.push(b[w]);j.length?this._events[v]=j.length===1?j[0]:j:s(this,v)}return this},l.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Wx)),Wx.exports}var doe=uoe();const foe=Gi(doe);var Wd=new foe,L1="recharts.syncEvent.tooltip",cO="recharts.syncEvent.brush";function mI(e,t){if(t){var n=Number.parseInt(t,10);if(!zr(n))return e?.[n]}}var hoe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pI=Fr({name:"options",initialState:hoe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),moe=pI.reducer,{createEventEmitter:poe}=pI.actions;function goe(e){return e.tooltip.syncInteraction}var yoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gI=Fr({name:"chartData",initialState:yoe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:uO,setDataStartEndIndexes:voe,setComputedData:hbe}=gI.actions,xoe=gI.reducer,boe=["x","y"];function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){woe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function woe(e,t,n){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Soe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e,t){if(e==null)return{};var n,r,i=_oe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _oe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yI=()=>{};function Aoe(){var e=Oe(JS),t=Oe(ej),n=nn(),r=Oe(sL),i=Oe(Fa),a=NS(),s=jS(),l=Oe(u=>u.rootProps.className);N.useEffect(()=>{if(e==null)return yI;var u=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(s&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate){var v=m.payload.coordinate,{x:b,y:w}=v,j=Noe(v,boe),A=uo(uo(uo({},j),typeof b=="number"&&{x:Math.max(s.x,Math.min(b,s.x+s.width))}),typeof w=="number"&&{y:Math.max(s.y,Math.min(w,s.y+s.height))}),_=uo(uo({},m),{},{payload:uo(uo({},m.payload),{},{coordinate:A})});n(_)}else n(m);return}if(i!=null){var k;if(typeof r=="function"){var E={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=r(i,E);k=i[M]}else r==="value"&&(k=i.find(q=>String(q.value)===m.payload.label));var{coordinate:O}=m.payload;if(k==null||m.payload.active===!1||O==null||s==null){n(P1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:D}=O,R=Math.min(L,s.x+s.width),F=Math.min(D,s.y+s.height),I={x:a==="horizontal"?k.coordinate:R,y:a==="horizontal"?F:k.coordinate},V=P1({active:m.payload.active,coordinate:I,dataKey:m.payload.dataKey,index:String(k.index),label:m.payload.label});n(V)}}};return Wd.on(L1,u),()=>{Wd.off(L1,u)}},[l,n,t,e,r,i,a,s])}function Moe(){var e=Oe(JS),t=Oe(ej),n=nn();N.useEffect(()=>{if(e==null)return yI;var r=(i,a,s)=>{t!==s&&e===i&&n(voe(a))};return Wd.on(cO,r),()=>{Wd.off(cO,r)}},[n,t,e])}function koe(){var e=nn();N.useEffect(()=>{e(poe())},[e]),Aoe(),Moe()}function Coe(e,t,n,r,i,a){var s=Oe(y=>Jse(y,e,t)),l=Oe(ej),u=Oe(JS),f=Oe(sL),m=Oe(goe),p=m?.active;N.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=P1({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Wd.emit(L1,u,y,l)}},[p,n,s,i,r,l,u,f,a])}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){Eoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eoe(e,t,n){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Toe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Poe(e){return e.dataKey}function Doe(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(rte,t)}var mO=[],Roe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!el.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pO(e){var t=nr(e,Roe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:m,position:p,reverseDirection:y,useTranslate3d:v,wrapperStyle:b,cursor:w,shared:j,trigger:A,defaultIndex:_,portal:k,axisId:E}=t,M=nn(),O=typeof _=="number"?String(_):_;N.useEffect(()=>{M(rse({shared:j,trigger:A,axisId:E,active:n,defaultIndex:O}))},[M,j,A,E,n,O]);var L=jS(),D=n6(),R=Qae(j),{activeIndex:F,isActive:I}=Oe(J=>noe(J,R,A,O)),V=Oe(J=>toe(J,R,A,O)),q=Oe(J=>fI(J,R,A,O)),re=Oe(J=>eoe(J,R,A,O)),se=V,H=coe(),z=n??I,[G,ie]=pJ([se,z]),$=R==="axis"?q:void 0;Coe(R,A,re,$,F,z);var Q=k??H;if(Q==null)return null;var ne=se??mO;z||(ne=mO),l&&ne.length&&(ne=VQ(se.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),m,Poe));var ue=ne.length>0,xe=N.createElement(ute,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:u,active:z,coordinate:re,hasPayload:ue,offset:f,position:p,reverseDirection:y,useTranslate3d:v,viewBox:L,wrapperStyle:b,lastBoundingBox:G,innerRef:ie,hasPortalFromProps:!!k},Doe(s,hO(hO({},t),{},{payload:ne,label:$,active:z,coordinate:re,accessibilityLayer:D})));return N.createElement(N.Fragment,null,b9.createPortal(xe,Q),z&&N.createElement(loe,{cursor:w,tooltipEventType:R,coordinate:re,payload:se,index:F}))}var Gx={},Yx={},Kx={},gO;function Loe(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{f&&m(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},b=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{b(),s=void 0,l=null},j=()=>{m()},A=function(..._){if(i?.aborted)return;s=this,l=_;const k=y==null;v(),u&&k&&m()};return A.schedule=v,A.cancel=w,A.flush=j,i?.addEventListener("abort",w,{once:!0}),A}e.debounce=t})(Kx)),Kx}var yO;function Ioe(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Loe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...w){m=r.apply(this,w),p=null},i,{edges:f}),v=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,w),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},b=()=>(y.flush(),m);return v.cancel=y.cancel,v.flush=b,v}e.debounce=n})(Yx)),Yx}var vO;function $oe(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ioe();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Gx)),Gx}var Zx,xO;function zoe(){return xO||(xO=1,Zx=$oe().throttle),Zx}var Boe=zoe();const Voe=Gi(Boe);var xd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){Uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uoe(e,t,n){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Foe(e){var t=Hoe(e,"string");return typeof t=="symbol"?t:t+""}function Hoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wO=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:l,maxHeight:u,children:f,debounce:m=0,id:p,className:y,onResize:v,style:b={}}=e,w=N.useRef(null),j=N.useRef();j.current=v,N.useImperativeHandle(t,()=>w.current);var[A,_]=N.useState({containerWidth:r.width,containerHeight:r.height}),k=N.useCallback((M,O)=>{_(L=>{var D=Math.round(M),R=Math.round(O);return L.containerWidth===D&&L.containerHeight===R?L:{containerWidth:D,containerHeight:R}})},[]);N.useEffect(()=>{var M=R=>{var F,{width:I,height:V}=R[0].contentRect;k(I,V),(F=j.current)===null||F===void 0||F.call(j,I,V)};m>0&&(M=Voe(M,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(M),{width:L,height:D}=w.current.getBoundingClientRect();return k(L,D),O.observe(w.current),()=>{O.disconnect()}},[k,m]);var E=N.useMemo(()=>{var{containerWidth:M,containerHeight:O}=A;if(M<0||O<0)return null;xd(_o(i)||_o(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),xd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=_o(i)?M:i,D=_o(a)?O:a;return n&&n>0&&(L?D=L/n:D&&(L=D*n),u&&D>u&&(D=u)),xd(L>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,i,a,s,l,n),N.Children.map(f,R=>N.cloneElement(R,{width:L,height:D,style:Xx({width:L,height:D},R.props.style)}))},[n,f,a,u,l,s,A,i]);return N.createElement("div",{id:p?"".concat(p):void 0,className:lt("recharts-responsive-container",y),style:Xx(Xx({},b),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:w},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Dg=e=>null;Dg.displayName="Cell";function qoe(e,t,n){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Woe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yoe{constructor(t){qoe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Koe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){Zoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zoe(e,t,n){return(t=Xoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xoe(e){var t=Qoe(e,"string");return typeof t=="symbol"?t:t+""}function Qoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Joe={cacheSize:2e3,enableCache:!0},vI=Koe({},Joe),jO=new Yoe(vI.cacheSize),ele={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NO="recharts_measurement_span";function tle(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var _O=(e,t)=>{try{var n=document.getElementById(NO);n||(n=document.createElement("span"),n.setAttribute("id",NO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ele,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||el.isSsr)return{width:0,height:0};if(!vI.enableCache)return _O(t,n);var r=tle(t,n),i=jO.get(r);if(i)return i;var a=_O(t,n);return jO.set(r,a),a},AO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ile=Object.keys(xI),ic="NaN";function ale(e,t){return e*xI[t]}class gr{static parse(t){var n,[,r,i]=(n=rle.exec(t))!==null&&n!==void 0?n:[];return new gr(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,zr(t)&&(this.unit=""),n!==""&&!nle.test(n)&&(this.num=NaN,this.unit=""),ile.includes(n)&&(this.num=ale(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gr(NaN,""):new gr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gr(NaN,""):new gr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gr(NaN,""):new gr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gr(NaN,""):new gr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zr(this.num)}}function bI(e){if(e.includes(ic))return ic;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=AO.exec(t))!==null&&n!==void 0?n:[],s=gr.parse(r??""),l=gr.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return ic;t=t.replace(AO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=MO.exec(t))!==null&&f!==void 0?f:[],v=gr.parse(m??""),b=gr.parse(y??""),w=p==="+"?v.add(b):v.subtract(b);if(w.isNaN())return ic;t=t.replace(MO,w.toString())}return t}var kO=/\(([^()]*)\)/;function sle(e){for(var t=e,n;(n=kO.exec(t))!=null;){var[,r]=n;t=t.replace(kO,bI(r))}return t}function ole(e){var t=e.replace(/\s+/g,"");return t=sle(t),t=bI(t),t}function lle(e){try{return ole(e)}catch{return ic}}function Qx(e){var t=lle(e.slice(5,-1));return t===ic?"":t}var cle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ule=["dx","dy","angle","className","breakAll"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I1.apply(null,arguments)}function CO(e,t){if(e==null)return{};var n,r,i=dle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wI=/[ \f\n\r\t\v\u2028\u2029]+/,SI=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];kn(t)||(n?i=t.toString().split(""):i=t.toString().split(wI));var a=i.map(l=>({word:l,width:bd(l,r).width})),s=n?0:bd(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},fle=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=e,f=Pe(a),m=s,p=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((V,q)=>{var{word:re,width:se}=q,H=V[V.length-1];if(H&&(r==null||i||H.width+se+n<Number(r)))H.words.push(re),H.width+=se+n;else{var z={words:[re],width:se};V.push(z)}return V},[])},y=p(t),v=F=>F.reduce((I,V)=>I.width>V.width?I:V);if(!f||i)return y;var b=y.length>a||v(y).width>Number(r);if(!b)return y;for(var w="…",j=F=>{var I=m.slice(0,F),V=SI({breakAll:u,style:l,children:I+w}).wordsWithComputedWidth,q=p(V),re=q.length>a||v(q).width>Number(r);return[re,q]},A=0,_=m.length-1,k=0,E;A<=_&&k<=m.length-1;){var M=Math.floor((A+_)/2),O=M-1,[L,D]=j(O),[R]=j(M);if(!L&&!R&&(A=M+1),L&&R&&(_=M-1),!L&&R){E=D;break}k++}return E||y},EO=e=>{var t=kn(e)?[]:e.toString().split(wI);return[{words:t}]},hle=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!el.isSsr){var l,u,f=SI({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;l=m,u=p}else return EO(r);return fle({breakAll:a,children:r,maxLines:s,style:i},l,u,t,n)}return EO(r)},TO="#808080",Rg=N.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=TO}=e,m=CO(e,cle),p=N.useMemo(()=>hle({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:s,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,s,m.style,m.width]),{dx:y,dy:v,angle:b,className:w,breakAll:j}=m,A=CO(m,ule);if(!qi(n)||!qi(r)||p.length===0)return null;var _=n+(Pe(y)?y:0),k=r+(Pe(v)?v:0),E;switch(u){case"start":E=Qx("calc(".concat(a,")"));break;case"middle":E=Qx("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:E=Qx("calc(".concat(p.length-1," * -").concat(i,")"));break}var M=[];if(s){var O=p[0].width,{width:L}=m;M.push("scale(".concat(Pe(L)?L/O:1,")"))}return b&&M.push("rotate(".concat(b,", ").concat(_,", ").concat(k,")")),M.length&&(A.transform=M.join(" ")),N.createElement("text",I1({},en(A,!0),{ref:t,x:_,y:k,className:lt("recharts-text",w),textAnchor:l,fill:f.includes("url")?TO:f}),p.map((D,R)=>{var F=D.words.join(j?"":" ");return N.createElement("tspan",{x:_,dy:R===0?E:i,key:"".concat(F,"-").concat(R)},F)}))});Rg.displayName="Text";var mle=["labelRef"];function ple(e,t){if(e==null)return{};var n,r,i=gle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){yle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yle(e,t,n){return(t=vle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(null,arguments)}var jI=N.createContext(null),ble=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,s=N.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return N.createElement(jI.Provider,{value:s},a)},NI=()=>{var e=N.useContext(jI),t=jS();return e||t},wle=N.createContext(null),Sle=()=>{var e=N.useContext(wle),t=Oe(dL);return e||t},jle=e=>{var{value:t,formatter:n}=e,r=kn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Oj=e=>e!=null&&typeof e=="function",Nle=(e,t)=>{var n=Xn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_le=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:l,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:v}=i,b=(f+m)/2,w=Nle(p,y),j=w>=0?1:-1,A,_;switch(t){case"insideStart":A=p+j*a,_=v;break;case"insideEnd":A=y-j*a,_=!v;break;case"end":A=y+j*a,_=v;break;default:throw new Error("Unsupported position ".concat(t))}_=w<=0?_:!_;var k=fn(l,u,b,A),E=fn(l,u,b,A+(_?1:-1)*359),M="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),O=kn(e.id)?Id("recharts-radial-line-"):e.id;return N.createElement("text",xa({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:O,d:M})),N.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Ale=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:m,y:p}=fn(r,i,s+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:v,y:b}=fn(r,i,y,f);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},_I=e=>"cx"in e&&Pe(e.cx),Mle=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!_I(n)&&(a=n);var{x:s,y:l,width:u,height:f}=t,m=f>=0?1:-1,p=m*r,y=m>0?"end":"start",v=m>0?"start":"end",b=u>=0?1:-1,w=b*r,j=b>0?"end":"start",A=b>0?"start":"end";if(i==="top"){var _={x:s+u/2,y:l-m*r,textAnchor:"middle",verticalAnchor:y};return Xt(Xt({},_),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var k={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:v};return Xt(Xt({},k),a?{height:Math.max(a.y+a.height-(l+f),0),width:u}:{})}if(i==="left"){var E={x:s-w,y:l+f/2,textAnchor:j,verticalAnchor:"middle"};return Xt(Xt({},E),a?{width:Math.max(E.x-a.x,0),height:f}:{})}if(i==="right"){var M={x:s+u+w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Xt(Xt({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:f}:{})}var O=a?{width:u,height:f}:{};return i==="insideLeft"?Xt({x:s+w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},O):i==="insideRight"?Xt({x:s+u-w,y:l+f/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideTop"?Xt({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?Xt({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:y},O):i==="insideTopLeft"?Xt({x:s+w,y:l+p,textAnchor:A,verticalAnchor:v},O):i==="insideTopRight"?Xt({x:s+u-w,y:l+p,textAnchor:j,verticalAnchor:v},O):i==="insideBottomLeft"?Xt({x:s+w,y:l+f-p,textAnchor:A,verticalAnchor:y},O):i==="insideBottomRight"?Xt({x:s+u-w,y:l+f-p,textAnchor:j,verticalAnchor:y},O):i&&typeof i=="object"&&(Pe(i.x)||_o(i.x))&&(Pe(i.y)||_o(i.y))?Xt({x:s+Ir(i.x,u),y:l+Ir(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):Xt({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},kle={offset:5};function ws(e){var t=nr(e,kle),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:u,labelRef:f}=t,m=Sle(),p=NI(),y=r==="center"?p:m??p,v=n||y;if(!v||kn(i)&&kn(a)&&!N.isValidElement(s)&&typeof s!="function")return null;var b=Xt(Xt({},t),{},{viewBox:v});if(N.isValidElement(s)){var{labelRef:w}=b,j=ple(b,mle);return N.cloneElement(s,j)}var A;if(typeof s=="function"){if(A=N.createElement(s,b),N.isValidElement(A))return A}else A=jle(t);var _=_I(v),k=en(t,!0);if(_&&(r==="insideStart"||r==="insideEnd"||r==="end"))return _le(t,r,A,k,v);var E=_?Ale(v,t.offset,t.position):Mle(t,v);return N.createElement(Rg,xa({ref:f,className:lt("recharts-label",l)},k,E,{breakAll:u}),A)}ws.displayName="Label";var Cle=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?N.createElement(ws,xa({key:"label-implicit"},r)):qi(e)?N.createElement(ws,xa({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===ws?N.cloneElement(e,Xt({key:"label-implicit"},r)):N.createElement(ws,xa({key:"label-implicit",content:e},r)):Oj(e)?N.createElement(ws,xa({key:"label-implicit",content:e},r)):e&&typeof e=="object"?N.createElement(ws,xa({},e,{key:"label-implicit"},r)):null};function Ele(e){var{label:t}=e,n=NI();return Cle(t,n)||null}var Jx={},eb={},PO;function Tle(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(eb)),eb}var tb={},DO;function Ole(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(tb)),tb}var RO;function Ple(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tle(),n=Ole(),r=pS();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Jx)),Jx}var nb,LO;function Dle(){return LO||(LO=1,nb=Ple().last),nb}var Rle=Dle();const Lle=Gi(Rle);var Ile=["valueAccessor"],$le=["dataKey","clockWise","id","textBreakAll"];function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(null,arguments)}function IO(e,t){if(e==null)return{};var n,r,i=zle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ble=e=>Array.isArray(e.value)?Lle(e.value):e.value,AI=N.createContext(void 0),Vle=AI.Provider,MI=N.createContext(void 0),Ule=MI.Provider;function Fle(){return N.useContext(AI)}function Hle(){return N.useContext(MI)}function Im(e){var{valueAccessor:t=Ble}=e,n=IO(e,Ile),{dataKey:r,clockWise:i,id:a,textBreakAll:s}=n,l=IO(n,$le),u=Fle(),f=Hle(),m=u||f;return!m||!m.length?null:N.createElement(er,{className:"recharts-label-list"},m.map((p,y)=>{var v,b=kn(r)?t(p,y):zt(p&&p.payload,r),w=kn(a)?{}:{id:"".concat(a,"-").concat(y)};return N.createElement(ws,Mp({},en(p,!0),l,w,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:s,viewBox:p.viewBox,key:"label-".concat(y),index:y}))}))}Im.displayName="LabelList";function kI(e){var{label:t}=e;return t?t===!0?N.createElement(Im,{key:"labelList-implicit"}):N.isValidElement(t)||Oj(t)?N.createElement(Im,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(Im,Mp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$1.apply(null,arguments)}var CI=e=>{var{cx:t,cy:n,r,className:i}=e,a=lt("recharts-dot",i);return t===+t&&n===+n&&r===+r?N.createElement("circle",$1({},Zi(e),dS(e),{className:a,cx:t,cy:n,r})):null},EI=e=>e.graphicalItems.polarItems,qle=oe([Lt,jf],oj),Pj=oe([EI,rn,qle],lj),Wle=oe([Pj],cj),Dj=oe([Wle,YS],uj),Gle=oe([Dj,rn,Pj],fj),Yle=oe([Dj,rn,Pj],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=zt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),$O=()=>{},Kle=oe([rn,OL,$O,Yle,$O,gt,Lt],mj),TI=oe([rn,gt,Dj,Gle,Sf,Lt,Kle],pj),Zle=oe([TI,rn,$c],vj);oe([rn,TI,Zle,Lt],bj);var Xle={radiusAxis:{},angleAxis:{}},OI=Fr({name:"polarAxis",initialState:Xle,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:mbe,removeRadiusAxis:pbe,addAngleAxis:gbe,removeAngleAxis:ybe}=OI.actions,Qle=OI.reducer;function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){Jle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jle(e,t,n){return(t=ece(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nce=(e,t)=>t,Rj=oe([EI,nce],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),rce=[],Lj=(e,t,n)=>n?.length===0?rce:n,PI=oe([YS,Rj,Lj],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>BO(BO({},t.presentationProps),a.props))),i!=null)return i}}),ice=oe([PI,Rj,Lj],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=zt(r,t.nameKey,t.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:hg(s,t.dataKey),color:l,payload:r,type:t.legendType}})}),ace=oe([PI,Rj,Lj,Cn],(e,t,n,r)=>{if(!(t==null||e==null))return lue({offset:r,pieSettings:t,displayedData:e,cells:n})}),rb={},VO;function sce(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(rb)),rb}var ib,UO;function oce(){return UO||(UO=1,ib=sce().isPlainObject),ib}var lce=oce();const cce=Gi(lce);function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){uce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uce(e,t,n){return(t=dce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dce(e){var t=fce(e,"string");return typeof t=="symbol"?t:t+""}function fce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(null,arguments)}var qO=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},hce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mce=e=>{var t=nr(e,hce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=t,y=N.useRef(),[v,b]=N.useState(-1),w=N.useRef(i),j=N.useRef(a),A=N.useRef(s),_=N.useRef(n),k=N.useRef(r),E=xg(e,"trapezoid-");if(N.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var re=y.current.getTotalLength();re&&b(re)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var M=lt("recharts-trapezoid",l);if(!p)return N.createElement("g",null,N.createElement("path",kp({},en(t,!0),{className:M,d:qO(n,r,i,a,s)})));var O=w.current,L=j.current,D=A.current,R=_.current,F=k.current,I="0px ".concat(v===-1?1:v,"px"),V="".concat(v,"px 0px"),q=r6(["strokeDasharray"],f,u);return N.createElement(vg,{animationId:E,key:E,canBegin:v>0,duration:f,easing:u,isActive:p,begin:m},re=>{var se=Bn(O,i,re),H=Bn(L,a,re),z=Bn(D,s,re),G=Bn(R,n,re),ie=Bn(F,r,re);y.current&&(w.current=se,j.current=H,A.current=z,_.current=G,k.current=ie);var $=re>0?{transition:q,strokeDasharray:V}:{strokeDasharray:I};return N.createElement("path",kp({},en(t,!0),{className:M,d:qO(G,ie,se,H,z),ref:y,style:HO(HO({},$),t.style)}))})},pce=["option","shapeType","propTransformer","activeClassName","isActive"];function gce(e,t){if(e==null)return{};var n,r,i=yce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){vce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vce(e,t,n){return(t=xce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wce(e,t){return Cp(Cp({},t),e)}function Sce(e,t){return e==="symbols"}function GO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(o6,n);case"trapezoid":return N.createElement(mce,n);case"sector":return N.createElement(u6,n);case"symbols":if(Sce(t))return N.createElement(a4,n);break;default:return null}}function jce(e){return N.isValidElement(e)?e.props:e}function Nce(e){var{option:t,shapeType:n,propTransformer:r=wce,activeClassName:i="recharts-active-shape",isActive:a}=e,s=gce(e,pce),l;if(N.isValidElement(t))l=N.cloneElement(t,Cp(Cp({},s),jce(t)));else if(typeof t=="function")l=t(s);else if(cce(t)&&typeof t!="boolean"){var u=r(t,s);l=N.createElement(GO,{shapeType:n,elementProps:u})}else{var f=s;l=N.createElement(GO,{shapeType:n,elementProps:f})}return a?N.createElement(er,{className:i},l):l}var _ce=(e,t)=>{var n=nn();return(r,i)=>a=>{e?.(r,i,a),n(YL({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Ace=e=>{var t=nn();return(n,r)=>i=>{e?.(n,r,i),t(ise())}},Mce=(e,t)=>{var n=nn();return(r,i)=>a=>{e?.(r,i,a),n(ase({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function DI(e){var{fn:t,args:n}=e,r=nn(),i=hi();return N.useEffect(()=>{if(!i){var a=t(n);return r(tse(a)),()=>{r(nse(a))}}},[t,n,r,i]),null}var RI=()=>{};function kce(e){var{legendPayload:t}=e,n=nn(),r=hi();return N.useEffect(()=>r?RI:(n(e6(t)),()=>{n(t6(t))}),[n,r,t]),null}function Cce(e){var{legendPayload:t}=e,n=nn(),r=Oe(gt);return N.useEffect(()=>r!=="centric"&&r!=="radial"?RI:(n(e6(t)),()=>{n(t6(t))}),[n,r,t]),null}var ab,Ece=()=>{var[e]=N.useState(()=>Id("uid-"));return e},Tce=(ab=HV.useId)!==null&&ab!==void 0?ab:Ece;function Oce(e,t){var n=Tce();return t||(e?"".concat(e,"-").concat(n):n)}var Pce=N.createContext(void 0),LI=e=>{var{id:t,type:n,children:r}=e,i=Oce("recharts-".concat(n),t);return N.createElement(Pce.Provider,{value:i},r(i))},Dce={cartesianItems:[],polarItems:[]},II=Fr({name:"graphicalItems",initialState:Dce,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Aa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Aa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Aa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Rce,replaceCartesianGraphicalItem:Lce,removeCartesianGraphicalItem:Ice,addPolarGraphicalItem:$ce,removePolarGraphicalItem:zce}=II.actions,Bce=II.reducer;function Vce(e){var t=nn(),n=N.useRef(null);return N.useEffect(()=>{n.current===null?t(Rce(e)):n.current!==e&&t(Lce({prev:n.current,next:e})),n.current=e},[t,e]),N.useEffect(()=>()=>{n.current&&(t(Ice(n.current)),n.current=null)},[t]),null}function Uce(e){var t=nn();return N.useEffect(()=>(t($ce(e)),()=>{t(zce(e))}),[t,e]),null}var Fce=["onMouseEnter","onClick","onMouseLeave"],Hce=["id"],qce=["id"];function Ij(e,t){if(e==null)return{};var n,r,i=Wce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){Gce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gce(e,t,n){return(t=Yce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(null,arguments)}function Zce(e){var t=N.useMemo(()=>z3(e.children,Dg),[e.children]),n=Oe(r=>ice(r,e.id,t));return n==null?null:N.createElement(Cce,{legendPayload:n})}function Xce(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:l,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:hg(l,t),hide:u,type:f,color:s,unit:""}}}var Qce=(e,t)=>e>t?"start":e<t?"end":"middle",Jce=(e,t,n)=>Ir(typeof t=="function"?t(e):t,n,n*.8),eue=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,l=U4(a,s),u=i+Ir(e.cx,a,a/2),f=r+Ir(e.cy,s,s/2),m=Ir(e.innerRadius,l,0),p=Jce(n,e.outerRadius,l),y=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:f,innerRadius:m,outerRadius:p,maxRadius:y}},tue=(e,t)=>{var n=Xn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function nue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rue=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var n=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(vd,Ds({},t,{type:"linear",className:n}))},iue=(e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),N.isValidElement(r)))return r;var i=lt("recharts-pie-label-text",nue(e));return N.createElement(Rg,Ds({},t,{alignmentBaseline:"middle",className:i}),r)};function aue(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var l=Zi(n),u=en(i,!1),f=en(a,!1),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((y,v)=>{var b=(y.startAngle+y.endAngle)/2,w=fn(y.cx,y.cy,y.outerRadius+m,b),j=Ot(Ot(Ot(Ot({},l),y),{},{stroke:"none"},u),{},{index:v,textAnchor:Qce(w.x,y.cx)},w),A=Ot(Ot(Ot(Ot({},l),y),{},{fill:"none",stroke:y.fill},f),{},{index:v,points:[fn(y.cx,y.cy,y.outerRadius,b),w],key:"line"});return N.createElement(er,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},a&&rue(a,A),iue(i,j,zt(y,s)))});return N.createElement(er,{className:"recharts-pie-labels"},p)}function sue(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(kI,{label:i}):N.createElement(aue,{sectors:t,props:n,showLabels:r})}function oue(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,a=Oe(Sc),{onMouseEnter:s,onClick:l,onMouseLeave:u}=i,f=Ij(i,Fce),m=_ce(s,i.dataKey),p=Ace(u),y=Mce(l,i.dataKey);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((v,b)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var w=n&&String(b)===a,j=a?r:null,A=w?n:j,_=Ot(Ot({},v),{},{stroke:v.stroke,tabIndex:-1,[G4]:b,[Y4]:i.dataKey});return N.createElement(er,Ds({tabIndex:-1,className:"recharts-pie-sector"},L3(f,v,b),{onMouseEnter:m(v,b),onMouseLeave:p(v,b),onClick:y(v,b),key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(b)}),N.createElement(Nce,Ds({option:A,isActive:w,shapeType:"sector"},_)))}))}function lue(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:f,nameKey:m,tooltipType:p}=n,y=Math.abs(n.minAngle),v=tue(l,u),b=Math.abs(v),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(O=>zt(O,f,0)!==0).length,A=(b>=360?j:j-1)*w,_=b-j*y-A,k=r.reduce((O,L)=>{var D=zt(L,f,0);return O+(Pe(D)?D:0)},0),E;if(k>0){var M;E=r.map((O,L)=>{var D=zt(O,f,0),R=zt(O,m,L),F=eue(n,a,O),I=(Pe(D)?D:0)/k,V,q=Ot(Ot({},O),i&&i[L]&&i[L].props);L?V=M.endAngle+Xn(v)*w*(D!==0?1:0):V=l;var re=V+Xn(v)*((D!==0?y:0)+I*_),se=(V+re)/2,H=(F.innerRadius+F.outerRadius)/2,z=[{name:R,value:D,payload:q,dataKey:f,type:p}],G=fn(F.cx,F.cy,H,se);return M=Ot(Ot(Ot(Ot({},n.presentationProps),{},{percent:I,cornerRadius:s,name:R,tooltipPayload:z,midAngle:se,middleRadius:H,tooltipPosition:G},q),F),{},{value:D,startAngle:V,endAngle:re,payload:q,paddingAngle:Xn(v)*w}),M})}return E}function cue(e){var{showLabels:t,sectors:n,children:r}=e,i=N.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return N.createElement(Ule,{value:t?i:void 0},r)}function uue(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:f,onAnimationStart:m,onAnimationEnd:p}=t,y=xg(t,"recharts-pie-"),v=n.current,[b,w]=N.useState(!1),j=N.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),A=N.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return N.createElement(cue,{showLabels:!b,sectors:r},N.createElement(vg,{animationId:y,begin:a,duration:s,isActive:i,easing:l,onAnimationStart:A,onAnimationEnd:j,key:y},_=>{var k=[],E=r&&r[0],M=E?.startAngle;return r?.forEach((O,L)=>{var D=v&&v[L],R=L>0?Uo(O,"paddingAngle",0):0;if(D){var F=Bn(D.endAngle-D.startAngle,O.endAngle-O.startAngle,_),I=Ot(Ot({},O),{},{startAngle:M+R,endAngle:M+F+R});k.push(I),M=I.endAngle}else{var{endAngle:V,startAngle:q}=O,re=Bn(0,V-q,_),se=Ot(Ot({},O),{},{startAngle:M+R,endAngle:M+re+R});k.push(se),M=se.endAngle}}),n.current=k,N.createElement(er,null,N.createElement(oue,{sectors:k,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),N.createElement(sue,{showLabels:!b,sectors:r,props:t}),t.children)}var due={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!el.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fue(e){var{id:t}=e,n=Ij(e,Hce),{hide:r,className:i,rootTabIndex:a}=e,s=N.useMemo(()=>z3(e.children,Dg),[e.children]),l=Oe(m=>ace(m,t,s)),u=N.useRef(null),f=lt("recharts-pie",i);return r||l==null?(u.current=null,N.createElement(er,{tabIndex:a,className:f})):N.createElement(N.Fragment,null,N.createElement(DI,{fn:Xce,args:Ot(Ot({},e),{},{sectors:l})}),N.createElement(er,{tabIndex:a,className:f},N.createElement(uue,{props:Ot(Ot({},n),{},{sectors:l}),previousSectorsRef:u})))}function $I(e){var t=nr(e,due),{id:n}=t,r=Ij(t,qce),i=Zi(r);return N.createElement(LI,{id:n,type:"pie"},a=>N.createElement(N.Fragment,null,N.createElement(Uce,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(Zce,Ds({},r,{id:a})),N.createElement(fue,Ds({},r,{id:a}))))}$I.displayName="Pie";function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){hue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hue(e,t,n){return(t=mue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gue={xAxis:{},yAxis:{},zAxis:{}},zI=Fr({name:"cartesianAxis",initialState:gue,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=ZO(ZO({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:yue,removeXAxis:vue,addYAxis:xue,removeYAxis:bue,addZAxis:vbe,removeZAxis:xbe,updateYAxisWidth:wue}=zI.actions,Sue=zI.reducer,jue=oe([Cn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Nue=oe([jue,$a,za],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),$j=()=>Oe(Nue),_ue=()=>Oe(Wse);function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){Aue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aue(e,t,n){return(t=Mue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mue(e){var t=kue(e,"string");return typeof t=="symbol"?t:t+""}function kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cue=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=QO(QO({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},en(i,!1)),dS(i)),l;return N.isValidElement(i)?l=N.cloneElement(i,s):typeof i=="function"?l=i(s):l=N.createElement(CI,s),N.createElement(er,{className:"recharts-active-dot"},l)};function JO(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=Oe(Sc),s=_ue();if(t==null||s==null)return null;var l=t.find(u=>s.includes(u.payload));return kn(l)?null:Cue({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Eue={},BI=Fr({name:"errorBars",initialState:Eue,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bbe,replaceErrorBar:wbe,removeErrorBar:Sbe}=BI.actions,Tue=BI.reducer;function VI(e,t){var n,r,i=Oe(f=>Va(f,e)),a=Oe(f=>Ua(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Er.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Tr.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Oue(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=$j(),{needClipX:a,needClipY:s,needClip:l}=VI(t,n);if(!l)return null;var{x:u,y:f,width:m,height:p}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:a?u:u-m/2,y:s?f:f-p/2,width:a?m:m*2,height:s?p:p*2}))}var UI=e=>{var{chartData:t}=e,n=nn(),r=hi();return N.useEffect(()=>r?()=>{}:(n(uO(t)),()=>{n(uO(void 0))}),[t,n,r]),null},eP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FI=Fr({name:"brush",initialState:eP,reducers:{setBrushSettings(e,t){return t.payload==null?eP:t.payload}}}),{setBrushSettings:jbe}=FI.actions,Pue=FI.reducer;function Due(e,t,n){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=Lue(e,"string");return typeof t=="symbol"?t:t+""}function Lue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zj{static create(t){return new zj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Due(zj,"EPS",1e-4);function Iue(e){return(e%180+180)%180}var $ue=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Iue(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},zue={dots:[],areas:[],lines:[]},HI=Fr({name:"referenceElements",initialState:zue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Aa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Aa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Aa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Nbe,removeDot:_be,addArea:Abe,removeArea:Mbe,addLine:kbe,removeLine:Cbe}=HI.actions,Bue=HI.reducer,Vue=N.createContext(void 0),Uue=e=>{var{children:t}=e,[n]=N.useState("".concat(Id("recharts"),"-clip")),r=$j();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return N.createElement(Vue.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:a,height:l,width:s}))),t)};function jc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function qI(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Fue(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $ue(r,n)}function Hue(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:l}=e;return t===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Ep(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function que(e,t){return qI(e,t+1)}function Wue(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=t,u=0,f=1,m=s,p=function(){var b=r?.[u];if(b===void 0)return{v:qI(r,f)};var w=u,j,A=()=>(j===void 0&&(j=n(b,w)),j),_=b.coordinate,k=u===0||Ep(e,_,A,m,l);k||(u=0,m=s,f+=1),k&&(m=_+e*(A()/2+i),u+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(r){Gue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gue(e,t,n){return(t=Yue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=Kue(e,"string");return typeof t=="symbol"?t:t+""}function Kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zue(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=t,{end:u}=t,f=function(y){var v=a[y],b,w=()=>(b===void 0&&(b=n(v,y)),b);if(y===s-1){var j=e*(v.coordinate+e*w()/2-u);a[y]=v=Yn(Yn({},v),{},{tickCoord:j>0?v.coordinate-j*e:v.coordinate})}else a[y]=v=Yn(Yn({},v),{},{tickCoord:v.coordinate});var A=Ep(e,v.tickCoord,w,l,u);A&&(u=v.tickCoord-e*(w()/2+i),a[y]=Yn(Yn({},v),{},{isShow:!0}))},m=s-1;m>=0;m--)f(m);return a}function Xue(e,t,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:u,end:f}=t;if(a){var m=r[l-1],p=n(m,l-1),y=e*(m.coordinate+e*p/2-f);s[l-1]=m=Yn(Yn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate});var v=Ep(e,m.tickCoord,()=>p,u,f);v&&(f=m.tickCoord-e*(p/2+i),s[l-1]=Yn(Yn({},m),{},{isShow:!0}))}for(var b=a?l-1:l,w=function(_){var k=s[_],E,M=()=>(E===void 0&&(E=n(k,_)),E);if(_===0){var O=e*(k.coordinate-e*M()/2-u);s[_]=k=Yn(Yn({},k),{},{tickCoord:O<0?k.coordinate-O*e:k.coordinate})}else s[_]=k=Yn(Yn({},k),{},{tickCoord:k.coordinate});var L=Ep(e,k.tickCoord,M,u,f);L&&(u=k.tickCoord+e*(M()/2+i),s[_]=Yn(Yn({},k),{},{isShow:!0}))},j=0;j<b;j++)w(j);return s}function Bj(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(Pe(u)||el.isSsr){var y;return(y=que(i,Pe(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],b=l==="top"||l==="bottom"?"width":"height",w=m&&b==="width"?bd(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(k,E)=>{var M=typeof f=="function"?f(k.value,E):k.value;return b==="width"?Fue(bd(M,{fontSize:t,letterSpacing:n}),w,p):bd(M,{fontSize:t,letterSpacing:n})[b]},A=i.length>=2?Xn(i[1].coordinate-i[0].coordinate):1,_=Hue(a,A,b);return u==="equidistantPreserveStart"?Wue(A,_,j,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Xue(A,_,j,i,s,u==="preserveStartEnd"):v=Zue(A,_,j,i,s),v.filter(k=>k.isShow))}var Que=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=s+u+l+(n?r:0);return Math.round(f)}return 0},Jue=["axisLine","width","height","className","hide","ticks"],ede=["viewBox"],tde=["viewBox"];function z1(e,t){if(e==null)return{};var n,r,i=nde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(null,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){rde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rde(e,t,n){return(t=ide(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ide(e){var t=ade(e,"string");return typeof t=="symbol"?t:t+""}function ade(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function sde(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=vn(vn(vn({},u),en(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!s||a==="bottom"&&s);f=vn(vn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=vn(vn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return N.createElement("line",Wo({},f,{className:lt("recharts-cartesian-axis-line",Uo(l,"className"))}))}function ode(e,t,n,r,i,a,s,l,u){var f,m,p,y,v,b,w=l?-1:1,j=e.tickSize||s,A=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,y=n+ +!l*i,p=y-w*j,b=p-w*u,v=A;break;case"left":p=y=e.coordinate,m=t+ +!l*r,f=m-w*j,v=f-w*u,b=A;break;case"right":p=y=e.coordinate,m=t+ +l*r,f=m+w*j,v=f+w*u,b=A;break;default:f=m=e.coordinate,y=n+ +l*i,p=y+w*j,b=p+w*u,v=A;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:v,y:b}}}function lde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ude(e){var{option:t,tickProps:n,value:r}=e,i,a=lt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,vn(vn({},n),{},{className:a}));else if(typeof t=="function")i=t(vn(vn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=lt(s,t?.className)),i=N.createElement(Rg,Wo({},n,{className:s}),r)}return i}function dde(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:f,mirror:m,x:p,y,width:v,height:b,tickSize:w,tickMargin:j,fontSize:A,letterSpacing:_,getTicksConfig:k,events:E}=e,M=Bj(vn(vn({},k),{},{ticks:t}),A,_),O=lde(f,m),L=cde(f,m),D=Zi(k),R=en(n,!1),F=vn(vn({},D),{},{fill:"none"},en(r,!1)),I=M.map((V,q)=>{var{line:re,tick:se}=ode(V,p,y,v,b,f,w,m,j),H=vn(vn(vn(vn({textAnchor:O,verticalAnchor:L},D),{},{stroke:"none",fill:i},R),se),{},{index:q,payload:V,visibleTicksCount:M.length,tickFormatter:a,padding:l},u);return N.createElement(er,Wo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},L3(E,V,q)),r&&N.createElement("line",Wo({},F,re,{className:lt("recharts-cartesian-axis-tick-line",Uo(r,"className"))})),n&&N.createElement(ude,{option:n,tickProps:H,value:"".concat(typeof a=="function"?a(V.value,q):V.value).concat(s||"")}))});return I.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var fde=N.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l}=e,u=z1(e,Jue),[f,m]=N.useState(""),[p,y]=N.useState(""),v=N.useRef([]);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Que({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=N.useCallback(w=>{if(w){var j=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(j);var A=j[0];if(A){var _=window.getComputedStyle(A),k=_.fontSize,E=_.letterSpacing;(k!==f||E!==p)&&(m(k),y(E))}}},[f,p]);return s||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(er,{className:lt("recharts-cartesian-axis",a),ref:b},N.createElement(sde,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Zi(e)}),N.createElement(dde,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:u}),N.createElement(ble,{x:e.x,y:e.y,width:e.width,height:e.height},N.createElement(Ele,{label:e.label}),e.children))}),hde=N.memo(fde,(e,t)=>{var{viewBox:n}=e,r=z1(e,ede),{viewBox:i}=t,a=z1(t,tde);return jc(n,i)&&jc(r,a)}),Uj=N.forwardRef((e,t)=>{var n=nr(e,Vj);return N.createElement(hde,Wo({},n,{ref:t}))});Uj.displayName="CartesianAxis";var mde=["x1","y1","x2","y2","key"],pde=["offset"],gde=["xAxisId","yAxisId"],yde=["xAxisId","yAxisId"];function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){vde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vde(e,t,n){return(t=xde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xde(e){var t=bde(e,"string");return typeof t=="symbol"?t:t+""}function bde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(null,arguments)}function Tp(e,t){if(e==null)return{};var n,r,i=wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sde=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=e;return N.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WI(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:l}=t,u=Tp(t,mde),f=Zi(u),{offset:m}=f,p=Tp(f,pde);n=N.createElement("line",ko({},p,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function jde(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,l=Tp(e,gde),u=i.map((f,m)=>{var p=Kn(Kn({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return WI(r,p)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Nde(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,l=Tp(e,yde),u=i.map((f,m)=>{var p=Kn(Kn({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return WI(r,p)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function _de(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var v=!f[y+1],b=v?i+s-p:f[y+1]-p;if(b<=0)return null;var w=y%t.length;return N.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:b,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Ade(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var v=!f[y+1],b=v?i+s-p:f[y+1]-p;if(b<=0)return null;var w=y%n.length;return N.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:b,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Mde=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return H4(Bj(Kn(Kn(Kn({},Vj),n),{},{ticks:q4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},kde=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return H4(Bj(Kn(Kn(Kn({},Vj),n),{},{ticks:q4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Cde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function GI(e){var t=X4(),n=Q4(),r=Z4(),i=Kn(Kn({},nr(e,Cde)),{},{x:Pe(e.x)?e.x:r.left,y:Pe(e.y)?e.y:r.top,width:Pe(e.width)?e.width:r.width,height:Pe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:v}=i,b=hi(),w=Oe(R=>tO(R,"xAxis",a,b)),j=Oe(R=>tO(R,"yAxis",s,b));if(!Pe(f)||f<=0||!Pe(m)||m<=0||!Pe(l)||l!==+l||!Pe(u)||u!==+u)return null;var A=i.verticalCoordinatesGenerator||Mde,_=i.horizontalCoordinatesGenerator||kde,{horizontalPoints:k,verticalPoints:E}=i;if((!k||!k.length)&&typeof _=="function"){var M=y&&y.length,O=_({yAxis:j?Kn(Kn({},j),{},{ticks:M?y:j.ticks}):void 0,width:t,height:n,offset:r},M?!0:p);xd(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(k=O)}if((!E||!E.length)&&typeof A=="function"){var L=v&&v.length,D=A({xAxis:w?Kn(Kn({},w),{},{ticks:L?v:w.ticks}):void 0,width:t,height:n,offset:r},L?!0:p);xd(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(E=D)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(Sde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(_de,ko({},i,{horizontalPoints:k})),N.createElement(Ade,ko({},i,{verticalPoints:E})),N.createElement(jde,ko({},i,{offset:r,horizontalPoints:k,xAxis:w,yAxis:j})),N.createElement(Nde,ko({},i,{offset:r,verticalPoints:E,xAxis:w,yAxis:j})))}GI.displayName="CartesianGrid";var YI=(e,t,n,r)=>UL(e,"xAxis",t,r),KI=(e,t,n,r)=>VL(e,"xAxis",t,r),ZI=(e,t,n,r)=>UL(e,"yAxis",n,r),XI=(e,t,n,r)=>VL(e,"yAxis",n,r),Ede=oe([gt,YI,ZI,KI,XI],(e,t,n,r,i)=>Ia(e,"xAxis")?p1(t,r,!1):p1(n,i,!1)),Tde=(e,t,n,r,i)=>i,QI=oe([yL,Tde],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Ode=(e,t,n,r,i)=>{var a,s=QI(e,t,n,r,i);if(s!=null){var l=gt(e),u=Ia(l,"xAxis"),f;if(u?f=O1(e,"yAxis",n,r):f=O1(e,"xAxis",t,r),f!=null){var{stackId:m}=s,p=ij(s);if(!(m==null||p==null)){var y=(a=f[m])===null||a===void 0?void 0:a.stackedData;return y?.find(v=>v.key===p)}}}},Pde=oe([gt,YI,ZI,KI,XI,Ode,KS,Ede,QI],(e,t,n,r,i,a,s,l,u)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,v;if(y&&y.length>0?v=y:v=f?.slice(m,p+1),v!=null){var b=void 0;return efe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:u,stackedData:a,displayedData:v,chartBaseValue:b,bandSize:l})}}}),Dde=["id"],Rde=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function JI(e,t){if(e==null)return{};var n,r,i=Lde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){Ide(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ide(e,t,n){return(t=$de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $de(e){var t=zde(e,"string");return typeof t=="symbol"?t:t+""}function zde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(null,arguments)}function Op(e,t){return e&&e!=="none"?e:t}var Bde=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Op(r,i),value:hg(n,t),payload:e}]};function Vde(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:hg(s,t),hide:l,type:e.tooltipType,color:Op(r,a),unit:u}}}var Ude=(e,t)=>{var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=lt("recharts-area-dot",typeof e!="boolean"?e.className:"");n=N.createElement(CI,ka({},t,{className:r}))}return n};function Fde(e,t){return e==null?!1:t?!0:e.length===1}function Hde(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r;if(!Fde(n,a))return null;var l=B3(a),u=Zi(r),f=en(a,!0),m=n.map((y,v)=>{var b=Sa(Sa(Sa({key:"dot-".concat(v),r:3},u),f),{},{index:v,cx:y.x,cy:y.y,dataKey:s,value:y.value,payload:y.payload,points:n});return Ude(a,b)}),p={clipPath:i?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return N.createElement(er,ka({className:"recharts-area-dots"},p),m)}function qde(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Sa(Sa({},s),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return N.createElement(Vle,{value:t?i:null},n)}function aP(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:l,stroke:u,connectNulls:f,isRange:m}=a,{id:p}=a,y=JI(a,Dde),v=Zi(y);return N.createElement(N.Fragment,null,t?.length>1&&N.createElement(er,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(vd,ka({},v,{id:p,points:t,connectNulls:f,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&N.createElement(vd,ka({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&m&&N.createElement(vd,ka({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:n}))),N.createElement(Hde,{points:t,props:y,clipPathId:i}))}function Wde(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!lr(a)||!lr(s))return null;var l=t*Math.abs(a-s),u=Math.max(...r.map(f=>f.x||0));return Pe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),Pe(u)?N.createElement("rect",{x:0,y:a<s?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function Gde(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!lr(a)||!lr(s))return null;var l=t*Math.abs(a-s),u=Math.max(...r.map(f=>f.y||0));return Pe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),Pe(u)?N.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function Yde(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?N.createElement(Wde,{alpha:t,points:r,baseLine:i,strokeWidth:a}):N.createElement(Gde,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Kde(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:v}=r,b=xg(r,"recharts-area-"),[w,j]=N.useState(!1),A=!w,_=N.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),k=N.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]),E=i.current,M=a.current;return N.createElement(qde,{showLabels:A,points:s},r.children,N.createElement(vg,{animationId:b,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:_,onAnimationStart:k,key:b},O=>{if(E){var L=E.length/s.length,D=O===1?s:s.map((F,I)=>{var V=Math.floor(I*L);if(E[V]){var q=E[V];return Sa(Sa({},F),{},{x:Bn(q.x,F.x,O),y:Bn(q.y,F.y,O)})}return F}),R;return Pe(l)?R=Bn(M,l,O):kn(l)||zr(l)?R=Bn(M,0,O):R=l.map((F,I)=>{var V=Math.floor(I*L);if(Array.isArray(M)&&M[V]){var q=M[V];return Sa(Sa({},F),{},{x:Bn(q.x,F.x,O),y:Bn(q.y,F.y,O)})}return F}),O>0&&(i.current=D,a.current=R),N.createElement(aP,{points:D,baseLine:R,needClip:t,clipPathId:n,props:r})}return O>0&&(i.current=s,a.current=l),N.createElement(er,null,u&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(Yde,{alpha:O,points:s,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),N.createElement(er,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(aP,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),N.createElement(kI,{label:r.label}))}function Zde(e){var{needClip:t,clipPathId:n,props:r}=e,i=N.useRef(null),a=N.useRef();return N.createElement(Kde,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Xde extends N.PureComponent{render(){var t,{hide:n,dot:r,points:i,className:a,top:s,left:l,needClip:u,xAxisId:f,yAxisId:m,width:p,height:y,id:v,baseLine:b}=this.props;if(n)return null;var w=lt("recharts-area",a),j=v,{r:A=3,strokeWidth:_=2}=(t=en(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},k=B3(r),E=A*2+_;return N.createElement(N.Fragment,null,N.createElement(er,{className:w},u&&N.createElement("defs",null,N.createElement(Oue,{clipPathId:j,xAxisId:f,yAxisId:m}),!k&&N.createElement("clipPath",{id:"clipPath-dots-".concat(j)},N.createElement("rect",{x:l-E/2,y:s-E/2,width:p+E,height:y+E}))),N.createElement(Zde,{needClip:u,clipPathId:j,props:this.props})),N.createElement(JO,{points:i,mainColor:Op(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(b)&&N.createElement(JO,{points:b,mainColor:Op(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var e$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!el.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Qde(e){var t,n=nr(e,e$),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:v,stroke:b,xAxisId:w,yAxisId:j}=n,A=JI(n,Rde),_=NS(),k=lI(),{needClip:E}=VI(w,j),M=hi(),{points:O,isRange:L,baseLine:D}=(t=Oe(re=>Pde(re,w,j,M,e.id)))!==null&&t!==void 0?t:{},R=$j();if(_!=="horizontal"&&_!=="vertical"||R==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:F,width:I,x:V,y:q}=R;return!O||!O.length?null:N.createElement(Xde,ka({},A,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:D,connectNulls:l,dot:u,fill:f,fillOpacity:m,height:F,hide:p,layout:_,isAnimationActive:y,isRange:L,legendType:v,needClip:E,points:O,stroke:b,width:I,left:V,top:q,xAxisId:w,yAxisId:j}))}var Jde=(e,t,n,r,i)=>{var a=n??t;if(Pe(a))return a;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function efe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:v}=e,b=i&&i.length,w=Jde(a,s,n,l,u),j=a==="horizontal",A=!1,_=f.map((E,M)=>{var O;b?O=i[m+M]:(O=zt(E,r),Array.isArray(O)?A=!0:O=[w,O]);var L=O[1]==null||b&&!t&&zt(E,r)==null;return j?{x:BE({axis:l,ticks:p,bandSize:v,entry:E,index:M}),y:L?null:u.scale(O[1]),value:O,payload:E}:{x:L?null:l.scale(O[1]),y:BE({axis:u,ticks:y,bandSize:v,entry:E,index:M}),value:O,payload:E}}),k;return b||A?k=_.map(E=>{var M=Array.isArray(E.value)?E.value[0]:null;return j?{x:E.x,y:M!=null&&E.y!=null?u.scale(M):null,payload:E.payload}:{x:M!=null?l.scale(M):null,y:E.y,payload:E.payload}}):k=j?u.scale(w):l.scale(w),{points:_,baseLine:k,isRange:A}}function tfe(e){var t=nr(e,e$),n=hi();return N.createElement(LI,{id:t.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(kce,{legendPayload:Bde(t)}),N.createElement(DI,{fn:Vde,args:t}),N.createElement(Vce,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Oee(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),N.createElement(Qde,ka({},t,{id:r}))))}var t$=N.memo(tfe);t$.displayName="Area";var nfe=["dangerouslySetInnerHTML","ticks"],rfe=["id"],ife=["domain"],afe=["domain"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B1.apply(null,arguments)}function Pp(e,t){if(e==null)return{};var n,r,i=sfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ofe(e){var t=nn();return N.useEffect(()=>(t(yue(e)),()=>{t(vue(e))}),[e,t]),null}var lfe=e=>{var{xAxisId:t,className:n}=e,r=Oe(K4),i=hi(),a="xAxis",s=Oe(j=>zc(j,a,t,i)),l=Oe(j=>BL(j,a,t,i)),u=Oe(j=>$ae(j,t)),f=Oe(j=>Hae(j,t)),m=Oe(j=>mL(j,t));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,v=Pp(e,nfe),{id:b}=m,w=Pp(m,rfe);return N.createElement(Uj,B1({},v,w,{scale:s,x:f.x,y:f.y,width:u.width,height:u.height,className:lt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},cfe={allowDataOverflow:Er.allowDataOverflow,allowDecimals:Er.allowDecimals,allowDuplicatedCategory:Er.allowDuplicatedCategory,height:Er.height,hide:!1,mirror:Er.mirror,orientation:Er.orientation,padding:Er.padding,reversed:Er.reversed,scale:Er.scale,tickCount:Er.tickCount,type:Er.type,xAxisId:0},ufe=e=>{var t,n,r,i,a,s=nr(e,cfe);return N.createElement(N.Fragment,null,N.createElement(ofe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),N.createElement(lfe,s))},dfe=(e,t)=>{var{domain:n}=e,r=Pp(e,ife),{domain:i}=t,a=Pp(t,afe);return jc(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:jc({domain:n},{domain:i}):!1},n$=N.memo(ufe,dfe);n$.displayName="XAxis";var ffe=["dangerouslySetInnerHTML","ticks"],hfe=["id"],mfe=["domain"],pfe=["domain"];function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V1.apply(null,arguments)}function Dp(e,t){if(e==null)return{};var n,r,i=gfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yfe(e){var t=nn();return N.useEffect(()=>(t(xue(e)),()=>{t(bue(e))}),[e,t]),null}var vfe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=N.useRef(null),s=N.useRef(null),l=Oe(K4),u=hi(),f=nn(),m="yAxis",p=Oe(M=>zc(M,m,t,u)),y=Oe(M=>Gae(M,t)),v=Oe(M=>Wae(M,t)),b=Oe(M=>BL(M,m,t,u)),w=Oe(M=>pL(M,t));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Oj(i)||N.isValidElement(i)||w==null)){var M=a.current;if(M){var O=M.getCalculatedWidth();Math.round(y.width)!==Math.round(O)&&f(wue({id:t,width:O}))}}},[b,y,f,i,t,r,w]),y==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:j,ticks:A}=e,_=Dp(e,ffe),{id:k}=w,E=Dp(w,hfe);return N.createElement(Uj,V1({},_,E,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:lt("recharts-".concat(m," ").concat(m),n),viewBox:l,ticks:b}))},xfe={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:Tr.allowDecimals,allowDuplicatedCategory:Tr.allowDuplicatedCategory,hide:!1,mirror:Tr.mirror,orientation:Tr.orientation,padding:Tr.padding,reversed:Tr.reversed,scale:Tr.scale,tickCount:Tr.tickCount,type:Tr.type,width:Tr.width,yAxisId:0},bfe=e=>{var t,n,r,i,a,s=nr(e,xfe);return N.createElement(N.Fragment,null,N.createElement(yfe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),N.createElement(vfe,s))},wfe=(e,t)=>{var{domain:n}=e,r=Dp(e,mfe),{domain:i}=t,a=Dp(t,pfe);return jc(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:jc({domain:n},{domain:i}):!1},r$=N.memo(bfe,wfe);r$.displayName="YAxis";var sb={exports:{}},ob={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function Sfe(){if(sP)return ob;sP=1;var e=Zo();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return ob.useSyncExternalStoreWithSelector=function(u,f,m,p,y){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=s(function(){function j(M){if(!A){if(A=!0,_=M,M=p(M),y!==void 0&&b.hasValue){var O=b.value;if(y(O,M))return k=O}return k=M}if(O=k,n(_,M))return O;var L=p(M);return y!==void 0&&y(O,L)?(_=M,O):(_=M,k=L)}var A=!1,_,k,E=m===void 0?null:m;return[function(){return j(f())},E===null?void 0:function(){return j(E())}]},[f,m,p,y]);var w=r(u,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},ob}var oP;function jfe(){return oP||(oP=1,sb.exports=Sfe()),sb.exports}jfe();function Nfe(e){e()}function _fe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Nfe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lP={notify(){},get:()=>[]};function Afe(e,t){let n,r=lP,i=0,a=!1;function s(w){m();const j=r.subscribe(w);let A=!1;return()=>{A||(A=!0,j(),p())}}function l(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return a}function m(){i++,n||(n=e.subscribe(u),r=_fe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lP)}function y(){a||(a=!0,m())}function v(){a&&(a=!1,p())}const b={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return b}var Mfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kfe=Mfe(),Cfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Efe=Cfe(),Tfe=()=>kfe||Efe?N.useLayoutEffect:N.useEffect,Ofe=Tfe(),Pfe=Symbol.for("react-redux-context"),Dfe=typeof globalThis<"u"?globalThis:{};function Rfe(){if(!N.createContext)return{};const e=Dfe[Pfe]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var Lfe=Rfe();function Ife(e){const{children:t,context:n,serverState:r,store:i}=e,a=N.useMemo(()=>{const u=Afe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=N.useMemo(()=>i.getState(),[i]);Ofe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||Lfe;return N.createElement(l.Provider,{value:a},t)}var $fe=Ife,zfe=(e,t)=>t,Fj=oe([zfe,gt,dL,wn,rI,Fa,Qse,Cn],roe),Hj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},i$=ci("mouseClick"),a$=gf();a$.startListening({actionCreator:i$,effect:(e,t)=>{var n=e.payload,r=Fj(t.getState(),Hj(n));r?.activeIndex!=null&&t.dispatch(sse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var U1=ci("mouseMove"),s$=gf();s$.startListening({actionCreator:U1,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jj(r,r.tooltip.settings.shared),a=Fj(r,Hj(n));i==="axis"&&(a?.activeIndex!=null?t.dispatch(ZL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(KL()))}});var cP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},o$=Fr({name:"rootProps",initialState:cP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:cP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Bfe=o$.reducer,{updateOptions:Vfe}=o$.actions,l$=Fr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ufe}=l$.actions,Ffe=l$.reducer,c$=ci("keyDown"),u$=ci("focus"),qj=gf();qj.startListening({actionCreator:c$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Nj(i,Vc(n))),l=Fa(n);if(a==="Enter"){var u=Ap(n,"axis","hover",String(i.index));t.dispatch(D1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=Xae(n),m=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=s+p*m;if(!(l==null||y>=l.length||y<0)){var v=Ap(n,"axis","hover",String(y));t.dispatch(D1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});qj.startListening({actionCreator:u$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Ap(n,"axis","hover",String(a));t.dispatch(D1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ri=ci("externalEvent"),d$=gf();d$.startListening({actionCreator:ri,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Fse(n),activeDataKey:Vse(n),activeIndex:Sc(n),activeLabel:sI(n),activeTooltipIndex:Sc(n),isTooltipActive:Hse(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Hfe=oe([Bc],e=>e.tooltipItemPayloads),qfe=oe([Hfe,Mf,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),f$=ci("touchMove"),h$=gf();h$.startListening({actionCreator:f$,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jj(r,r.tooltip.settings.shared);if(i==="axis"){var a=Fj(r,Hj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(ZL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(G4),m=(s=u.getAttribute(Y4))!==null&&s!==void 0?s:void 0,p=qfe(t.getState(),f,m);t.dispatch(YL({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}});var Wfe=x4({brush:Pue,cartesianAxis:Sue,chartData:xoe,errorBars:Tue,graphicalItems:Bce,layout:fee,legend:Qee,options:moe,polarAxis:Qle,polarOptions:Ffe,referenceElements:Bue,rootProps:Bfe,tooltip:ose}),Gfe=function(t){return IJ({reducer:Wfe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([a$.middleware,s$.middleware,qj.middleware,d$.middleware,h$.middleware]),devTools:el.devToolsEnabled})};function m$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=hi(),a=N.useRef(null);if(i)return n;a.current==null&&(a.current=Gfe(t));var s=yS;return N.createElement($fe,{context:s,store:a.current},n)}function p$(e){var{layout:t,width:n,height:r,margin:i}=e,a=nn(),s=hi();return N.useEffect(()=>{s||(a(cee(t)),a(uee({width:n,height:r})),a(lee(i)))},[a,s,t,n,r,i]),null}function g$(e){var t=nn();return N.useEffect(()=>{t(Vfe(e))},[t,e]),null}var Yfe=["children"];function Kfe(e,t){if(e==null)return{};var n,r,i=Zfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp.apply(null,arguments)}var Xfe={width:"100%",height:"100%"},Qfe=N.forwardRef((e,t)=>{var n=X4(),r=Q4(),i=n6();if(!yc(n)||!yc(r))return null;var{children:a,otherAttributes:s,title:l,desc:u}=e,f,m;return typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?m=s.role:m=i?"application":void 0,N.createElement(V3,Rp({},s,{title:l,desc:u,role:m,tabIndex:f,width:n,height:r,style:Xfe,ref:t}),a)}),Jfe=e=>{var{children:t}=e,n=Oe(yg);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return N.createElement(V3,{width:r,height:i,x:s,y:a},t)},uP=N.forwardRef((e,t)=>{var{children:n}=e,r=Kfe(e,Yfe),i=hi();return i?N.createElement(Jfe,null,n):N.createElement(Qfe,Rp({ref:t},r),n)});function ehe(){var e=nn(),[t,n]=N.useState(null),r=Oe(zee);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;lr(a)&&a!==r&&e(dee(a))}},[t,e,r]),n}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function the(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){nhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nhe(e,t,n){return(t=rhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rhe(e){var t=ihe(e,"string");return typeof t=="symbol"?t:t+""}function ihe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ahe=N.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:v,onTouchMove:b,onTouchStart:w,style:j,width:A}=e,_=nn(),[k,E]=N.useState(null),[M,O]=N.useState(null);koe();var L=ehe(),D=N.useCallback(ne=>{L(ne),typeof t=="function"&&t(ne),E(ne),O(ne)},[L,t,E,O]),R=N.useCallback(ne=>{_(i$(ne)),_(ri({handler:a,reactEvent:ne}))},[_,a]),F=N.useCallback(ne=>{_(U1(ne)),_(ri({handler:f,reactEvent:ne}))},[_,f]),I=N.useCallback(ne=>{_(KL()),_(ri({handler:m,reactEvent:ne}))},[_,m]),V=N.useCallback(ne=>{_(U1(ne)),_(ri({handler:p,reactEvent:ne}))},[_,p]),q=N.useCallback(()=>{_(u$())},[_]),re=N.useCallback(ne=>{_(c$(ne.key))},[_]),se=N.useCallback(ne=>{_(ri({handler:s,reactEvent:ne}))},[_,s]),H=N.useCallback(ne=>{_(ri({handler:l,reactEvent:ne}))},[_,l]),z=N.useCallback(ne=>{_(ri({handler:u,reactEvent:ne}))},[_,u]),G=N.useCallback(ne=>{_(ri({handler:y,reactEvent:ne}))},[_,y]),ie=N.useCallback(ne=>{_(ri({handler:w,reactEvent:ne}))},[_,w]),$=N.useCallback(ne=>{_(f$(ne)),_(ri({handler:b,reactEvent:ne}))},[_,b]),Q=N.useCallback(ne=>{_(ri({handler:v,reactEvent:ne}))},[_,v]);return N.createElement(hI.Provider,{value:k},N.createElement(OX.Provider,{value:M},N.createElement("div",{className:lt("recharts-wrapper",r),style:the({position:"relative",cursor:"default",width:A,height:i},j),onClick:R,onContextMenu:se,onDoubleClick:H,onFocus:q,onKeyDown:re,onMouseDown:z,onMouseEnter:F,onMouseLeave:I,onMouseMove:V,onMouseUp:G,onTouchEnd:Q,onTouchMove:$,onTouchStart:ie,ref:D},n)))}),she=["children","className","width","height","style","compact","title","desc"];function ohe(e,t){if(e==null)return{};var n,r,i=lhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var y$=N.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:l,title:u,desc:f}=e,m=ohe(e,she),p=Zi(m);return l?N.createElement(uP,{otherAttributes:p,title:u,desc:f},n):N.createElement(ahe,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(uP,{otherAttributes:p,title:u,desc:f,ref:t},N.createElement(Uue,null,n)))}),che=["width","height"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F1.apply(null,arguments)}function uhe(e,t){if(e==null)return{};var n,r,i=dhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fhe={top:5,right:5,bottom:5,left:5},hhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fhe,reverseStackOrder:!1,syncMethod:"index"},mhe=N.forwardRef(function(t,n){var r,i=nr(t.categoricalChartProps,hhe),{width:a,height:s}=i,l=uhe(i,che);if(!yc(a)||!yc(s))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,categoricalChartProps:y}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(m$,{preloadedState:{options:v},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:u},N.createElement(UI,{chartData:y.data}),N.createElement(p$,{width:a,height:s,layout:i.layout,margin:i.margin}),N.createElement(g$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(y$,F1({},l,{width:a,height:s,ref:n})))});function phe(e){var t=nn();return N.useEffect(()=>{t(Ufe(e))},[t,e]),null}var ghe=["width","height","layout"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(null,arguments)}function yhe(e,t){if(e==null)return{};var n,r,i=vhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xhe={top:5,right:5,bottom:5,left:5},bhe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xhe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},whe=N.forwardRef(function(t,n){var r,i=nr(t.categoricalChartProps,bhe),{width:a,height:s,layout:l}=i,u=yhe(i,ghe);if(!yc(a)||!yc(s))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:y}=t,v={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,eventEmitter:void 0};return N.createElement(m$,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},N.createElement(UI,{chartData:i.data}),N.createElement(p$,{width:a,height:s,layout:l,margin:i.margin}),N.createElement(g$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(phe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(y$,H1({width:a,height:s},u,{ref:n})))}),She=["item"],jhe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nhe=N.forwardRef((e,t)=>{var n=nr(e,jhe);return N.createElement(whe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:She,tooltipPayloadSearcher:mI,categoricalChartProps:n,ref:t})}),_he=["axis"],Ahe=N.forwardRef((e,t)=>N.createElement(mhe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_he,tooltipPayloadSearcher:mI,categoricalChartProps:e,ref:t}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cf(e){return e+.5|0}const _s=(e,t,n)=>Math.max(Math.min(e,n),t);function ud(e){return _s(Cf(e*2.55),0,255)}function Cs(e){return _s(Cf(e*255),0,255)}function ya(e){return _s(Cf(e/2.55)/100,0,1)}function fP(e){return _s(Cf(e*100),0,100)}const ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q1=[..."0123456789ABCDEF"],Mhe=e=>q1[e&15],khe=e=>q1[(e&240)>>4]+q1[e&15],pm=e=>(e&240)>>4===(e&15),Che=e=>pm(e.r)&&pm(e.g)&&pm(e.b)&&pm(e.a);function Ehe(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ni[e[1]]*17,g:255&ni[e[2]]*17,b:255&ni[e[3]]*17,a:t===5?ni[e[4]]*17:255}:(t===7||t===9)&&(n={r:ni[e[1]]<<4|ni[e[2]],g:ni[e[3]]<<4|ni[e[4]],b:ni[e[5]]<<4|ni[e[6]],a:t===9?ni[e[7]]<<4|ni[e[8]]:255})),n}const The=(e,t)=>e<255?t(e):"";function Ohe(e){var t=Che(e)?Mhe:khe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+The(e.a,t):void 0}const Phe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v$(e,t,n){const r=t*Math.min(n,1-n),i=(a,s=(a+e/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function Dhe(e,t,n){const r=(i,a=(i+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Rhe(e,t,n){const r=v$(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Lhe(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Wj(e){const n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2;let u,f,m;return a!==s&&(m=a-s,f=l>.5?m/(2-a-s):m/(a+s),u=Lhe(n,r,i,m,a),u=u*60+.5),[u|0,f||0,l]}function Gj(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Cs)}function Yj(e,t,n){return Gj(v$,e,t,n)}function Ihe(e,t,n){return Gj(Rhe,e,t,n)}function $he(e,t,n){return Gj(Dhe,e,t,n)}function x$(e){return(e%360+360)%360}function zhe(e){const t=Phe.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?ud(+t[5]):Cs(+t[5]));const i=x$(+t[2]),a=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?r=Ihe(i,a,s):t[1]==="hsv"?r=$he(i,a,s):r=Yj(i,a,s),{r:r[0],g:r[1],b:r[2],a:n}}function Bhe(e,t){var n=Wj(e);n[0]=x$(n[0]+t),n=Yj(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Vhe(e){if(!e)return;const t=Wj(e),n=t[0],r=fP(t[1]),i=fP(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${ya(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const hP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Uhe(){const e={},t=Object.keys(mP),n=Object.keys(hP);let r,i,a,s,l;for(r=0;r<t.length;r++){for(s=l=t[r],i=0;i<n.length;i++)a=n[i],l=l.replace(a,hP[a]);a=parseInt(mP[s],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let gm;function Fhe(e){gm||(gm=Uhe(),gm.transparent=[0,0,0,0]);const t=gm[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Hhe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qhe(e){const t=Hhe.exec(e);let n=255,r,i,a;if(t){if(t[7]!==r){const s=+t[7];n=t[8]?ud(s):_s(s*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?ud(r):_s(r,0,255)),i=255&(t[4]?ud(i):_s(i,0,255)),a=255&(t[6]?ud(a):_s(a,0,255)),{r,g:i,b:a,a:n}}}function Whe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ya(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const lb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Yl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ghe(e,t,n){const r=Yl(ya(e.r)),i=Yl(ya(e.g)),a=Yl(ya(e.b));return{r:Cs(lb(r+n*(Yl(ya(t.r))-r))),g:Cs(lb(i+n*(Yl(ya(t.g))-i))),b:Cs(lb(a+n*(Yl(ya(t.b))-a))),a:e.a+n*(t.a-e.a)}}function ym(e,t,n){if(e){let r=Wj(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Yj(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function b$(e,t){return e&&Object.assign(t||{},e)}function pP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Cs(e[3]))):(t=b$(e,{r:0,g:0,b:0,a:1}),t.a=Cs(t.a)),t}function Yhe(e){return e.charAt(0)==="r"?qhe(e):zhe(e)}class Gd{constructor(t){if(t instanceof Gd)return t;const n=typeof t;let r;n==="object"?r=pP(t):n==="string"&&(r=Ehe(t)||Fhe(t)||Yhe(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=b$(this._rgb);return t&&(t.a=ya(t.a)),t}set rgb(t){this._rgb=pP(t)}rgbString(){return this._valid?Whe(this._rgb):void 0}hexString(){return this._valid?Ohe(this._rgb):void 0}hslString(){return this._valid?Vhe(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let a;const s=n===a?.5:n,l=2*s-1,u=r.a-i.a,f=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;a=1-f,r.r=255&f*r.r+a*i.r+.5,r.g=255&f*r.g+a*i.g+.5,r.b=255&f*r.b+a*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Ghe(this._rgb,t._rgb,n)),this}clone(){return new Gd(this.rgb)}alpha(t){return this._rgb.a=Cs(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Cf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ym(this._rgb,2,t),this}darken(t){return ym(this._rgb,2,-t),this}saturate(t){return ym(this._rgb,1,t),this}desaturate(t){return ym(this._rgb,1,-t),this}rotate(t){return Bhe(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ha(){}const Khe=(()=>{let e=0;return()=>e++})();function ot(e){return e==null}function dn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function et(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function tr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Oi(e,t){return tr(e)?e:t}function qe(e,t){return typeof e>"u"?t:e}const Zhe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,w$=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ht(e,t,n,r){let i,a,s;if(dn(e))for(a=e.length,i=0;i<a;i++)t.call(n,e[i],i);else if(et(e))for(s=Object.keys(e),a=s.length,i=0;i<a;i++)t.call(n,e[s[i]],s[i])}function Lp(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Ip(e){if(dn(e))return e.map(Ip);if(et(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Ip(e[n[i]]);return t}return e}function S$(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Xhe(e,t,n,r){if(!S$(e))return;const i=t[e],a=n[e];et(i)&&et(a)?Yd(i,a,r):t[e]=Ip(a)}function Yd(e,t,n){const r=dn(t)?t:[t],i=r.length;if(!et(e))return e;n=n||{};const a=n.merger||Xhe;let s;for(let l=0;l<i;++l){if(s=r[l],!et(s))continue;const u=Object.keys(s);for(let f=0,m=u.length;f<m;++f)a(u[f],e,s,n)}return e}function wd(e,t){return Yd(e,t,{merger:Qhe})}function Qhe(e,t,n){if(!S$(e))return;const r=t[e],i=n[e];et(r)&&et(i)?wd(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ip(i))}const gP={"":e=>e,x:e=>e.x,y:e=>e.y};function Jhe(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eme(e){const t=Jhe(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Go(e,t){return(gP[t]||(gP[t]=eme(t)))(e)}function Kj(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Kd=e=>typeof e<"u",Rs=e=>typeof e=="function",yP=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function tme(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pt=Math.PI,Bt=2*pt,nme=Bt+pt,$p=Number.POSITIVE_INFINITY,rme=pt/180,xn=pt/2,fo=pt/4,vP=pt*2/3,j$=Math.log10,Fi=Math.sign;function Sd(e,t,n){return Math.abs(e-t)<n}function xP(e){const t=Math.round(e);e=Sd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(j$(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function ime(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,a)=>i-a).pop(),t}function ame(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Zd(e){return!ame(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function sme(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function ome(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ja(e){return e*(pt/180)}function lme(e){return e*(180/pt)}function bP(e){if(!tr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function N$(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*pt&&(a+=Bt),{angle:a,distance:i}}function W1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cme(e,t){return(e-t+nme)%Bt-pt}function Pr(e){return(e%Bt+Bt)%Bt}function Xd(e,t,n,r){const i=Pr(e),a=Pr(t),s=Pr(n),l=Pr(a-i),u=Pr(s-i),f=Pr(i-a),m=Pr(i-s);return i===a||i===s||r&&a===s||l>u&&f<m}function Qn(e,t,n){return Math.max(t,Math.min(n,e))}function ume(e){return Qn(e,-32768,32767)}function Na(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Zj(e,t,n){n=n||(s=>e[s]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const Co=(e,t,n,r)=>Zj(e,n,r?i=>{const a=e[i][t];return a<n||a===n&&e[i+1][t]===n}:i=>e[i][t]<n),dme=(e,t,n)=>Zj(e,n,r=>e[r][t]>=n);function fme(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const _$=["push","pop","shift","splice","unshift"];function hme(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_$.forEach(n=>{const r="_onData"+Kj(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...a)}),s}})})}function wP(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(_$.forEach(a=>{delete e[a]}),delete e._chartjs)}function A$(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const M$=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function k$(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,M$.call(window,()=>{r=!1,e.apply(t,n)}))}}function mme(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Xj=e=>e==="start"?"left":e==="end"?"right":"center",Gn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,pme=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function gme(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:s,vScale:l,_parsed:u}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=s.axis,{min:p,max:y,minDefined:v,maxDefined:b}=s.getUserBounds();if(v){if(i=Math.min(Co(u,m,p).lo,n?r:Co(t,m,s.getPixelForValue(p)).lo),f){const w=u.slice(0,i+1).reverse().findIndex(j=>!ot(j[l.axis]));i-=Math.max(0,w)}i=Qn(i,0,r-1)}if(b){let w=Math.max(Co(u,s.axis,y,!0).hi+1,n?0:Co(t,m,s.getPixelForValue(y),!0).hi+1);if(f){const j=u.slice(w-1).findIndex(A=>!ot(A[l.axis]));w+=Math.max(0,j)}a=Qn(w,i,r)-i}else a=r-i}return{start:i,count:a}}function yme(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const vm=e=>e===0||e===1,SP=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bt/n)),jP=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bt/n)+1,jd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*xn)+1,easeOutSine:e=>Math.sin(e*xn),easeInOutSine:e=>-.5*(Math.cos(pt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>vm(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>vm(e)?e:SP(e,.075,.3),easeOutElastic:e=>vm(e)?e:jP(e,.075,.3),easeInOutElastic(e){return vm(e)?e:e<.5?.5*SP(e*2,.1125,.45):.5+.5*jP(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-jd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?jd.easeInBounce(e*2)*.5:jd.easeOutBounce(e*2-1)*.5+.5};function Qj(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function NP(e){return Qj(e)?e:new Gd(e)}function cb(e){return Qj(e)?e:new Gd(e).saturate(.5).darken(.1).hexString()}const vme=["x","y","borderWidth","radius","tension"],xme=["color","borderColor","backgroundColor"];function bme(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:xme},numbers:{type:"number",properties:vme}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wme(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _P=new Map;function Sme(e,t){t=t||{};const n=e+JSON.stringify(t);let r=_P.get(n);return r||(r=new Intl.NumberFormat(e,t),_P.set(n,r)),r}function Jj(e,t,n){return Sme(t,n).format(e)}const jme={values(e){return dn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),a=Nme(e,n)}const s=j$(Math.abs(a)),l=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Jj(e,r,u)}};function Nme(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var C$={formatters:jme};function _me(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:C$.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Yo=Object.create(null),G1=Object.create(null);function Nd(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function ub(e,t,n){return typeof t=="string"?Yd(Nd(e,t),n):Yd(Nd(e,""),t)}class Ame{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>cb(i.backgroundColor),this.hoverBorderColor=(r,i)=>cb(i.borderColor),this.hoverColor=(r,i)=>cb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ub(this,t,n)}get(t){return Nd(this,t)}describe(t,n){return ub(G1,t,n)}override(t,n){return ub(Yo,t,n)}route(t,n,r,i){const a=Nd(this,t),s=Nd(this,r),l="_"+n;Object.defineProperties(a,{[l]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],f=s[i];return et(u)?Object.assign({},f,u):qe(u,f)},set(u){this[l]=u}}})}apply(t){t.forEach(n=>n(this))}}var Jt=new Ame({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bme,wme,_me]);function Mme(e){return!e||ot(e.size)||ot(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function AP(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function ho(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function MP(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Y1(e,t,n,r){E$(e,t,n,r,null)}function E$(e,t,n,r,i){let a,s,l,u,f,m,p,y;const v=t.pointStyle,b=t.rotation,w=t.radius;let j=(b||0)*rme;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(j),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),v){default:i?e.ellipse(n,r,i/2,w,0,0,Bt):e.arc(n,r,w,0,Bt),e.closePath();break;case"triangle":m=i?i/2:w,e.moveTo(n+Math.sin(j)*m,r-Math.cos(j)*w),j+=vP,e.lineTo(n+Math.sin(j)*m,r-Math.cos(j)*w),j+=vP,e.lineTo(n+Math.sin(j)*m,r-Math.cos(j)*w),e.closePath();break;case"rectRounded":f=w*.516,u=w-f,s=Math.cos(j+fo)*u,p=Math.cos(j+fo)*(i?i/2-f:u),l=Math.sin(j+fo)*u,y=Math.sin(j+fo)*(i?i/2-f:u),e.arc(n-p,r-l,f,j-pt,j-xn),e.arc(n+y,r-s,f,j-xn,j),e.arc(n+p,r+l,f,j,j+xn),e.arc(n-y,r+s,f,j+xn,j+pt),e.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*w,m=i?i/2:u,e.rect(n-m,r-u,2*m,2*u);break}j+=fo;case"rectRot":p=Math.cos(j)*(i?i/2:w),s=Math.cos(j)*w,l=Math.sin(j)*w,y=Math.sin(j)*(i?i/2:w),e.moveTo(n-p,r-l),e.lineTo(n+y,r-s),e.lineTo(n+p,r+l),e.lineTo(n-y,r+s),e.closePath();break;case"crossRot":j+=fo;case"cross":p=Math.cos(j)*(i?i/2:w),s=Math.cos(j)*w,l=Math.sin(j)*w,y=Math.sin(j)*(i?i/2:w),e.moveTo(n-p,r-l),e.lineTo(n+p,r+l),e.moveTo(n+y,r-s),e.lineTo(n-y,r+s);break;case"star":p=Math.cos(j)*(i?i/2:w),s=Math.cos(j)*w,l=Math.sin(j)*w,y=Math.sin(j)*(i?i/2:w),e.moveTo(n-p,r-l),e.lineTo(n+p,r+l),e.moveTo(n+y,r-s),e.lineTo(n-y,r+s),j+=fo,p=Math.cos(j)*(i?i/2:w),s=Math.cos(j)*w,l=Math.sin(j)*w,y=Math.sin(j)*(i?i/2:w),e.moveTo(n-p,r-l),e.lineTo(n+p,r+l),e.moveTo(n+y,r-s),e.lineTo(n-y,r+s);break;case"line":s=i?i/2:Math.cos(j)*w,l=Math.sin(j)*w,e.moveTo(n-s,r-l),e.lineTo(n+s,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(j)*(i?i/2:w),r+Math.sin(j)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Qd(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Lg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ig(e){e.restore()}function kme(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Cme(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Eme(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ot(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Tme(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),s=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,m=i.strikethrough?(u+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,m),e.lineTo(l,m),e.stroke()}}function Ome(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Jd(e,t,n,r,i,a={}){const s=dn(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let u,f;for(e.save(),e.font=i.string,Eme(e,a),u=0;u<s.length;++u)f=s[u],a.backdrop&&Ome(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),ot(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,r,a.maxWidth)),e.fillText(f,n,r,a.maxWidth),Tme(e,n,r,f,a),r+=Number(i.lineHeight);e.restore()}function zp(e,t){const{x:n,y:r,w:i,h:a,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*pt,pt,!0),e.lineTo(n,r+a-s.bottomLeft),e.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,pt,xn,!0),e.lineTo(n+i-s.bottomRight,r+a),e.arc(n+i-s.bottomRight,r+a-s.bottomRight,s.bottomRight,xn,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-xn,!0),e.lineTo(n+s.topLeft,r)}const Pme=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dme=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Rme(e,t){const n=(""+e).match(Pme);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Lme=e=>+e||0;function e2(e,t){const n={},r=et(t),i=r?Object.keys(t):t,a=et(e)?r?s=>qe(e[s],e[t[s]]):s=>e[s]:()=>e;for(const s of i)n[s]=Lme(a(s));return n}function T$(e){return e2(e,{top:"y",right:"x",bottom:"y",left:"x"})}function uc(e){return e2(e,["topLeft","topRight","bottomLeft","bottomRight"])}function di(e){const t=T$(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jn(e,t){e=e||{},t=t||Jt.font;let n=qe(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=qe(e.style,t.style);r&&!(""+r).match(Dme)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:qe(e.family,t.family),lineHeight:Rme(qe(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:qe(e.weight,t.weight),string:""};return i.string=Mme(i),i}function xm(e,t,n,r){let i,a,s;for(i=0,a=e.length;i<a;++i)if(s=e[i],s!==void 0&&s!==void 0)return s}function Ime(e,t,n){const{min:r,max:i}=e,a=w$(t,(i-r)/2),s=(l,u)=>n&&l===0?0:l+u;return{min:s(r,-Math.abs(a)),max:s(i,a)}}function il(e,t){return Object.assign(Object.create(e),t)}function t2(e,t=[""],n,r,i=()=>e[0]){const a=n||e;typeof r>"u"&&(r=R$("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:l=>t2([l,...e],t,a,r)};return new Proxy(s,{deleteProperty(l,u){return delete l[u],delete l._keys,delete e[0][u],!0},get(l,u){return P$(l,u,()=>qme(u,t,e,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,u){return CP(l).includes(u)},ownKeys(l){return CP(l)},set(l,u,f){const m=l._storage||(l._storage=i());return l[u]=m[u]=f,delete l._keys,!0}})}function Nc(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:O$(e,r),setContext:a=>Nc(e,a,n,r),override:a=>Nc(e.override(a),t,n,r)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete e[s],!0},get(a,s,l){return P$(a,s,()=>zme(a,s,l))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(a,s,l){return e[s]=l,delete a[s],!0}})}function O$(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Rs(n)?n:()=>n,isIndexable:Rs(r)?r:()=>r}}const $me=(e,t)=>e?e+Kj(t):t,n2=(e,t)=>et(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function P$(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function zme(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=e;let l=r[t];return Rs(l)&&s.isScriptable(t)&&(l=Bme(t,l,e,n)),dn(l)&&l.length&&(l=Vme(t,l,e,s.isIndexable)),n2(t,l)&&(l=Nc(l,i,a&&a[t],s)),l}function Bme(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=t(a,s||r);return l.delete(e),n2(e,u)&&(u=r2(i._scopes,i,e,u)),u}function Vme(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_descriptors:l}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(et(t[0])){const u=t,f=i._scopes.filter(m=>m!==u);t=[];for(const m of u){const p=r2(f,i,e,m);t.push(Nc(p,a,s&&s[e],l))}}return t}function D$(e,t,n){return Rs(e)?e(t,n):e}const Ume=(e,t)=>e===!0?t:typeof e=="string"?Go(t,e):void 0;function Fme(e,t,n,r,i){for(const a of t){const s=Ume(n,a);if(s){e.add(s);const l=D$(s._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function r2(e,t,n,r){const i=t._rootScopes,a=D$(t._fallback,n,r),s=[...e,...i],l=new Set;l.add(r);let u=kP(l,s,n,a||n,r);return u===null||typeof a<"u"&&a!==n&&(u=kP(l,s,a,u,r),u===null)?!1:t2(Array.from(l),[""],i,a,()=>Hme(t,n,r))}function kP(e,t,n,r,i){for(;n;)n=Fme(e,t,n,r,i);return n}function Hme(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return dn(i)&&et(n)?n:i||{}}function qme(e,t,n,r){let i;for(const a of t)if(i=R$($me(a,e),n),typeof i<"u")return n2(e,i)?r2(n,r,e,i):i}function R$(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function CP(e){let t=e._keys;return t||(t=e._keys=Wme(e._scopes)),t}function Wme(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const Gme=Number.EPSILON||1e-14,_c=(e,t)=>t<e.length&&!e[t].skip&&e[t],L$=e=>e==="x"?"y":"x";function Yme(e,t,n,r){const i=e.skip?t:e,a=t,s=n.skip?t:n,l=W1(a,i),u=W1(s,a);let f=l/(l+u),m=u/(l+u);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const p=r*f,y=r*m;return{previous:{x:a.x-p*(s.x-i.x),y:a.y-p*(s.y-i.y)},next:{x:a.x+y*(s.x-i.x),y:a.y+y*(s.y-i.y)}}}function Kme(e,t,n){const r=e.length;let i,a,s,l,u,f=_c(e,0);for(let m=0;m<r-1;++m)if(u=f,f=_c(e,m+1),!(!u||!f)){if(Sd(t[m],0,Gme)){n[m]=n[m+1]=0;continue}i=n[m]/t[m],a=n[m+1]/t[m],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(s=3/Math.sqrt(l),n[m]=i*s*t[m],n[m+1]=a*s*t[m])}}function Zme(e,t,n="x"){const r=L$(n),i=e.length;let a,s,l,u=_c(e,0);for(let f=0;f<i;++f){if(s=l,l=u,u=_c(e,f+1),!l)continue;const m=l[n],p=l[r];s&&(a=(m-s[n])/3,l[`cp1${n}`]=m-a,l[`cp1${r}`]=p-a*t[f]),u&&(a=(u[n]-m)/3,l[`cp2${n}`]=m+a,l[`cp2${r}`]=p+a*t[f])}}function Xme(e,t="x"){const n=L$(t),r=e.length,i=Array(r).fill(0),a=Array(r);let s,l,u,f=_c(e,0);for(s=0;s<r;++s)if(l=u,u=f,f=_c(e,s+1),!!u){if(f){const m=f[t]-u[t];i[s]=m!==0?(f[n]-u[n])/m:0}a[s]=l?f?Fi(i[s-1])!==Fi(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}Kme(e,i,a),Zme(e,a,t)}function bm(e,t,n){return Math.max(Math.min(e,n),t)}function Qme(e,t){let n,r,i,a,s,l=Qd(e[0],t);for(n=0,r=e.length;n<r;++n)s=a,a=l,l=n<r-1&&Qd(e[n+1],t),a&&(i=e[n],s&&(i.cp1x=bm(i.cp1x,t.left,t.right),i.cp1y=bm(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=bm(i.cp2x,t.left,t.right),i.cp2y=bm(i.cp2y,t.top,t.bottom)))}function Jme(e,t,n,r,i){let a,s,l,u;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Xme(e,i);else{let f=r?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)l=e[a],u=Yme(f,l,e[Math.min(a+1,s-(r?0:1))%s],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,f=l}t.capBezierPoints&&Qme(e,n)}function i2(){return typeof window<"u"&&typeof document<"u"}function a2(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bp(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const $g=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function epe(e,t){return $g(e).getPropertyValue(t)}const tpe=["top","right","bottom","left"];function zo(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=tpe[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const npe=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function rpe(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let s=!1,l,u;if(npe(i,a,e.target))l=i,u=a;else{const f=t.getBoundingClientRect();l=r.clientX-f.left,u=r.clientY-f.top,s=!0}return{x:l,y:u,box:s}}function bo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=$g(n),a=i.boxSizing==="border-box",s=zo(i,"padding"),l=zo(i,"border","width"),{x:u,y:f,box:m}=rpe(e,n),p=s.left+(m&&l.left),y=s.top+(m&&l.top);let{width:v,height:b}=t;return a&&(v-=s.width+l.width,b-=s.height+l.height),{x:Math.round((u-p)/v*n.width/r),y:Math.round((f-y)/b*n.height/r)}}function ipe(e,t,n){let r,i;if(t===void 0||n===void 0){const a=e&&a2(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const s=a.getBoundingClientRect(),l=$g(a),u=zo(l,"border","width"),f=zo(l,"padding");t=s.width-f.width-u.width,n=s.height-f.height-u.height,r=Bp(l.maxWidth,a,"clientWidth"),i=Bp(l.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||$p,maxHeight:i||$p}}const wm=e=>Math.round(e*10)/10;function ape(e,t,n,r){const i=$g(e),a=zo(i,"margin"),s=Bp(i.maxWidth,e,"clientWidth")||$p,l=Bp(i.maxHeight,e,"clientHeight")||$p,u=ipe(e,t,n);let{width:f,height:m}=u;if(i.boxSizing==="content-box"){const y=zo(i,"border","width"),v=zo(i,"padding");f-=v.width+y.width,m-=v.height+y.height}return f=Math.max(0,f-a.width),m=Math.max(0,r?f/r:m-a.height),f=wm(Math.min(f,s,u.maxWidth)),m=wm(Math.min(m,l,u.maxHeight)),f&&!m&&(m=wm(f/2)),(t!==void 0||n!==void 0)&&r&&u.height&&m>u.height&&(m=u.height,f=wm(Math.floor(m*r))),{width:f,height:m}}function EP(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==i||s.width!==a?(e.currentDevicePixelRatio=r,s.height=i,s.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const spe=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};i2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function TP(e,t){const n=epe(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function wo(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function ope(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function lpe(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=wo(e,i,n),l=wo(i,a,n),u=wo(a,t,n),f=wo(s,l,n),m=wo(l,u,n);return wo(f,m,n)}const cpe=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},upe=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function dc(e,t,n){return e?cpe(t,n):upe()}function I$(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function $$(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function z$(e){return e==="angle"?{between:Xd,compare:cme,normalize:Pr}:{between:Na,compare:(t,n)=>t-n,normalize:t=>t}}function OP({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function dpe(e,t,n){const{property:r,start:i,end:a}=n,{between:s,normalize:l}=z$(r),u=t.length;let{start:f,end:m,loop:p}=e,y,v;if(p){for(f+=u,m+=u,y=0,v=u;y<v&&s(l(t[f%u][r]),i,a);++y)f--,m--;f%=u,m%=u}return m<f&&(m+=u),{start:f,end:m,loop:p,style:e.style}}function B$(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,s=t.length,{compare:l,between:u,normalize:f}=z$(r),{start:m,end:p,loop:y,style:v}=dpe(e,t,n),b=[];let w=!1,j=null,A,_,k;const E=()=>u(i,k,A)&&l(i,k)!==0,M=()=>l(a,A)===0||u(a,k,A),O=()=>w||E(),L=()=>!w||M();for(let D=m,R=m;D<=p;++D)_=t[D%s],!_.skip&&(A=f(_[r]),A!==k&&(w=u(A,i,a),j===null&&O()&&(j=l(A,i)===0?D:R),j!==null&&L()&&(b.push(OP({start:j,end:D,loop:y,count:s,style:v})),j=null),R=D,k=A));return j!==null&&b.push(OP({start:j,end:p,loop:y,count:s,style:v})),b}function V$(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=B$(r[i],e.points,t);a.length&&n.push(...a)}return n}function fpe(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function hpe(e,t,n,r){const i=e.length,a=[];let s=t,l=e[t],u;for(u=t+1;u<=n;++u){const f=e[u%i];f.skip||f.stop?l.skip||(r=!1,a.push({start:t%i,end:(u-1)%i,loop:r}),t=s=f.stop?u:null):(s=u,l.skip&&(t=u)),l=f}return s!==null&&a.push({start:t%i,end:s%i,loop:r}),a}function mpe(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:s,end:l}=fpe(n,i,a,r);if(r===!0)return PP(e,[{start:s,end:l,loop:a}],n,t);const u=l<s?l+i:l,f=!!e._fullLoop&&s===0&&l===i-1;return PP(e,hpe(n,s,u,f),n,t)}function PP(e,t,n,r){return!r||!r.setContext||!n?t:ppe(e,t,n,r)}function ppe(e,t,n,r){const i=e._chart.getContext(),a=DP(e.options),{_datasetIndex:s,options:{spanGaps:l}}=e,u=n.length,f=[];let m=a,p=t[0].start,y=p;function v(b,w,j,A){const _=l?-1:1;if(b!==w){for(b+=u;n[b%u].skip;)b-=_;for(;n[w%u].skip;)w+=_;b%u!==w%u&&(f.push({start:b%u,end:w%u,loop:j,style:A}),m=A,p=w%u)}}for(const b of t){p=l?p:b.start;let w=n[p%u],j;for(y=p+1;y<=b.end;y++){const A=n[y%u];j=DP(r.setContext(il(i,{type:"segment",p0:w,p1:A,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:s}))),gpe(j,m)&&v(p,y-1,b.loop,m),w=A,m=j}p<y-1&&v(p,y-1,b.loop,m)}return f}function DP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function gpe(e,t){if(!t)return!1;const n=[],r=function(i,a){return Qj(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Sm(e,t,n){return e.options.clip?e[n]:t[n]}function ype(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Sm(n,t,"left"),right:Sm(n,t,"right"),top:Sm(r,t,"top"),bottom:Sm(r,t,"bottom")}:t}function U$(e,t){const n=t._clip;if(n.disabled)return!1;const r=ype(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vpe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const a=n.listeners[i],s=n.duration;a.forEach(l=>l({chart:t,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=M$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let s=a.length-1,l=!1,u;for(;s>=0;--s)u=a[s],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),l=!0):(a[s]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pa=new vpe;const RP="transparent",xpe={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=NP(e||RP),i=r.valid&&NP(t||RP);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class bpe{constructor(t,n,r,i){const a=n[r];i=xm([t.to,i,a,t.from]);const s=xm([t.from,a,i]);this._active=!0,this._fn=t.fn||xpe[t.type||typeof s],this._easing=jd[t.easing]||jd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,s=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=xm([t.to,n,i,t.from]),this._from=xm([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,a=this._from,s=this._loop,l=this._to;let u;if(this._active=a!==l&&(s||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=a;return}u=n/r%2,u=s&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(a,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class F${constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!et(t))return;const n=Object.keys(Jt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!et(a))return;const s={};for(const l of n)s[l]=a[l];(dn(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,s)})})}_animateOptions(t,n){const r=n.options,i=Spe(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&wpe(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(n),l=Date.now();let u;for(u=s.length-1;u>=0;--u){const f=s[u];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,n));continue}const m=n[f];let p=a[f];const y=r.get(f);if(p)if(y&&p.active()){p.update(y,m,l);continue}else p.cancel();if(!y||!y.duration){t[f]=m;continue}a[f]=p=new bpe(y,t,f,m),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return pa.add(this._chart,r),!0}}function wpe(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function Spe(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function LP(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function jpe(e,t,n){if(n===!1)return!1;const r=LP(e,n),i=LP(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Npe(e){let t,n,r,i;return et(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function H$(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function IP(e,t,n,r={}){const i=e.keys,a=r.mode==="single";let s,l,u,f;if(t===null)return;let m=!1;for(s=0,l=i.length;s<l;++s){if(u=+i[s],u===n){if(m=!0,r.all)continue;break}f=e.values[u],tr(f)&&(a||t===0||Fi(t)===Fi(f))&&(t+=f)}return!m&&!r.all?0:t}function _pe(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",s=Object.keys(e),l=new Array(s.length);let u,f,m;for(u=0,f=s.length;u<f;++u)m=s[u],l[u]={[i]:m,[a]:e[m]};return l}function db(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Ape(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Mpe(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function kpe(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function $P(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function zP(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:l}=r,u=a.axis,f=s.axis,m=Ape(a,s,r),p=t.length;let y;for(let v=0;v<p;++v){const b=t[v],{[u]:w,[f]:j}=b,A=b._stacks||(b._stacks={});y=A[f]=kpe(i,m,w),y[l]=j,y._top=$P(y,s,!0,r.type),y._bottom=$P(y,s,!1,r.type);const _=y._visualValues||(y._visualValues={});_[l]=j}}function fb(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Cpe(e,t){return il(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Epe(e,t,n){return il(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Xu(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const hb=e=>e==="reset"||e==="none",BP=(e,t)=>t?e:Object.assign({},e),Tpe=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:H$(n,!0),values:null};class zg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=db(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,y,v,b)=>p==="x"?y:p==="r"?b:v,a=n.xAxisID=qe(r.xAxisID,fb(t,"x")),s=n.yAxisID=qe(r.yAxisID,fb(t,"y")),l=n.rAxisID=qe(r.rAxisID,fb(t,"r")),u=n.indexAxis,f=n.iAxisID=i(u,a,s,l),m=n.vAxisID=i(u,s,a,l);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wP(this._data,this),t._stacked&&Xu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(et(n)){const i=this._cachedMeta;this._data=_pe(n,i)}else if(r!==n){if(r){wP(r,this);const i=this._cachedMeta;Xu(i),i._parsed=[]}n&&Object.isExtensible(n)&&hme(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=db(n.vScale,n),n.stack!==r.stack&&(i=!0,Xu(n),n.stack=r.stack),this._resyncElements(t),(i||a!==n._stacked)&&(zP(this,n._parsed),n._stacked=db(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:s}=r,l=a.axis;let u=t===0&&n===i.length?!0:r._sorted,f=t>0&&r._parsed[t-1],m,p,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{dn(i[t])?y=this.parseArrayData(r,i,t,n):et(i[t])?y=this.parseObjectData(r,i,t,n):y=this.parsePrimitiveData(r,i,t,n);const v=()=>p[l]===null||f&&p[l]<f[l];for(m=0;m<n;++m)r._parsed[m+t]=p=y[m],u&&(v()&&(u=!1),f=p);r._sorted=u}s&&zP(this,y)}parsePrimitiveData(t,n,r,i){const{iScale:a,vScale:s}=t,l=a.axis,u=s.axis,f=a.getLabels(),m=a===s,p=new Array(i);let y,v,b;for(y=0,v=i;y<v;++y)b=y+r,p[y]={[l]:m||a.parse(f[b],b),[u]:s.parse(n[b],b)};return p}parseArrayData(t,n,r,i){const{xScale:a,yScale:s}=t,l=new Array(i);let u,f,m,p;for(u=0,f=i;u<f;++u)m=u+r,p=n[m],l[u]={x:a.parse(p[0],m),y:s.parse(p[1],m)};return l}parseObjectData(t,n,r,i){const{xScale:a,yScale:s}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=new Array(i);let m,p,y,v;for(m=0,p=i;m<p;++m)y=m+r,v=n[y],f[m]={x:a.parse(Go(v,l),y),y:s.parse(Go(v,u),y)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,a=this._cachedMeta,s=n[t.axis],l={keys:H$(i,!0),values:n._stacks[t.axis]._visualValues};return IP(l,s,a.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const a=r[n.axis];let s=a===null?NaN:a;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,s=IP(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,s=i.length,l=this._getOtherScale(t),u=Tpe(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=Mpe(l);let y,v;function b(){v=i[y];const w=v[l.axis];return!tr(v[t.axis])||m>w||p<w}for(y=0;y<s&&!(!b()&&(this.updateRangeFromParsed(f,t,v,u),a));++y);if(a){for(y=s-1;y>=0;--y)if(!b()){this.updateRangeFromParsed(f,t,v,u);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,a,s;for(i=0,a=n.length;i<a;++i)s=n[i][t.axis],tr(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Npe(qe(this.options.clip,jpe(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,s=[],l=this._drawStart||0,u=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(t,a,l,u),m=l;m<l+u;++m){const p=i[m];p.hidden||(p.active&&f?s.push(p):p.draw(t,a))}for(m=0;m<s.length;++m)s[m].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];a=s.$context||(s.$context=Epe(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Cpe(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",a=this._cachedDataOpts,s=t+"-"+n,l=a[s],u=this.enableOptionSharing&&Kd(r);if(l)return BP(l,u);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],y=f.getOptionScopes(this.getDataset(),m),v=Object.keys(Jt.elements[t]),b=()=>this.getContext(r,i,n),w=f.resolveNamedOptions(y,v,b,p);return w.$shared&&(w.$shared=u,a[s]=Object.freeze(BP(w,u))),w}_resolveAnimations(t,n,r){const i=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,l=a[s];if(l)return l;let u;if(i.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,n),y=m.getOptionScopes(this.getDataset(),p);u=m.createResolver(y,this.getContext(t,r,n))}const f=new F$(i,u&&u.animations);return u&&u._cacheable&&(a[s]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||hb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:s}}updateElement(t,n,r,i){hb(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!hb(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,u,f]of this._syncList)this[l](u,f);this._syncList=[];const i=r.length,a=n.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,n,r=!0){const i=this._cachedMeta,a=i.data,s=t+n;let l;const u=f=>{for(f.length+=n,l=f.length-1;l>=s;l--)f[l]=f[l-n]};for(u(a),l=t;l<s;++l)a[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Xu(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ope(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=A$(r.sort((i,a)=>i-a))}return e._cache.$bar}function Ppe(e){const t=e.iScale,n=Ope(t,e.type);let r=t._length,i,a,s,l;const u=()=>{s===32767||s===-32768||(Kd(l)&&(r=Math.min(r,Math.abs(s-l)||r)),l=s)};for(i=0,a=n.length;i<a;++i)s=t.getPixelForValue(n[i]),u();for(l=void 0,i=0,a=t.ticks.length;i<a;++i)s=t.getPixelForTick(i),u();return r}function Dpe(e,t,n,r){const i=n.barThickness;let a,s;return ot(i)?(a=t.min*n.categoryPercentage,s=n.barPercentage):(a=i*r,s=1),{chunk:a/r,ratio:s,start:t.pixels[e]-a/2}}function Rpe(e,t,n,r){const i=t.pixels,a=i[e];let s=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const u=n.categoryPercentage;s===null&&(s=a-(l===null?t.end-t.start:l-a)),l===null&&(l=a+a-s);const f=a-(a-Math.min(s,l))/2*u;return{chunk:Math.abs(l-s)/2*u/r,ratio:n.barPercentage,start:f}}function Lpe(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),s=Math.min(i,a),l=Math.max(i,a);let u=s,f=l;Math.abs(s)>Math.abs(l)&&(u=l,f=s),t[n.axis]=f,t._custom={barStart:u,barEnd:f,start:i,end:a,min:s,max:l}}function q$(e,t,n,r){return dn(e)?Lpe(e,t,n,r):t[n.axis]=n.parse(e,r),t}function VP(e,t,n,r){const i=e.iScale,a=e.vScale,s=i.getLabels(),l=i===a,u=[];let f,m,p,y;for(f=n,m=n+r;f<m;++f)y=t[f],p={},p[i.axis]=l||i.parse(s[f],f),u.push(q$(y,p,a,f));return u}function mb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Ipe(e,t,n){return e!==0?Fi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function $pe(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}function zpe(e,t,n,r){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:l,reverse:u,top:f,bottom:m}=$pe(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=f:(n._bottom||0)===r?i=m:(a[UP(m,s,l,u)]=!0,i=f)),a[UP(i,s,l,u)]=!0,e.borderSkipped=a}function UP(e,t,n,r){return r?(e=Bpe(e,t,n),e=FP(e,n,t)):e=FP(e,t,n),e}function Bpe(e,t,n){return e===t?n:e===n?t:e}function FP(e,t,n){return e==="start"?t:e==="end"?n:e}function Vpe(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Upe extends zg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return VP(t,n,r,i)}parseArrayData(t,n,r,i){return VP(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:a,vScale:s}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=a.axis==="x"?l:u,m=s.axis==="x"?l:u,p=[];let y,v,b,w;for(y=r,v=r+i;y<v;++y)w=n[y],b={},b[a.axis]=a.parse(Go(w,f),y),p.push(q$(Go(w,m),b,s,y));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(t),s=a._custom,l=mb(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const a=i==="reset",{index:s,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),f=l.isHorizontal(),m=this._getRuler(),{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const b=this.getParsed(v),w=a||ot(b[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,m),A=(b._stacks||{})[l.axis],_={horizontal:f,base:w.base,enableBorderRadius:!A||mb(b._custom)||s===A._top||s===A._bottom,x:f?w.head:j.center,y:f?j.center:w.head,height:f?j.size:Math.abs(w.size),width:f?Math.abs(w.size):j.size};y&&(_.options=p||this.resolveDataElementOptions(v,t[v].active?"active":i));const k=_.options||t[v].options;zpe(_,k,A,s),Vpe(_,k,m.ratio),this.updateElement(t[v],v,_,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[r.axis],f=m=>{const p=m._parsed.find(v=>v[r.axis]===u),y=p&&p[m.vScale.axis];if(ot(y)||isNaN(y))return!0};for(const m of i)if(!(n!==void 0&&f(m))&&((a===!1||s.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&s.push(m.stack),m.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[qe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,s;for(a=0,s=n.data.length;a<s;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const l=t.barThickness;return{min:l||Ppe(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:s}}=this,l=a||0,u=this.getParsed(t),f=u._custom,m=mb(f);let p=u[n.axis],y=0,v=r?this.applyStack(n,u,r):p,b,w;v!==p&&(y=v-p,v=p),m&&(p=f.barStart,v=f.barEnd-f.barStart,p!==0&&Fi(p)!==Fi(f.barEnd)&&(y=0),y+=p);const j=!ot(a)&&!m?a:y;let A=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(y+v):b=A,w=b-A,Math.abs(w)<s){w=Ipe(w,n,l)*s,p===l&&(A-=w/2);const _=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),E=Math.min(_,k),M=Math.max(_,k);A=Math.max(Math.min(A,M),E),b=A+w,r&&!m&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(A))}if(A===n.getPixelForValue(l)){const _=Fi(w)*n.getLineWidthForValue(l)/2;A+=_,w-=_}return{size:w,base:A,head:b,center:b+w/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,a=i.skipNull,s=qe(i.maxBarThickness,1/0);let l,u;const f=this._getAxisCount();if(n.grouped){const m=a?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?Rpe(t,n,i,m*f):Dpe(t,n,i,m*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(qe(y,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+v;l=p.start+p.chunk*b+p.chunk/2,u=Math.min(s,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(s,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function Fpe(e,t,n){let r=1,i=1,a=0,s=0;if(t<Bt){const l=e,u=l+t,f=Math.cos(l),m=Math.sin(l),p=Math.cos(u),y=Math.sin(u),v=(k,E,M)=>Xd(k,l,u,!0)?1:Math.max(E,E*n,M,M*n),b=(k,E,M)=>Xd(k,l,u,!0)?-1:Math.min(E,E*n,M,M*n),w=v(0,f,p),j=v(xn,m,y),A=b(pt,f,p),_=b(pt+xn,m,y);r=(w-A)/2,i=(j-_)/2,a=-(w+A)/2,s=-(j+_)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:s}}class Hpe extends zg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((a,s)=>{const u=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=u=>+r[u];if(et(r[t])){const{key:u="value"}=this._parsing;a=f=>+Go(r[f],u)}let s,l;for(s=t,l=t+n;s<l;++s)i._parsed[s]=a(s)}}_getRotation(){return ja(this.options.rotation-90)}_getCircumference(){return ja(this.options.circumference)}_getRotationExtents(){let t=Bt,n=-Bt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),s=i._getCircumference();t=Math.min(t,a),n=Math.max(n,a+s)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-s)/2,0),u=Math.min(Zhe(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:m,rotation:p}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:b,offsetY:w}=Fpe(p,m,u),j=(r.width-s)/y,A=(r.height-s)/v,_=Math.max(Math.min(j,A)/2,0),k=w$(this.options.radius,_),E=Math.max(k*u,0),M=(k-E)/this._getVisibleDatasetWeightTotal();this.offsetX=b*k,this.offsetY=w*k,i.total=this.calculateTotal(),this.outerRadius=k-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Bt)}updateElements(t,n,r,i){const a=i==="reset",s=this.chart,l=s.chartArea,f=s.options.animation,m=(l.left+l.right)/2,p=(l.top+l.bottom)/2,y=a&&f.animateScale,v=y?0:this.innerRadius,b=y?0:this.outerRadius,{sharedOptions:w,includeOptions:j}=this._getSharedOptions(n,i);let A=this._getRotation(),_;for(_=0;_<n;++_)A+=this._circumference(_,a);for(_=n;_<n+r;++_){const k=this._circumference(_,a),E=t[_],M={x:m+this.offsetX,y:p+this.offsetY,startAngle:A,endAngle:A+k,circumference:k,outerRadius:b,innerRadius:v};j&&(M.options=w||this.resolveDataElementOptions(_,E.active?"active":i)),A+=k,this.updateElement(E,_,M,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Bt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Jj(n._parsed[t],r.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,a,s,l,u;if(!t){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){s=r.getDatasetMeta(i),t=s.data,l=s.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class qpe extends zg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,s=this.chart._animationsDisabled;let{start:l,count:u}=gme(n,i,s);this._drawStart=l,this._drawCount=u,yme(n)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:f},t),this.updateElements(i,l,u,t)}updateElements(t,n,r,i){const a=i==="reset",{iScale:s,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(n,i),y=s.axis,v=l.axis,{spanGaps:b,segment:w}=this.options,j=Zd(b)?b:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||a||i==="none",_=n+r,k=t.length;let E=n>0&&this.getParsed(n-1);for(let M=0;M<k;++M){const O=t[M],L=A?O:{};if(M<n||M>=_){L.skip=!0;continue}const D=this.getParsed(M),R=ot(D[v]),F=L[y]=s.getPixelForValue(D[y],M),I=L[v]=a||R?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,D,u):D[v],M);L.skip=isNaN(F)||isNaN(I)||R,L.stop=M>0&&Math.abs(D[y]-E[y])>j,w&&(L.parsed=D,L.raw=f.data[M]),p&&(L.options=m||this.resolveDataElementOptions(M,O.active?"active":i)),A||this.updateElement(O,M,L,i),E=D}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class s2{static override(t){Object.assign(s2.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return mo()}parse(){return mo()}format(){return mo()}add(){return mo()}diff(){return mo()}startOf(){return mo()}endOf(){return mo()}}var Wpe={_date:s2};function Gpe(e,t,n,r){const{controller:i,data:a,_sorted:s}=e,l=i._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&s&&a.length){const f=l._reversePixels?dme:Co;if(r){if(i._sharedOptions){const m=a[0],p=typeof m.getRange=="function"&&m.getRange(t);if(p){const y=f(a,t,n-p),v=f(a,t,n+p);return{lo:y.lo,hi:v.hi}}}}else{const m=f(a,t,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:y}=e,v=y.slice(0,m.lo+1).reverse().findIndex(w=>!ot(w[p.axis]));m.lo-=Math.max(0,v);const b=y.slice(m.hi).findIndex(w=>!ot(w[p.axis]));m.hi+=Math.max(0,b)}return m}}return{lo:0,hi:a.length-1}}function Bg(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),s=n[t];for(let l=0,u=a.length;l<u;++l){const{index:f,data:m}=a[l],{lo:p,hi:y}=Gpe(a[l],t,s,i);for(let v=p;v<=y;++v){const b=m[v];b.skip||r(b,f,v)}}}function Ype(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,s=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function pb(e,t,n,r,i){const a=[];return!i&&!e.isPointInArea(t)||Bg(e,n,t,function(l,u,f){!i&&!Qd(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&a.push({element:l,datasetIndex:u,index:f})},!0),a}function Kpe(e,t,n,r){let i=[];function a(s,l,u){const{startAngle:f,endAngle:m}=s.getProps(["startAngle","endAngle"],r),{angle:p}=N$(s,{x:t.x,y:t.y});Xd(p,f,m)&&i.push({element:s,datasetIndex:l,index:u})}return Bg(e,n,t,a),i}function Zpe(e,t,n,r,i,a){let s=[];const l=Ype(n);let u=Number.POSITIVE_INFINITY;function f(m,p,y){const v=m.inRange(t.x,t.y,i);if(r&&!v)return;const b=m.getCenterPoint(i);if(!(!!a||e.isPointInArea(b))&&!v)return;const j=l(t,b);j<u?(s=[{element:m,datasetIndex:p,index:y}],u=j):j===u&&s.push({element:m,datasetIndex:p,index:y})}return Bg(e,n,t,f),s}function gb(e,t,n,r,i,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?Kpe(e,t,n,i):Zpe(e,t,n,r,i,a)}function HP(e,t,n,r,i){const a=[],s=n==="x"?"inXRange":"inYRange";let l=!1;return Bg(e,n,t,(u,f,m)=>{u[s]&&u[s](t[n],i)&&(a.push({element:u,datasetIndex:f,index:m}),l=l||u.inRange(t.x,t.y,i))}),r&&!l?[]:a}var Xpe={modes:{index(e,t,n,r){const i=bo(t,e),a=n.axis||"x",s=n.includeInvisible||!1,l=n.intersect?pb(e,i,a,r,s):gb(e,i,a,!1,r,s),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const m=l[0].index,p=f.data[m];p&&!p.skip&&u.push({element:p,datasetIndex:f.index,index:m})}),u):[]},dataset(e,t,n,r){const i=bo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;let l=n.intersect?pb(e,i,a,r,s):gb(e,i,a,!1,r,s);if(l.length>0){const u=l[0].datasetIndex,f=e.getDatasetMeta(u).data;l=[];for(let m=0;m<f.length;++m)l.push({element:f[m],datasetIndex:u,index:m})}return l},point(e,t,n,r){const i=bo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return pb(e,i,a,r,s)},nearest(e,t,n,r){const i=bo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return gb(e,i,a,n.intersect,r,s)},x(e,t,n,r){const i=bo(t,e);return HP(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=bo(t,e);return HP(e,i,"y",n.intersect,r)}}};const W$=["left","top","right","bottom"];function Qu(e,t){return e.filter(n=>n.pos===t)}function qP(e,t){return e.filter(n=>W$.indexOf(n.pos)===-1&&n.box.axis===t)}function Ju(e,t){return e.sort((n,r)=>{const i=t?r:n,a=t?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function Qpe(e){const t=[];let n,r,i,a,s,l;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:a,options:{stack:s,stackWeight:l=1}}=i,t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:l});return t}function Jpe(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!W$.includes(i))continue;const s=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}function ege(e,t){const n=Jpe(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,s,l;for(a=0,s=e.length;a<s;++a){l=e[a];const{fullSize:u}=l.box,f=n[l.stack],m=f&&l.stackWeight/f.weight;l.horizontal?(l.width=m?m*r:u&&t.availableWidth,l.height=i):(l.width=r,l.height=m?m*i:u&&t.availableHeight)}return n}function tge(e){const t=Qpe(e),n=Ju(t.filter(f=>f.box.fullSize),!0),r=Ju(Qu(t,"left"),!0),i=Ju(Qu(t,"right")),a=Ju(Qu(t,"top"),!0),s=Ju(Qu(t,"bottom")),l=qP(t,"x"),u=qP(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(u).concat(s).concat(l),chartArea:Qu(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:a.concat(s).concat(l)}}function WP(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function G$(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function nge(e,t,n,r){const{pos:i,box:a}=n,s=e.maxPadding;if(!et(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?a.height:a.width),n.size=p.size/p.count,e[i]+=n.size}a.getPadding&&G$(s,a.getPadding());const l=Math.max(0,t.outerWidth-WP(s,e,"left","right")),u=Math.max(0,t.outerHeight-WP(s,e,"top","bottom")),f=l!==e.w,m=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:f,other:m}:{same:m,other:f}}function rge(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function ige(e,t){const n=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(t[s],n[s])}),a}return r(e?["left","right"]:["top","bottom"])}function dd(e,t,n,r){const i=[];let a,s,l,u,f,m;for(a=0,s=e.length,f=0;a<s;++a){l=e[a],u=l.box,u.update(l.width||t.w,l.height||t.h,ige(l.horizontal,t));const{same:p,other:y}=nge(t,n,l,r);f|=p&&i.length,m=m||y,u.fullSize||i.push(l)}return f&&dd(i,t,n,r)||m}function jm(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function GP(e,t,n,r){const i=n.padding;let{x:a,y:s}=t;for(const l of e){const u=l.box,f=r[l.stack]||{placed:0,weight:1},m=l.stackWeight/f.weight||1;if(l.horizontal){const p=t.w*m,y=f.size||u.height;Kd(f.start)&&(s=f.start),u.fullSize?jm(u,i.left,s,n.outerWidth-i.right-i.left,y):jm(u,t.left+f.placed,s,p,y),f.start=s,f.placed+=p,s=u.bottom}else{const p=t.h*m,y=f.size||u.width;Kd(f.start)&&(a=f.start),u.fullSize?jm(u,a,i.top,y,n.outerHeight-i.bottom-i.top):jm(u,a,t.top+f.placed,y,p),f.start=a,f.placed+=p,a=u.right}}t.x=a,t.y=s}var oi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=di(e.options.layout.padding),a=Math.max(t-i.width,0),s=Math.max(n-i.height,0),l=tge(e.boxes),u=l.vertical,f=l.horizontal;ht(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=u.reduce((w,j)=>j.box.options&&j.box.options.display===!1?w:w+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/m,hBoxMaxHeight:s/2}),y=Object.assign({},i);G$(y,di(r));const v=Object.assign({maxPadding:y,w:a,h:s,x:i.left,y:i.top},i),b=ege(u.concat(f),p);dd(l.fullSize,v,p,b),dd(u,v,p,b),dd(f,v,p,b)&&dd(u,v,p,b),rge(v),GP(l.leftAndTop,v,p,b),v.x+=v.w,v.y+=v.h,GP(l.rightAndBottom,v,p,b),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},ht(l.chartArea,w=>{const j=w.box;Object.assign(j,e.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Y${acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class age extends Y${acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $m="$chartjs",sge={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YP=e=>e===null||e==="";function oge(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[$m]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",YP(i)){const a=TP(e,"width");a!==void 0&&(e.width=a)}if(YP(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=TP(e,"height");a!==void 0&&(e.height=a)}return e}const K$=spe?{passive:!0}:!1;function lge(e,t,n){e&&e.addEventListener(t,n,K$)}function cge(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,K$)}function uge(e,t){const n=sge[e.type]||e.type,{x:r,y:i}=bo(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Vp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function dge(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let s=!1;for(const l of a)s=s||Vp(l.addedNodes,r),s=s&&!Vp(l.removedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function fge(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let s=!1;for(const l of a)s=s||Vp(l.removedNodes,r),s=s&&!Vp(l.addedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ef=new Map;let KP=0;function Z$(){const e=window.devicePixelRatio;e!==KP&&(KP=e,ef.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function hge(e,t){ef.size||window.addEventListener("resize",Z$),ef.set(e,t)}function mge(e){ef.delete(e),ef.size||window.removeEventListener("resize",Z$)}function pge(e,t,n){const r=e.canvas,i=r&&a2(r);if(!i)return;const a=k$((l,u)=>{const f=i.clientWidth;n(l,u),f<i.clientWidth&&n()},window),s=new ResizeObserver(l=>{const u=l[0],f=u.contentRect.width,m=u.contentRect.height;f===0&&m===0||a(f,m)});return s.observe(i),hge(e,a),s}function yb(e,t,n){n&&n.disconnect(),t==="resize"&&mge(e)}function gge(e,t,n){const r=e.canvas,i=k$(a=>{e.ctx!==null&&n(uge(a,e))},e);return lge(r,t,i),i}class yge extends Y${acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(oge(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[$m])return!1;const r=n[$m].initial;["height","width"].forEach(a=>{const s=r[a];ot(s)?n.removeAttribute(a):n.setAttribute(a,s)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[$m],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),s={attach:dge,detach:fge,resize:pge}[n]||gge;i[n]=s(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:yb,detach:yb,resize:yb}[n]||cge)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return ape(t,n,r,i)}isAttached(t){const n=t&&a2(t);return!!(n&&n.isConnected)}}function vge(e){return!i2()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?age:yge}let Ha=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Zd(this.x)&&Zd(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}};function xge(e,t){const n=e.options.ticks,r=bge(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?Sge(t):[],s=a.length,l=a[0],u=a[s-1],f=[];if(s>i)return jge(t,f,a,s/i),f;const m=wge(a,t,i);if(s>0){let p,y;const v=s>1?Math.round((u-l)/(s-1)):null;for(Nm(t,f,m,ot(v)?0:l-v,l),p=0,y=s-1;p<y;p++)Nm(t,f,m,a[p],a[p+1]);return Nm(t,f,m,u,ot(v)?t.length:u+v),f}return Nm(t,f,m),f}function bge(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function wge(e,t,n){const r=Nge(e),i=t.length/n;if(!r)return Math.max(i,1);const a=ime(r);for(let s=0,l=a.length-1;s<l;s++){const u=a[s];if(u>i)return u}return Math.max(i,1)}function Sge(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function jge(e,t,n,r){let i=0,a=n[0],s;for(r=Math.ceil(r),s=0;s<e.length;s++)s===a&&(t.push(e[s]),i++,a=n[i*r])}function Nm(e,t,n,r,i){const a=qe(r,0),s=Math.min(qe(i,e.length),e.length);let l=0,u,f,m;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),m=a;m<0;)l++,m=Math.round(a+l*n);for(f=Math.max(a,0);f<s;f++)f===m&&(t.push(e[f]),l++,m=Math.round(a+l*n))}function Nge(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const _ge=e=>e==="left"?"right":e==="right"?"left":e,ZP=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,XP=(e,t)=>Math.min(t||e,e);function QP(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function Age(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,l=1e-6;let u=e.getPixelForTick(i),f;if(!(n&&(r===1?f=Math.max(u-a,s-u):t===0?f=(e.getPixelForTick(1)-u)/2:f=(u-e.getPixelForTick(i-1))/2,u+=i<t?f:-f,u<a-l||u>s+l)))return u}function Mge(e,t){ht(e,n=>{const r=n.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function ed(e){return e.drawTicks?e.tickLength:0}function JP(e,t){if(!e.display)return 0;const n=Jn(e.font,t),r=di(e.padding);return(dn(e.text)?e.text.length:1)*n.lineHeight+r.height}function kge(e,t){return il(e,{scale:t,type:"scale"})}function Cge(e,t,n){return il(e,{tick:n,index:t,type:"tick"})}function Ege(e,t,n){let r=Xj(e);return(n&&t!=="right"||!n&&t==="right")&&(r=_ge(r)),r}function Tge(e,t,n,r){const{top:i,left:a,bottom:s,right:l,chart:u}=e,{chartArea:f,scales:m}=u;let p=0,y,v,b;const w=s-i,j=l-a;if(e.isHorizontal()){if(v=Gn(r,a,l),et(n)){const A=Object.keys(n)[0],_=n[A];b=m[A].getPixelForValue(_)+w-t}else n==="center"?b=(f.bottom+f.top)/2+w-t:b=ZP(e,n,t);y=l-a}else{if(et(n)){const A=Object.keys(n)[0],_=n[A];v=m[A].getPixelForValue(_)-j+t}else n==="center"?v=(f.left+f.right)/2-j+t:v=ZP(e,n,t);b=Gn(r,s,i),p=n==="left"?-xn:xn}return{titleX:v,titleY:b,maxWidth:y,rotation:p}}class Uc extends Ha{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Oi(t,Number.POSITIVE_INFINITY),n=Oi(n,Number.NEGATIVE_INFINITY),r=Oi(r,Number.POSITIVE_INFINITY),i=Oi(i,Number.NEGATIVE_INFINITY),{min:Oi(t,r),max:Oi(n,i),minDefined:tr(t),maxDefined:tr(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),s;if(i&&a)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,f=l.length;u<f;++u)s=l[u].controller.getMinMax(this,t),i||(n=Math.min(n,s.min)),a||(r=Math.max(r,s.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:Oi(n,Oi(r,n)),max:Oi(r,Oi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:a,ticks:s}=this.options,l=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ime(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?QP(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=xge(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=Mt(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=XP(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let s=i,l,u,f;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),p=m.widest.width,y=m.highest.height,v=Qn(this.chart.width-p,0,this.maxWidth);l=t.offset?this.maxWidth/r:v/(r-1),p+6>l&&(l=v/(r-(t.offset?.5:1)),u=this.maxHeight-ed(t.grid)-n.padding-JP(t.title,this.chart.options.font),f=Math.sqrt(p*p+y*y),s=lme(Math.min(Math.asin(Qn((m.highest.height+6)/l,-1,1)),Math.asin(Qn(u/f,-1,1))-Math.asin(Qn(y/f,-1,1)))),s=Math.max(i,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,s=this._isVisible(),l=this.isHorizontal();if(s){const u=JP(i,n.options.font);if(l?(t.width=this.maxWidth,t.height=ed(a)+u):(t.height=this.maxHeight,t.width=ed(a)+u),r.display&&this.ticks.length){const{first:f,last:m,widest:p,highest:y}=this._getLabelSizes(),v=r.padding*2,b=ja(this.labelRotation),w=Math.cos(b),j=Math.sin(b);if(l){const A=r.mirror?0:j*p.width+w*y.height;t.height=Math.min(this.maxHeight,t.height+A+v)}else{const A=r.mirror?0:w*p.width+j*y.height;t.width=Math.min(this.maxWidth,t.width+A+v)}this._calculatePadding(f,m,j,w)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:a,padding:s},position:l}=this.options,u=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?f?(y=i*t.width,v=r*n.height):(y=r*t.height,v=i*n.width):a==="start"?v=n.width:a==="end"?y=t.width:a!=="inner"&&(y=t.width/2,v=n.width/2),this.paddingLeft=Math.max((y-m+s)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-p+s)*this.width/(this.width-p),0)}else{let m=n.height/2,p=t.height/2;a==="start"?(m=0,p=t.height):a==="end"&&(m=n.height,p=0),this.paddingTop=m+s,this.paddingBottom=p+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)ot(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=QP(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:a}=this,s=[],l=[],u=Math.floor(n/XP(n,r));let f=0,m=0,p,y,v,b,w,j,A,_,k,E,M;for(p=0;p<n;p+=u){if(b=t[p].label,w=this._resolveTickFontOptions(p),i.font=j=w.string,A=a[j]=a[j]||{data:{},gc:[]},_=w.lineHeight,k=E=0,!ot(b)&&!dn(b))k=AP(i,A.data,A.gc,k,b),E=_;else if(dn(b))for(y=0,v=b.length;y<v;++y)M=b[y],!ot(M)&&!dn(M)&&(k=AP(i,A.data,A.gc,k,M),E+=_);s.push(k),l.push(E),f=Math.max(k,f),m=Math.max(E,m)}Mge(a,n);const O=s.indexOf(f),L=l.indexOf(m),D=R=>({width:s[R]||0,height:l[R]||0});return{first:D(0),last:D(n-1),widest:D(O),highest:D(L),widths:s,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return ume(this._alignToPixels?ho(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=Cge(this.getContext(),t,r))}return this.$context||(this.$context=kge(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ja(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,l=a?a.widest.width+s:0,u=a?a.highest.height+s:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:s,border:l}=i,u=a.offset,f=this.isHorizontal(),p=this.ticks.length+(u?1:0),y=ed(a),v=[],b=l.setContext(this.getContext()),w=b.display?b.width:0,j=w/2,A=function(H){return ho(r,H,w)};let _,k,E,M,O,L,D,R,F,I,V,q;if(s==="top")_=A(this.bottom),L=this.bottom-y,R=_-j,I=A(t.top)+j,q=t.bottom;else if(s==="bottom")_=A(this.top),I=t.top,q=A(t.bottom)-j,L=_+j,R=this.top+y;else if(s==="left")_=A(this.right),O=this.right-y,D=_-j,F=A(t.left)+j,V=t.right;else if(s==="right")_=A(this.left),F=t.left,V=A(t.right)-j,O=_+j,D=this.left+y;else if(n==="x"){if(s==="center")_=A((t.top+t.bottom)/2+.5);else if(et(s)){const H=Object.keys(s)[0],z=s[H];_=A(this.chart.scales[H].getPixelForValue(z))}I=t.top,q=t.bottom,L=_+j,R=L+y}else if(n==="y"){if(s==="center")_=A((t.left+t.right)/2);else if(et(s)){const H=Object.keys(s)[0],z=s[H];_=A(this.chart.scales[H].getPixelForValue(z))}O=_-j,D=O-y,F=t.left,V=t.right}const re=qe(i.ticks.maxTicksLimit,p),se=Math.max(1,Math.ceil(p/re));for(k=0;k<p;k+=se){const H=this.getContext(k),z=a.setContext(H),G=l.setContext(H),ie=z.lineWidth,$=z.color,Q=G.dash||[],ne=G.dashOffset,ue=z.tickWidth,xe=z.tickColor,J=z.tickBorderDash||[],le=z.tickBorderDashOffset;E=Age(this,k,u),E!==void 0&&(M=ho(r,E,ie),f?O=D=F=V=M:L=R=I=q=M,v.push({tx1:O,ty1:L,tx2:D,ty2:R,x1:F,y1:I,x2:V,y2:q,width:ie,color:$,borderDash:Q,borderDashOffset:ne,tickWidth:ue,tickColor:xe,tickBorderDash:J,tickBorderDashOffset:le}))}return this._ticksLength=p,this._borderValue=_,v}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:a}=r,s=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:f,padding:m,mirror:p}=a,y=ed(r.grid),v=y+m,b=p?-m:v,w=-ja(this.labelRotation),j=[];let A,_,k,E,M,O,L,D,R,F,I,V,q="middle";if(i==="top")O=this.bottom-b,L=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+b,L=this._getXAxisLabelAlignment();else if(i==="left"){const se=this._getYAxisLabelAlignment(y);L=se.textAlign,M=se.x}else if(i==="right"){const se=this._getYAxisLabelAlignment(y);L=se.textAlign,M=se.x}else if(n==="x"){if(i==="center")O=(t.top+t.bottom)/2+v;else if(et(i)){const se=Object.keys(i)[0],H=i[se];O=this.chart.scales[se].getPixelForValue(H)+v}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")M=(t.left+t.right)/2-v;else if(et(i)){const se=Object.keys(i)[0],H=i[se];M=this.chart.scales[se].getPixelForValue(H)}L=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?q="top":u==="end"&&(q="bottom"));const re=this._getLabelSizes();for(A=0,_=l.length;A<_;++A){k=l[A],E=k.label;const se=a.setContext(this.getContext(A));D=this.getPixelForTick(A)+a.labelOffset,R=this._resolveTickFontOptions(A),F=R.lineHeight,I=dn(E)?E.length:1;const H=I/2,z=se.color,G=se.textStrokeColor,ie=se.textStrokeWidth;let $=L;s?(M=D,L==="inner"&&(A===_-1?$=this.options.reverse?"left":"right":A===0?$=this.options.reverse?"right":"left":$="center"),i==="top"?f==="near"||w!==0?V=-I*F+F/2:f==="center"?V=-re.highest.height/2-H*F+F:V=-re.highest.height+F/2:f==="near"||w!==0?V=F/2:f==="center"?V=re.highest.height/2-H*F:V=re.highest.height-I*F,p&&(V*=-1),w!==0&&!se.showLabelBackdrop&&(M+=F/2*Math.sin(w))):(O=D,V=(1-I)*F/2);let Q;if(se.showLabelBackdrop){const ne=di(se.backdropPadding),ue=re.heights[A],xe=re.widths[A];let J=V-ne.top,le=0-ne.left;switch(q){case"middle":J-=ue/2;break;case"bottom":J-=ue;break}switch(L){case"center":le-=xe/2;break;case"right":le-=xe;break;case"inner":A===_-1?le-=xe:A>0&&(le-=xe/2);break}Q={left:le,top:J,width:xe+ne.width,height:ue+ne.height,color:se.backdropColor}}j.push({label:E,font:R,textOffset:V,options:{rotation:w,color:z,strokeColor:G,strokeWidth:ie,textAlign:$,textBaseline:q,translation:[M,O],backdrop:Q}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ja(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,s=this._getLabelSizes(),l=t+a,u=s.widest.width;let f,m;return n==="left"?i?(m=this.right+a,r==="near"?f="left":r==="center"?(f="center",m+=u/2):(f="right",m+=u)):(m=this.right-l,r==="near"?f="right":r==="center"?(f="center",m-=u/2):(f="left",m=this.left)):n==="right"?i?(m=this.left+a,r==="near"?f="right":r==="center"?(f="center",m-=u/2):(f="left",m-=u)):(m=this.left+l,r==="near"?f="left":r==="center"?(f="center",m+=u/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:a,height:s}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,a,s),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const l=(u,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,s=i.length;a<s;++a){const u=i[a];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),s=r.display?a.width:0;if(!s)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,m,p,y;this.isHorizontal()?(f=ho(t,this.left,s)-s/2,m=ho(t,this.right,l)+l/2,p=y=u):(p=ho(t,this.top,s)-s/2,y=ho(t,this.bottom,l)+l/2,f=m=u),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,p),n.lineTo(m,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Lg(r,i);const a=this.getLabelItems(t);for(const s of a){const l=s.options,u=s.font,f=s.label,m=s.textOffset;Jd(r,f,0,m,u,l)}i&&Ig(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=Jn(r.font),s=di(r.padding),l=r.align;let u=a.lineHeight/2;n==="bottom"||n==="center"||et(n)?(u+=s.bottom,dn(r.text)&&(u+=a.lineHeight*(r.text.length-1))):u+=s.top;const{titleX:f,titleY:m,maxWidth:p,rotation:y}=Tge(this,u,n,l);Jd(t,r.text,0,0,a,{color:r.color,maxWidth:p,rotation:y,textAlign:Ege(l,n,i),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=qe(t.grid&&t.grid.z,-1),i=qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Uc.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,s;for(a=0,s=n.length;a<s;++a){const l=n[a];l[r]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Jn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class _m{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;Dge(n)&&(r=this.register(n));const i=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,Oge(t,s,r),this.override&&Jt.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Jt[i]&&(delete Jt[i][r],this.override&&delete Yo[r])}}function Oge(e,t,n){const r=Yd(Object.create(null),[n?Jt.get(n):{},Jt.get(t),e.defaults]);Jt.set(t,r),e.defaultRoutes&&Pge(t,e.defaultRoutes),e.descriptors&&Jt.describe(t,e.descriptors)}function Pge(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),s=t[n].split("."),l=s.pop(),u=s.join(".");Jt.route(a,i,u,l)})}function Dge(e){return"id"in e&&"defaults"in e}class Rge{constructor(){this.controllers=new _m(zg,"datasets",!0),this.elements=new _m(Ha,"elements"),this.plugins=new _m(Object,"plugins"),this.scales=new _m(Uc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):ht(i,s=>{const l=r||this._getRegistryForType(s);this._exec(t,l,s)})})}_exec(t,n,r){const i=Kj(t);Mt(r["before"+i],[],r),n[t](r),Mt(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Di=new Rge;class Lge{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,n,r,i){i=i||{};for(const a of t){const s=a.plugin,l=s[r],u=[n,i,a.options];if(Mt(l,u,s)===!1&&i.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=qe(r.options&&r.options.plugins,{}),a=Ige(r);return i===!1&&!n?[]:zge(t,a,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(a,s)=>a.filter(l=>!s.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function Ige(e){const t={},n=[],r=Object.keys(Di.plugins.items);for(let a=0;a<r.length;a++)n.push(Di.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const s=i[a];n.indexOf(s)===-1&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}function $ge(e,t){return!t&&e===!1?null:e===!0?{}:e}function zge(e,{plugins:t,localIds:n},r,i){const a=[],s=e.getContext();for(const l of t){const u=l.id,f=$ge(r[u],i);f!==null&&a.push({plugin:l,options:Bge(e.config,{plugin:l,local:n[u]},f,s)})}return a}function Bge(e,{plugin:t,local:n},r,i){const a=e.pluginScopeKeys(t),s=e.getOptionScopes(r,a);return n&&t.defaults&&s.push(t.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function K1(e,t){const n=Jt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Vge(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Uge(e,t){return e===t?"_index_":"_value_"}function eD(e){if(e==="x"||e==="y"||e==="r")return e}function Fge(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Z1(e,...t){if(eD(e))return e;for(const n of t){const r=n.axis||Fge(n.position)||e.length>1&&eD(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function tD(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Hge(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return tD(e,"x",n[0])||tD(e,"y",n[0])}return{}}function qge(e,t){const n=Yo[e.type]||{scales:{}},r=t.scales||{},i=K1(e.type,t),a=Object.create(null);return Object.keys(r).forEach(s=>{const l=r[s];if(!et(l))return console.error(`Invalid scale configuration for scale: ${s}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const u=Z1(s,l,Hge(s,e),Jt.scales[l.type]),f=Uge(u,i),m=n.scales||{};a[s]=wd(Object.create(null),[{axis:u},l,m[u],m[f]])}),e.data.datasets.forEach(s=>{const l=s.type||e.type,u=s.indexAxis||K1(l,t),m=(Yo[l]||{}).scales||{};Object.keys(m).forEach(p=>{const y=Vge(p,u),v=s[y+"AxisID"]||y;a[v]=a[v]||Object.create(null),wd(a[v],[{axis:y},r[v],m[p]])})}),Object.keys(a).forEach(s=>{const l=a[s];wd(l,[Jt.scales[l.type],Jt.scale])}),a}function X$(e){const t=e.options||(e.options={});t.plugins=qe(t.plugins,{}),t.scales=qge(e,t)}function Q$(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Wge(e){return e=e||{},e.data=Q$(e.data),X$(e),e}const nD=new Map,J$=new Set;function Am(e,t){let n=nD.get(e);return n||(n=t(),nD.set(e,n),J$.add(n)),n}const td=(e,t,n)=>{const r=Go(t,n);r!==void 0&&e.add(r)};class Gge{constructor(t){this._config=Wge(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Q$(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),X$(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Am(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Am(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Am(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Am(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:a}=this,s=this._cachedScopes(t,r),l=s.get(n);if(l)return l;const u=new Set;n.forEach(m=>{t&&(u.add(t),m.forEach(p=>td(u,t,p))),m.forEach(p=>td(u,i,p)),m.forEach(p=>td(u,Yo[a]||{},p)),m.forEach(p=>td(u,Jt,p)),m.forEach(p=>td(u,G1,p))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),J$.has(n)&&s.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,Yo[n]||{},Jt.datasets[n]||{},{type:n},Jt,G1]}resolveNamedOptions(t,n,r,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:l}=rD(this._resolverCache,t,i);let u=s;if(Kge(s,n)){a.$shared=!1,r=Rs(r)?r():r;const f=this.createResolver(t,r,l);u=Nc(s,r,f)}for(const f of n)a[f]=u[f];return a}createResolver(t,n,r=[""],i){const{resolver:a}=rD(this._resolverCache,t,r);return et(n)?Nc(a,n,void 0,i):a}}function rD(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);return a||(a={resolver:t2(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,a)),a}const Yge=e=>et(e)&&Object.getOwnPropertyNames(e).some(t=>Rs(e[t]));function Kge(e,t){const{isScriptable:n,isIndexable:r}=O$(e);for(const i of t){const a=n(i),s=r(i),l=(s||a)&&e[i];if(a&&(Rs(l)||Yge(l))||s&&dn(l))return!0}return!1}var Zge="4.5.0";const Xge=["top","bottom","left","right","chartArea"];function iD(e,t){return e==="top"||e==="bottom"||Xge.indexOf(e)===-1&&t==="x"}function aD(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function sD(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Mt(n&&n.onComplete,[e],t)}function Qge(e){const t=e.chart,n=t.options.animation;Mt(n&&n.onProgress,[e],t)}function ez(e){return i2()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const zm={},oD=e=>{const t=ez(e);return Object.values(zm).filter(n=>n.canvas===t).pop()};function Jge(e,t,n){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const s=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=s)}}}function e0e(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let al=class{static defaults=Jt;static instances=zm;static overrides=Yo;static registry=Di;static version=Zge;static getChart=oD;static register(...t){Di.add(...t),lD()}static unregister(...t){Di.remove(...t),lD()}constructor(t,n){const r=this.config=new Gge(n),i=ez(t),a=oD(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vge(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,s.aspectRatio),u=l&&l.canvas,f=u&&u.height,m=u&&u.width;if(this.id=Khe(),this.ctx=l,this.canvas=u,this.width=m,this.height=f,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Lge,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mme(p=>this.update(p),s.resizeDelay||0),this._dataChanges=[],zm[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}pa.listen(this,"complete",sD),pa.listen(this,"progress",Qge),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return ot(t)?n&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Di}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():EP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MP(this.canvas,this.ctx),this}stop(){return pa.stop(this),this}resize(t,n){pa.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,n,a),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,EP(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Mt(r.onResize,[this,s],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ht(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((s,l)=>(s[l]=!1,s),{});let a=[];n&&(a=a.concat(Object.keys(n).map(s=>{const l=n[s],u=Z1(s,l),f=u==="r",m=u==="x";return{options:l,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),ht(a,s=>{const l=s.options,u=l.id,f=Z1(u,l),m=qe(l.type,s.dtype);(l.position===void 0||iD(l.position,f)!==iD(s.dposition))&&(l.position=s.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===m)p=r[u];else{const y=Di.getScale(m);p=new y({id:u,type:m,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,t)}),ht(i,(s,l)=>{s||delete r[l]}),ht(r,s=>{oi.configure(this,s,s.options),oi.addBox(this,s)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(aD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let s=this.getDatasetMeta(r);const l=a.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=l,s.indexAxis=a.indexAxis||K1(l,this.options),s.order=a.order||0,s.index=r,s.label=""+a.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const u=Di.getController(l),{datasetElementType:f,dataElementType:m}=Jt.datasets[l];Object.assign(u,{dataElementType:Di.getElement(m),datasetElementType:f&&Di.getElement(f)}),s.controller=new u(this,r),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){ht(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:p}=this.getDatasetMeta(f),y=!i&&a.indexOf(p)===-1;p.buildOrUpdateElements(y),s=Math.max(+p.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||ht(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(aD("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ht(this.scales,t=>{oi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!yP(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const s=r==="_removeElements"?-a:a;Jge(t,i,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(s=>s[0]===a).map((s,l)=>l+","+s.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!yP(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oi.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ht(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pa.has(this)?this.attached&&!pa.running(this)&&pa.start(this):(this.draw(),sD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const s=n[i];(!t||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=U$(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Lg(n,i),t.controller.draw(),i&&Ig(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Qd(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const a=Xpe.modes[n];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=il(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,i);Kd(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),s.update(a,{visible:r}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),pa.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),MP(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete zm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,s)=>{n.addEventListener(this,a,s),t[a]=s},i=(a,s,l)=>{a.offsetX=s,a.offsetY=l,this._eventHandler(a)};ht(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(u,f)=>{n.addEventListener(this,u,f),t[u]=f},i=(u,f)=>{t[u]&&(n.removeEventListener(this,u,f),delete t[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)};let s;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():s()}unbindEvents(){ht(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ht(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let a,s,l,u;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){s=t[l];const f=s&&this.getDatasetMeta(s.datasetIndex).controller;f&&f[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:s})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[s],index:s}});!Lp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,a=(u,f)=>u.filter(m=>!f.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),s=a(n,t),l=r?t:a(t,n);s.length&&this.updateHoverStyle(s,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:a}=this,s=n,l=this._getActiveElements(t,i,r,s),u=tme(t),f=e0e(t,this._lastEvent,r,u);r&&(this._lastEvent=null,Mt(a.onHover,[t,l,this],this),u&&Mt(a.onClick,[t,l,this],this));const m=!Lp(l,i);return(m||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=f,m}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}};function lD(){return ht(al.instances,e=>e._plugins.invalidate())}function t0e(e,t,n){const{startAngle:r,x:i,y:a,outerRadius:s,innerRadius:l,options:u}=t,{borderWidth:f,borderJoinStyle:m}=u,p=Math.min(f/s,Pr(r-n));if(e.beginPath(),e.arc(i,a,s-f/2,r+p/2,n-p/2),l>0){const y=Math.min(f/l,Pr(r-n));e.arc(i,a,l+f/2,n-y/2,r+y/2,!0)}else{const y=Math.min(f/2,s*Pr(r-n));if(m==="round")e.arc(i,a,y,n-pt/2,r+pt/2,!0);else if(m==="bevel"){const v=2*y*y,b=-v*Math.cos(n+pt/2)+i,w=-v*Math.sin(n+pt/2)+a,j=v*Math.cos(r+pt/2)+i,A=v*Math.sin(r+pt/2)+a;e.lineTo(b,w),e.lineTo(j,A)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function n0e(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:s,outerRadius:l,innerRadius:u}=t;let f=i/l;e.beginPath(),e.arc(a,s,l,r-f,n+f),u>i?(f=i/u,e.arc(a,s,u,n+f,r-f,!0)):e.arc(a,s,i,n+xn,r-xn),e.closePath(),e.clip()}function r0e(e){return e2(e,["outerStart","outerEnd","innerStart","innerEnd"])}function i0e(e,t,n,r){const i=r0e(e.options.borderRadius),a=(n-t)/2,s=Math.min(a,r*t/2),l=u=>{const f=(n-Math.min(a,u))*r/2;return Qn(u,0,Math.min(a,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Qn(i.innerStart,0,s),innerEnd:Qn(i.innerEnd,0,s)}}function Kl(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Up(e,t,n,r,i,a){const{x:s,y:l,startAngle:u,pixelMargin:f,innerRadius:m}=t,p=Math.max(t.outerRadius+r+n-f,0),y=m>0?m+r+n+f:0;let v=0;const b=i-u;if(r){const se=m>0?m-r:0,H=p>0?p-r:0,z=(se+H)/2,G=z!==0?b*z/(z+r):b;v=(b-G)/2}const w=Math.max(.001,b*p-n/pt)/p,j=(b-w)/2,A=u+j+v,_=i-j-v,{outerStart:k,outerEnd:E,innerStart:M,innerEnd:O}=i0e(t,y,p,_-A),L=p-k,D=p-E,R=A+k/L,F=_-E/D,I=y+M,V=y+O,q=A+M/I,re=_-O/V;if(e.beginPath(),a){const se=(R+F)/2;if(e.arc(s,l,p,R,se),e.arc(s,l,p,se,F),E>0){const ie=Kl(D,F,s,l);e.arc(ie.x,ie.y,E,F,_+xn)}const H=Kl(V,_,s,l);if(e.lineTo(H.x,H.y),O>0){const ie=Kl(V,re,s,l);e.arc(ie.x,ie.y,O,_+xn,re+Math.PI)}const z=(_-O/y+(A+M/y))/2;if(e.arc(s,l,y,_-O/y,z,!0),e.arc(s,l,y,z,A+M/y,!0),M>0){const ie=Kl(I,q,s,l);e.arc(ie.x,ie.y,M,q+Math.PI,A-xn)}const G=Kl(L,A,s,l);if(e.lineTo(G.x,G.y),k>0){const ie=Kl(L,R,s,l);e.arc(ie.x,ie.y,k,A-xn,R)}}else{e.moveTo(s,l);const se=Math.cos(R)*p+s,H=Math.sin(R)*p+l;e.lineTo(se,H);const z=Math.cos(F)*p+s,G=Math.sin(F)*p+l;e.lineTo(z,G)}e.closePath()}function a0e(e,t,n,r,i){const{fullCircles:a,startAngle:s,circumference:l}=t;let u=t.endAngle;if(a){Up(e,t,n,r,u,i);for(let f=0;f<a;++f)e.fill();isNaN(l)||(u=s+(l%Bt||Bt))}return Up(e,t,n,r,u,i),e.fill(),u}function s0e(e,t,n,r,i){const{fullCircles:a,startAngle:s,circumference:l,options:u}=t,{borderWidth:f,borderJoinStyle:m,borderDash:p,borderDashOffset:y,borderRadius:v}=u,b=u.borderAlign==="inner";if(!f)return;e.setLineDash(p||[]),e.lineDashOffset=y,b?(e.lineWidth=f*2,e.lineJoin=m||"round"):(e.lineWidth=f,e.lineJoin=m||"bevel");let w=t.endAngle;if(a){Up(e,t,n,r,w,i);for(let j=0;j<a;++j)e.stroke();isNaN(l)||(w=s+(l%Bt||Bt))}b&&n0e(e,t,w),u.selfJoin&&w-s>=pt&&v===0&&m!=="miter"&&t0e(e,t,w),a||(Up(e,t,n,r,w,i),e.stroke())}class o0e extends Ha{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:a,distance:s}=N$(i,{x:t,y:n}),{startAngle:l,endAngle:u,innerRadius:f,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,v=qe(p,u-l),b=Xd(a,l,u)&&l!==u,w=v>=Bt||b,j=Na(s,f+y,m+y);return w&&j}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:a,innerRadius:s,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:f}=this.options,m=(i+a)/2,p=(s+l+f+u)/2;return{x:n+Math.cos(m)*p,y:r+Math.sin(m)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Bt?Math.floor(r/Bt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(pt,r||0)),f=i*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,a0e(t,this,f,a,s),s0e(t,this,f,a,s),t.restore()}}function tz(e,t,n=t){e.lineCap=qe(n.borderCapStyle,t.borderCapStyle),e.setLineDash(qe(n.borderDash,t.borderDash)),e.lineDashOffset=qe(n.borderDashOffset,t.borderDashOffset),e.lineJoin=qe(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=qe(n.borderWidth,t.borderWidth),e.strokeStyle=qe(n.borderColor,t.borderColor)}function l0e(e,t,n){e.lineTo(n.x,n.y)}function c0e(e){return e.stepped?kme:e.tension||e.cubicInterpolationMode==="monotone"?Cme:l0e}function nz(e,t,n={}){const r=e.length,{start:i=0,end:a=r-1}=n,{start:s,end:l}=t,u=Math.max(i,s),f=Math.min(a,l),m=i<s&&a<s||i>l&&a>l;return{count:r,start:u,loop:t.loop,ilen:f<u&&!m?r+f-u:f-u}}function u0e(e,t,n,r){const{points:i,options:a}=t,{count:s,start:l,loop:u,ilen:f}=nz(i,n,r),m=c0e(a);let{move:p=!0,reverse:y}=r||{},v,b,w;for(v=0;v<=f;++v)b=i[(l+(y?f-v:v))%s],!b.skip&&(p?(e.moveTo(b.x,b.y),p=!1):m(e,w,b,y,a.stepped),w=b);return u&&(b=i[(l+(y?f:0))%s],m(e,w,b,y,a.stepped)),!!u}function d0e(e,t,n,r){const i=t.points,{count:a,start:s,ilen:l}=nz(i,n,r),{move:u=!0,reverse:f}=r||{};let m=0,p=0,y,v,b,w,j,A;const _=E=>(s+(f?l-E:E))%a,k=()=>{w!==j&&(e.lineTo(m,j),e.lineTo(m,w),e.lineTo(m,A))};for(u&&(v=i[_(0)],e.moveTo(v.x,v.y)),y=0;y<=l;++y){if(v=i[_(y)],v.skip)continue;const E=v.x,M=v.y,O=E|0;O===b?(M<w?w=M:M>j&&(j=M),m=(p*m+E)/++p):(k(),e.lineTo(E,M),b=O,p=0,w=j=M),A=M}k()}function X1(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?d0e:u0e}function f0e(e){return e.stepped?ope:e.tension||e.cubicInterpolationMode==="monotone"?lpe:wo}function h0e(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),tz(e,t.options),e.stroke(i)}function m0e(e,t,n,r){const{segments:i,options:a}=t,s=X1(t);for(const l of i)tz(e,a,l.style),e.beginPath(),s(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const p0e=typeof Path2D=="function";function g0e(e,t,n,r){p0e&&!t.options.segment?h0e(e,t,n,r):m0e(e,t,n,r)}class sl extends Ha{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Jme(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=mpe(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],a=this.points,s=V$(this,{property:n,start:i,end:i});if(!s.length)return;const l=[],u=f0e(r);let f,m;for(f=0,m=s.length;f<m;++f){const{start:p,end:y}=s[f],v=a[p],b=a[y];if(v===b){l.push(v);continue}const w=Math.abs((i-v[n])/(b[n]-v[n])),j=u(v,b,w,r.stepped);j[n]=t[n],l.push(j)}return l.length===1?l[0]:l}pathSegment(t,n,r){return X1(this)(t,this,n,r)}path(t,n,r){const i=this.segments,a=X1(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)s&=a(t,this,l,{start:n,end:n+r-1});return!!s}draw(t,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),g0e(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function cD(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}class Vg extends Ha{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:a,y:s}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(n-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return cD(this,t,"x",n)}inYRange(t,n){return cD(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Qd(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Y1(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function rz(e,t){const{x:n,y:r,base:i,width:a,height:s}=e.getProps(["x","y","base","width","height"],t);let l,u,f,m,p;return e.horizontal?(p=s/2,l=Math.min(n,i),u=Math.max(n,i),f=r-p,m=r+p):(p=a/2,l=n-p,u=n+p,f=Math.min(r,i),m=Math.max(r,i)),{left:l,top:f,right:u,bottom:m}}function As(e,t,n,r){return e?0:Qn(t,n,r)}function y0e(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=T$(r);return{t:As(i.top,a.top,0,n),r:As(i.right,a.right,0,t),b:As(i.bottom,a.bottom,0,n),l:As(i.left,a.left,0,t)}}function v0e(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=uc(i),s=Math.min(t,n),l=e.borderSkipped,u=r||et(i);return{topLeft:As(!u||l.top||l.left,a.topLeft,0,s),topRight:As(!u||l.top||l.right,a.topRight,0,s),bottomLeft:As(!u||l.bottom||l.left,a.bottomLeft,0,s),bottomRight:As(!u||l.bottom||l.right,a.bottomRight,0,s)}}function x0e(e){const t=rz(e),n=t.right-t.left,r=t.bottom-t.top,i=y0e(e,n/2,r/2),a=v0e(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function vb(e,t,n,r){const i=t===null,a=n===null,l=e&&!(i&&a)&&rz(e,r);return l&&(i||Na(t,l.left,l.right))&&(a||Na(n,l.top,l.bottom))}function b0e(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function w0e(e,t){e.rect(t.x,t.y,t.w,t.h)}function xb(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+s,radius:e.radius}}class o2 extends Ha{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:s}=x0e(this),l=b0e(s.radius)?zp:w0e;t.save(),(s.w!==a.w||s.h!==a.h)&&(t.beginPath(),l(t,xb(s,n,a)),t.clip(),l(t,xb(a,-n,s)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,xb(a,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return vb(this,t,n,r)}inXRange(t,n){return vb(this,t,null,n)}inYRange(t,n){return vb(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function S0e(e,t,n){const r=e.segments,i=e.points,a=t.points,s=[];for(const l of r){let{start:u,end:f}=l;f=Ug(u,f,i);const m=Q1(n,i[u],i[f],l.loop);if(!t.segments){s.push({source:l,target:m,start:i[u],end:i[f]});continue}const p=V$(t,m);for(const y of p){const v=Q1(n,a[y.start],a[y.end],y.loop),b=B$(l,i,v);for(const w of b)s.push({source:w,target:y,start:{[n]:uD(m,v,"start",Math.max)},end:{[n]:uD(m,v,"end",Math.min)}})}}return s}function Q1(e,t,n,r){if(r)return;let i=t[e],a=n[e];return e==="angle"&&(i=Pr(i),a=Pr(a)),{property:e,start:i,end:a}}function j0e(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:s,end:l})=>{l=Ug(s,l,i);const u=i[s],f=i[l];r!==null?(a.push({x:u.x,y:r}),a.push({x:f.x,y:r})):n!==null&&(a.push({x:n,y:u.y}),a.push({x:n,y:f.y}))}),a}function Ug(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function uD(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function iz(e,t){let n=[],r=!1;return dn(e)?(r=!0,n=e):n=j0e(e,t),n.length?new sl({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function dD(e){return e&&e.fill!==!1}function N0e(e,t,n){let i=e[t].fill;const a=[t];let s;if(!n)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!tr(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function _0e(e,t,n){const r=C0e(e);if(et(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return tr(i)&&Math.floor(i)===i?A0e(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function A0e(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function M0e(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:et(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function k0e(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:et(e)?r=e.value:r=t.getBaseValue(),r}function C0e(e){const t=e.options,n=t.fill;let r=qe(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function E0e(e){const{scale:t,index:n,line:r}=e,i=[],a=r.segments,s=r.points,l=T0e(t,n);l.push(iz({x:null,y:t.bottom},r));for(let u=0;u<a.length;u++){const f=a[u];for(let m=f.start;m<=f.end;m++)O0e(i,s[m],l)}return new sl({points:i,options:{}})}function T0e(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function O0e(e,t,n){const r=[];for(let i=0;i<n.length;i++){const a=n[i],{first:s,last:l,point:u}=P0e(a,t,"x");if(!(!u||s&&l)){if(s)r.unshift(u);else if(e.push(u),!l)break}}e.push(...r)}function P0e(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],a=e.segments,s=e.points;let l=!1,u=!1;for(let f=0;f<a.length;f++){const m=a[f],p=s[m.start][n],y=s[m.end][n];if(Na(i,p,y)){l=i===p,u=i===y;break}}return{first:l,last:u,point:r}}class az{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:a,radius:s}=this;return n=n||{start:0,end:Bt},t.arc(i,a,s,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,a=t.angle;return{x:n+Math.cos(a)*i,y:r+Math.sin(a)*i,angle:a}}}function D0e(e){const{chart:t,fill:n,line:r}=e;if(tr(n))return R0e(t,n);if(n==="stack")return E0e(e);if(n==="shape")return!0;const i=L0e(e);return i instanceof az?i:iz(i,r)}function R0e(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function L0e(e){return(e.scale||{}).getPointPositionForValue?$0e(e):I0e(e)}function I0e(e){const{scale:t={},fill:n}=e,r=M0e(n,t);if(tr(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function $0e(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,s=k0e(n,t,a),l=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,a);return new az({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(s)})}for(let u=0;u<i;++u)l.push(t.getPointPositionForValue(u,s));return l}function bb(e,t,n){const r=D0e(t),{chart:i,index:a,line:s,scale:l,axis:u}=t,f=s.options,m=f.fill,p=f.backgroundColor,{above:y=p,below:v=p}=m||{},b=i.getDatasetMeta(a),w=U$(i,b);r&&s.points.length&&(Lg(e,n),z0e(e,{line:s,target:r,above:y,below:v,area:n,scale:l,axis:u,clip:w}),Ig(e))}function z0e(e,t){const{line:n,target:r,above:i,below:a,area:s,scale:l,clip:u}=t,f=n._loop?"angle":t.axis;e.save();let m=a;a!==i&&(f==="x"?(fD(e,r,s.top),wb(e,{line:n,target:r,color:i,scale:l,property:f,clip:u}),e.restore(),e.save(),fD(e,r,s.bottom)):f==="y"&&(hD(e,r,s.left),wb(e,{line:n,target:r,color:a,scale:l,property:f,clip:u}),e.restore(),e.save(),hD(e,r,s.right),m=i)),wb(e,{line:n,target:r,color:m,scale:l,property:f,clip:u}),e.restore()}function fD(e,t,n){const{segments:r,points:i}=t;let a=!0,s=!1;e.beginPath();for(const l of r){const{start:u,end:f}=l,m=i[u],p=i[Ug(u,f,i)];a?(e.moveTo(m.x,m.y),a=!1):(e.lineTo(m.x,n),e.lineTo(m.x,m.y)),s=!!t.pathSegment(e,l,{move:s}),s?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function hD(e,t,n){const{segments:r,points:i}=t;let a=!0,s=!1;e.beginPath();for(const l of r){const{start:u,end:f}=l,m=i[u],p=i[Ug(u,f,i)];a?(e.moveTo(m.x,m.y),a=!1):(e.lineTo(n,m.y),e.lineTo(m.x,m.y)),s=!!t.pathSegment(e,l,{move:s}),s?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function wb(e,t){const{line:n,target:r,property:i,color:a,scale:s,clip:l}=t,u=S0e(n,r,i);for(const{source:f,target:m,start:p,end:y}of u){const{style:{backgroundColor:v=a}={}}=f,b=r!==!0;e.save(),e.fillStyle=v,B0e(e,s,l,b&&Q1(i,p,y)),e.beginPath();const w=!!n.pathSegment(e,f);let j;if(b){w?e.closePath():mD(e,r,y,i);const A=!!r.pathSegment(e,m,{move:w,reverse:!0});j=w&&A,j||mD(e,r,p,i)}e.closePath(),e.fill(j?"evenodd":"nonzero"),e.restore()}}function B0e(e,t,n,r){const i=t.chart.chartArea,{property:a,start:s,end:l}=r||{};if(a==="x"||a==="y"){let u,f,m,p;a==="x"?(u=s,f=i.top,m=l,p=i.bottom):(u=i.left,f=s,m=i.right,p=l),e.beginPath(),n&&(u=Math.max(u,n.left),m=Math.min(m,n.right),f=Math.max(f,n.top),p=Math.min(p,n.bottom)),e.rect(u,f,m-u,p-f),e.clip()}}function mD(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var sz={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let a,s,l,u;for(s=0;s<r;++s)a=e.getDatasetMeta(s),l=a.dataset,u=null,l&&l.options&&l instanceof sl&&(u={visible:e.isDatasetVisible(s),index:s,fill:_0e(l,s,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=u,i.push(u);for(s=0;s<r;++s)u=i[s],!(!u||u.fill===!1)&&(u.fill=N0e(i,s,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let s=i.length-1;s>=0;--s){const l=i[s].$filler;l&&(l.line.updateControlPoints(a,l.axis),r&&l.fill&&bb(e.ctx,l,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const a=r[i].$filler;dD(a)&&bb(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!dD(r)||n.drawTime!=="beforeDatasetDraw"||bb(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const pD=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},V0e=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class gD extends Ha{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Mt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Jn(r.font),a=i.size,s=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=pD(r,a);let f,m;n.font=i.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(s,a,l,u)+10):(m=this.maxHeight,f=this._fitCols(s,i,l,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:a,maxWidth:s,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],m=i+l;let p=t;a.textAlign="left",a.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((b,w)=>{const j=r+n/2+a.measureText(b.text).width;(w===0||f[f.length-1]+j+2*l>s)&&(p+=m,f[f.length-(w>0?0:1)]=0,v+=m,y++),u[w]={left:0,top:v,row:y,width:j,height:i},f[f.length-1]+=j+l}),p}_fitCols(t,n,r,i){const{ctx:a,maxHeight:s,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],m=s-t;let p=l,y=0,v=0,b=0,w=0;return this.legendItems.forEach((j,A)=>{const{itemWidth:_,itemHeight:k}=U0e(r,n,a,j,i);A>0&&v+k+2*l>m&&(p+=y+l,f.push({width:y,height:v}),b+=y+l,w++,y=v=0),u[A]={left:b,top:v,col:w,width:_,height:k},y=Math.max(y,_),v+=k+l}),p+=y,f.push({width:y,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,s=dc(a,this.left,this.width);if(this.isHorizontal()){let l=0,u=Gn(r,this.left+i,this.right-this.lineWidths[l]);for(const f of n)l!==f.row&&(l=f.row,u=Gn(r,this.left+i,this.right-this.lineWidths[l])),f.top+=this.top+t+i,f.left=s.leftForLtr(s.x(u),f.width),u+=f.width+i}else{let l=0,u=Gn(r,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const f of n)f.col!==l&&(l=f.col,u=Gn(r,this.top+t+i,this.bottom-this.columnSizes[l].height)),f.top=u,f.left+=this.left+i,f.left=s.leftForLtr(s.x(f.left),f.width),u+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Lg(t,this),this._draw(),Ig(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:s}=t,l=Jt.color,u=dc(t.rtl,this.left,this.width),f=Jn(s.font),{padding:m}=s,p=f.size,y=p/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:b,boxHeight:w,itemHeight:j}=pD(s,p),A=function(O,L,D){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;i.save();const R=qe(D.lineWidth,1);if(i.fillStyle=qe(D.fillStyle,l),i.lineCap=qe(D.lineCap,"butt"),i.lineDashOffset=qe(D.lineDashOffset,0),i.lineJoin=qe(D.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=qe(D.strokeStyle,l),i.setLineDash(qe(D.lineDash,[])),s.usePointStyle){const F={radius:w*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:R},I=u.xPlus(O,b/2),V=L+y;E$(i,F,I,V,s.pointStyleWidth&&b)}else{const F=L+Math.max((p-w)/2,0),I=u.leftForLtr(O,b),V=uc(D.borderRadius);i.beginPath(),Object.values(V).some(q=>q!==0)?zp(i,{x:I,y:F,w:b,h:w,radius:V}):i.rect(I,F,b,w),i.fill(),R!==0&&i.stroke()}i.restore()},_=function(O,L,D){Jd(i,D.text,O,L+j/2,f,{strikethrough:D.hidden,textAlign:u.textAlign(D.textAlign)})},k=this.isHorizontal(),E=this._computeTitleHeight();k?v={x:Gn(a,this.left+m,this.right-r[0]),y:this.top+m+E,line:0}:v={x:this.left+m,y:Gn(a,this.top+E+m,this.bottom-n[0].height),line:0},I$(this.ctx,t.textDirection);const M=j+m;this.legendItems.forEach((O,L)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const D=i.measureText(O.text).width,R=u.textAlign(O.textAlign||(O.textAlign=s.textAlign)),F=b+y+D;let I=v.x,V=v.y;u.setWidth(this.width),k?L>0&&I+F+m>this.right&&(V=v.y+=M,v.line++,I=v.x=Gn(a,this.left+m,this.right-r[v.line])):L>0&&V+M>this.bottom&&(I=v.x=I+n[v.line].width+m,v.line++,V=v.y=Gn(a,this.top+E+m,this.bottom-n[v.line].height));const q=u.x(I);if(A(q,V,O),I=pme(R,I+b+y,k?I+F:this.right,t.rtl),_(u.x(I),V,O),k)v.x+=F+m;else if(typeof O.text!="string"){const re=f.lineHeight;v.y+=oz(O,re)+m}else v.y+=M}),$$(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Jn(n.font),i=di(n.padding);if(!n.display)return;const a=dc(t.rtl,this.left,this.width),s=this.ctx,l=n.position,u=r.size/2,f=i.top+u;let m,p=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+f,p=Gn(t.align,p,this.right-y);else{const b=this.columnSizes.reduce((w,j)=>Math.max(w,j.height),0);m=f+Gn(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const v=Gn(l,p,p+y);s.textAlign=a.textAlign(Xj(l)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=r.string,Jd(s,n.text,v,m,r)}_computeTitleHeight(){const t=this.options.title,n=Jn(t.font),r=di(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,a;if(Na(t,this.left,this.right)&&Na(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],Na(t,i.left,i.left+i.width)&&Na(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!q0e(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=V0e(i,r);i&&!a&&Mt(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!a&&Mt(n.onHover,[t,r,this],this)}else r&&Mt(n.onClick,[t,r,this],this)}}function U0e(e,t,n,r,i){const a=F0e(r,e,t,n),s=H0e(i,r,t.lineHeight);return{itemWidth:a,itemHeight:s}}function F0e(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,s)=>a.length>s.length?a:s)),t+n.size/2+r.measureText(i).width}function H0e(e,t,n){let r=e;return typeof t.text!="string"&&(r=oz(t,n)),r}function oz(e,t){const n=e.text?e.text.length:0;return t*n}function q0e(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Fg={id:"legend",_element:gD,start(e,t,n){const r=e.legend=new gD({ctx:e.ctx,options:n,chart:e});oi.configure(e,r,n),oi.addBox(e,r)},stop(e){oi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;oi.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:s,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(n?0:void 0),m=di(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:s&&(l||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class lz extends Ha{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=dn(r.text)?r.text.length:1;this._padding=di(r.padding);const a=i*Jn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:a,options:s}=this,l=s.align;let u=0,f,m,p;return this.isHorizontal()?(m=Gn(l,r,a),p=n+t,f=a-r):(s.position==="left"?(m=r+t,p=Gn(l,i,n),u=pt*-.5):(m=a-t,p=Gn(l,n,i),u=pt*.5),f=i-n),{titleX:m,titleY:p,maxWidth:f,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Jn(n.font),a=r.lineHeight/2+this._padding.top,{titleX:s,titleY:l,maxWidth:u,rotation:f}=this._drawArgs(a);Jd(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:f,textAlign:Xj(n.align),textBaseline:"middle",translation:[s,l]})}}function W0e(e,t){const n=new lz({ctx:e.ctx,options:t,chart:e});oi.configure(e,n,t),oi.addBox(e,n),e.titleBlock=n}var l2={id:"title",_element:lz,start(e,t,n){W0e(e,n)},stop(e){const t=e.titleBlock;oi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;oi.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fd={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,a,s,l;for(a=0,s=e.length;a<s;++a){const u=e[a].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),m=W1(t,f);m<i&&(i=m,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Pi(e,t){return t&&(dn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ga(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function G0e(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:s,value:l}=a.getLabelAndValue(i);return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function yD(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:s,boxHeight:l}=t,u=Jn(t.bodyFont),f=Jn(t.titleFont),m=Jn(t.footerFont),p=a.length,y=i.length,v=r.length,b=di(t.padding);let w=b.height,j=0,A=r.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(A+=e.beforeBody.length+e.afterBody.length,p&&(w+=p*f.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),A){const E=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;w+=v*E+(A-v)*u.lineHeight+(A-1)*t.bodySpacing}y&&(w+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let _=0;const k=function(E){j=Math.max(j,n.measureText(E).width+_)};return n.save(),n.font=f.string,ht(e.title,k),n.font=u.string,ht(e.beforeBody.concat(e.afterBody),k),_=t.displayColors?s+2+t.boxPadding:0,ht(r,E=>{ht(E.before,k),ht(E.lines,k),ht(E.after,k)}),_=0,n.font=m.string,ht(e.footer,k),n.restore(),j+=b.width,{width:j,height:w}}function Y0e(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function K0e(e,t,n,r){const{x:i,width:a}=r,s=n.caretSize+n.caretPadding;if(e==="left"&&i+a+s>t.width||e==="right"&&i-a-s<0)return!0}function Z0e(e,t,n,r){const{x:i,width:a}=n,{width:s,chartArea:{left:l,right:u}}=e;let f="center";return r==="center"?f=i<=(l+u)/2?"left":"right":i<=a/2?f="left":i>=s-a/2&&(f="right"),K0e(f,e,t,n)&&(f="center"),f}function vD(e,t,n){const r=n.yAlign||t.yAlign||Y0e(e,n);return{xAlign:n.xAlign||t.xAlign||Z0e(e,t,n,r),yAlign:r}}function X0e(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function Q0e(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function xD(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:s}=e,{xAlign:l,yAlign:u}=n,f=i+a,{topLeft:m,topRight:p,bottomLeft:y,bottomRight:v}=uc(s);let b=X0e(t,l);const w=Q0e(t,u,f);return u==="center"?l==="left"?b+=f:l==="right"&&(b-=f):l==="left"?b-=Math.max(m,y)+i:l==="right"&&(b+=Math.max(p,v)+i),{x:Qn(b,0,r.width-t.width),y:Qn(w,0,r.height-t.height)}}function Mm(e,t,n){const r=di(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function bD(e){return Pi([],ga(e))}function J0e(e,t,n){return il(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function wD(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const cz={beforeTitle:ha,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ha,beforeBody:ha,beforeLabel:ha,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ot(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ha,afterBody:ha,beforeFooter:ha,footer:ha,afterFooter:ha};function mr(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?cz[t].call(n,r):i}class SD extends Ha{static positioners=fd;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new F$(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=J0e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=mr(r,"beforeTitle",this,t),a=mr(r,"title",this,t),s=mr(r,"afterTitle",this,t);let l=[];return l=Pi(l,ga(i)),l=Pi(l,ga(a)),l=Pi(l,ga(s)),l}getBeforeBody(t,n){return bD(mr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return ht(t,a=>{const s={before:[],lines:[],after:[]},l=wD(r,a);Pi(s.before,ga(mr(l,"beforeLabel",this,a))),Pi(s.lines,mr(l,"label",this,a)),Pi(s.after,ga(mr(l,"afterLabel",this,a))),i.push(s)}),i}getAfterBody(t,n){return bD(mr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=mr(r,"beforeFooter",this,t),a=mr(r,"footer",this,t),s=mr(r,"afterFooter",this,t);let l=[];return l=Pi(l,ga(i)),l=Pi(l,ga(a)),l=Pi(l,ga(s)),l}_createItems(t){const n=this._active,r=this.chart.data,i=[],a=[],s=[];let l=[],u,f;for(u=0,f=n.length;u<f;++u)l.push(G0e(this.chart,n[u]));return t.filter&&(l=l.filter((m,p,y)=>t.filter(m,p,y,r))),t.itemSort&&(l=l.sort((m,p)=>t.itemSort(m,p,r))),ht(l,m=>{const p=wD(t.callbacks,m);i.push(mr(p,"labelColor",this,m)),a.push(mr(p,"labelPointStyle",this,m)),s.push(mr(p,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,s=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=fd[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const u=this._size=yD(this,r),f=Object.assign({},l,u),m=vD(this.chart,r,f),p=xD(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const a=this.getCaretPosition(t,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:s,cornerRadius:l}=r,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:p}=uc(l),{x:y,y:v}=t,{width:b,height:w}=n;let j,A,_,k,E,M;return a==="center"?(E=v+w/2,i==="left"?(j=y,A=j-s,k=E+s,M=E-s):(j=y+b,A=j+s,k=E-s,M=E+s),_=j):(i==="left"?A=y+Math.max(u,m)+s:i==="right"?A=y+b-Math.max(f,p)-s:A=this.caretX,a==="top"?(k=v,E=k-s,j=A-s,_=A+s):(k=v+w,E=k+s,j=A+s,_=A-s),M=k),{x1:j,x2:A,x3:_,y1:k,y2:E,y3:M}}drawTitle(t,n,r){const i=this.title,a=i.length;let s,l,u;if(a){const f=dc(r.rtl,this.x,this.width);for(t.x=Mm(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",s=Jn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,u=0;u<a;++u)n.fillText(i[u],f.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,u+1===a&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,i,a){const s=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:f}=a,m=Jn(a.bodyFont),p=Mm(this,"left",a),y=i.x(p),v=u<m.lineHeight?(m.lineHeight-u)/2:0,b=n.y+v;if(a.usePointStyle){const w={radius:Math.min(f,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},j=i.leftForLtr(y,f)+f/2,A=b+u/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Y1(t,w,j,A),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Y1(t,w,j,A)}else{t.lineWidth=et(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const w=i.leftForLtr(y,f),j=i.leftForLtr(i.xPlus(y,1),f-2),A=uc(s.borderRadius);Object.values(A).some(_=>_!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,zp(t,{x:w,y:b,w:f,h:u,radius:A}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),zp(t,{x:j,y:b+1,w:f-2,h:u-2,radius:A}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(w,b,f,u),t.strokeRect(w,b,f,u),t.fillStyle=s.backgroundColor,t.fillRect(j,b+1,f-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:s,displayColors:l,boxHeight:u,boxWidth:f,boxPadding:m}=r,p=Jn(r.bodyFont);let y=p.lineHeight,v=0;const b=dc(r.rtl,this.x,this.width),w=function(D){n.fillText(D,b.x(t.x+v),t.y+y/2),t.y+=y+a},j=b.textAlign(s);let A,_,k,E,M,O,L;for(n.textAlign=s,n.textBaseline="middle",n.font=p.string,t.x=Mm(this,j,r),n.fillStyle=r.bodyColor,ht(this.beforeBody,w),v=l&&j!=="right"?s==="center"?f/2+m:f+2+m:0,E=0,O=i.length;E<O;++E){for(A=i[E],_=this.labelTextColors[E],n.fillStyle=_,ht(A.before,w),k=A.lines,l&&k.length&&(this._drawColorBox(n,t,E,b,r),y=Math.max(p.lineHeight,u)),M=0,L=k.length;M<L;++M)w(k[M]),y=p.lineHeight;ht(A.after,w)}v=0,y=p.lineHeight,ht(this.afterBody,w),t.y-=a}drawFooter(t,n,r){const i=this.footer,a=i.length;let s,l;if(a){const u=dc(r.rtl,this.x,this.width);for(t.x=Mm(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",s=Jn(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,l=0;l<a;++l)n.fillText(i[l],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:a,yAlign:s}=this,{x:l,y:u}=t,{width:f,height:m}=r,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:b}=uc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+p,u),s==="top"&&this.drawCaret(t,n,r,i),n.lineTo(l+f-y,u),n.quadraticCurveTo(l+f,u,l+f,u+y),s==="center"&&a==="right"&&this.drawCaret(t,n,r,i),n.lineTo(l+f,u+m-b),n.quadraticCurveTo(l+f,u+m,l+f-b,u+m),s==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(l+v,u+m),n.quadraticCurveTo(l,u+m,l,u+m-v),s==="center"&&a==="left"&&this.drawCaret(t,n,r,i),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const s=fd[t.position].call(this,this._active,this._eventPosition);if(!s)return;const l=this._size=yD(this,t),u=Object.assign({},s,this._size),f=vD(n,t,u),m=xD(t,u,f,n);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=di(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,n),I$(t,n.textDirection),a.y+=s.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),$$(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:l,index:u})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[u],index:u}}),a=!Lp(r,i),s=this._positionChanged(i,n);(a||s)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],s=this._getActiveElements(t,a,n,r),l=this._positionChanged(s,t),u=n||!Lp(s,a)||l;return u&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const s=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&s.reverse(),s}_positionChanged(t,n){const{caretX:r,caretY:i,options:a}=this,s=fd[a.position].call(this,t,n);return s!==!1&&(r!==s.x||i!==s.y)}}var Hg={id:"tooltip",_element:SD,positioners:fd,afterInit(e,t,n){n&&(e.tooltip=new SD({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eye=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function tye(e,t,n,r){const i=e.indexOf(t);if(i===-1)return eye(e,t,n,r);const a=e.lastIndexOf(t);return i!==a?n:i}const nye=(e,t)=>e===null?null:Qn(Math.round(e),0,t);function jD(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class qg extends Uc{static id="category";static defaults={ticks:{callback:jD}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ot(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:tye(r,t,qe(n,t),this._addedLabels),nye(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=t;s<=n;s++)i.push({value:s});return i}getLabelForValue(t){return jD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function rye(e,t){const n=[],{bounds:i,step:a,min:s,max:l,precision:u,count:f,maxTicks:m,maxDigits:p,includeBounds:y}=e,v=a||1,b=m-1,{min:w,max:j}=t,A=!ot(s),_=!ot(l),k=!ot(f),E=(j-w)/(p+1);let M=xP((j-w)/b/v)*v,O,L,D,R;if(M<1e-14&&!A&&!_)return[{value:w},{value:j}];R=Math.ceil(j/M)-Math.floor(w/M),R>b&&(M=xP(R*M/b/v)*v),ot(u)||(O=Math.pow(10,u),M=Math.ceil(M*O)/O),i==="ticks"?(L=Math.floor(w/M)*M,D=Math.ceil(j/M)*M):(L=w,D=j),A&&_&&a&&sme((l-s)/a,M/1e3)?(R=Math.round(Math.min((l-s)/M,m)),M=(l-s)/R,L=s,D=l):k?(L=A?s:L,D=_?l:D,R=f-1,M=(D-L)/R):(R=(D-L)/M,Sd(R,Math.round(R),M/1e3)?R=Math.round(R):R=Math.ceil(R));const F=Math.max(bP(M),bP(L));O=Math.pow(10,ot(u)?F:u),L=Math.round(L*O)/O,D=Math.round(D*O)/O;let I=0;for(A&&(y&&L!==s?(n.push({value:s}),L<s&&I++,Sd(Math.round((L+I*M)*O)/O,s,ND(s,E,e))&&I++):L<s&&I++);I<R;++I){const V=Math.round((L+I*M)*O)/O;if(_&&V>l)break;n.push({value:V})}return _&&y&&D!==l?n.length&&Sd(n[n.length-1].value,l,ND(l,E,e))?n[n.length-1].value=l:n.push({value:l}):(!_||D===l)&&n.push({value:D}),n}function ND(e,t,{horizontal:n,minRotation:r}){const i=ja(r),a=(n?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class iye extends Uc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ot(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const s=u=>i=n?i:u,l=u=>a=r?a:u;if(t){const u=Fi(i),f=Fi(a);u<0&&f<0?l(0):u>0&&f>0&&s(0)}if(i===a){let u=a===0?1:Math.abs(a*.05);l(a+u),t||s(i-u)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,s=rye(i,a);return t.bounds==="ticks"&&ome(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Jj(t,this.chart.options.locale,this.options.ticks.format)}}class Wg extends iye{static id="linear";static defaults={ticks:{callback:C$.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tr(t)?t:0,this.max=tr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ja(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Gg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vr=Object.keys(Gg);function _D(e,t){return e-t}function AD(e,t){if(ot(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let s=t;return typeof r=="function"&&(s=r(s)),tr(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(i&&(s=i==="week"&&(Zd(a)||a===!0)?n.startOf(s,"isoWeek",a):n.startOf(s,i)),+s)}function MD(e,t,n,r){const i=vr.length;for(let a=vr.indexOf(e);a<i-1;++a){const s=Gg[vr[a]],l=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-t)/(l*s.size))<=r)return vr[a]}return vr[i-1]}function aye(e,t,n,r,i){for(let a=vr.length-1;a>=vr.indexOf(n);a--){const s=vr[a];if(Gg[s].common&&e._adapter.diff(i,r,s)>=t-1)return s}return vr[n?vr.indexOf(n):0]}function sye(e){for(let t=vr.indexOf(e)+1,n=vr.length;t<n;++t)if(Gg[vr[t]].common)return vr[t]}function kD(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Zj(n,t),a=n[r]>=t?n[r]:n[i];e[a]=!0}}function oye(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),s=t[t.length-1].value;let l,u;for(l=a;l<=s;l=+i.add(l,1,r))u=n[l],u>=0&&(t[u].major=!0);return t}function CD(e,t,n){const r=[],i={},a=t.length;let s,l;for(s=0;s<a;++s)l=t[s],i[l]=s,r.push({value:l,major:!1});return a===0||!n?r:oye(e,r,i,n)}class ED extends Uc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new Wpe._date(t.adapters.date);i.init(n),wd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:AD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:l}=this.getUserBounds();function u(f){!s&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!s||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=tr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=tr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=this.max,l=fme(i,a,s);return this._unit=n.unit||(r.autoSkip?MD(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):aye(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sye(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),CD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;n=Qn(n,0,s),r=Qn(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,s=a.unit||MD(a.minUnit,n,r,this._getLabelCapacity(n)),l=qe(i.ticks.stepSize,1),u=s==="week"?a.isoWeekday:!1,f=Zd(u)||u===!0,m={};let p=n,y,v;if(f&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,f?"day":s),t.diff(r,n,s)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+s);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(y=p,v=0;y<r;y=+t.add(y,l,s),v++)kD(m,y,b);return(y===r||i.bounds==="ticks"||v===1)&&kD(m,y,b),Object.keys(m).sort(_D).map(w=>+w)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,a=this._unit,s=n||i[a];return this._adapter.format(t,s)}_tickFormatFunction(t,n,r,i){const a=this.options,s=a.ticks.callback;if(s)return Mt(s,[t,n,r],this);const l=a.time.displayFormats,u=this._unit,f=this._majorUnit,m=u&&l[u],p=f&&l[f],y=r[n],v=f&&p&&y&&y.major;return this._adapter.format(t,i||(v?p:m))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=ja(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),s=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*a+l*s,h:r*s+l*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,CD(this,[t],this._majorUnit),i),s=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(AD(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return A$(t.sort(_D))}}function km(e,t,n){let r=0,i=e.length-1,a,s,l,u;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Co(e,"pos",t)),{pos:a,time:l}=e[r],{pos:s,time:u}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Co(e,"time",t)),{time:a,pos:l}=e[r],{time:s,pos:u}=e[i]);const f=s-a;return f?l+(u-l)*(t-a)/f:l}class Obe extends ED{static id="timeseries";static defaults=ED.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=km(n,this.min),this._tableRange=km(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],a=[];let s,l,u,f,m;for(s=0,l=t.length;s<l;++s)f=t[s],f>=n&&f<=r&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,l=i.length;s<l;++s)m=i[s+1],u=i[s-1],f=i[s],Math.round((m+u)/2)!==f&&a.push({time:f,pos:s/(l-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(km(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return km(this._table,r*this._tableRange+this._minPos,!0)}}const uz="label";function TD(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function lye(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function dz(e,t){e.labels=t}function fz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uz;const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(s=>s[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function cye(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uz;const n={labels:[],datasets:[]};return dz(n,e.labels),fz(n,e.datasets,t),n}function uye(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:s,data:l,options:u,plugins:f=[],fallbackContent:m,updateMode:p,...y}=e,v=N.useRef(null),b=N.useRef(null),w=()=>{v.current&&(b.current=new al(v.current,{type:s,data:cye(l,a),options:u&&{...u},plugins:f}),TD(t,b.current))},j=()=>{TD(t,null),b.current&&(b.current.destroy(),b.current=null)};return N.useEffect(()=>{!i&&b.current&&u&&lye(b.current,u)},[i,u]),N.useEffect(()=>{!i&&b.current&&dz(b.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&b.current&&l.datasets&&fz(b.current.config.data,l.datasets,a)},[i,l.datasets]),N.useEffect(()=>{b.current&&(i?(j(),setTimeout(w)):b.current.update(p))},[i,u,l.labels,l.datasets,p]),N.useEffect(()=>{b.current&&(j(),setTimeout(w))},[s]),N.useEffect(()=>(w(),()=>j()),[]),ln.createElement("canvas",{ref:v,role:"img",height:n,width:r,...y},m)}const dye=N.forwardRef(uye);function c2(e,t){return al.register(t),N.forwardRef((n,r)=>ln.createElement(dye,{...n,ref:r,type:e}))}const hz=c2("line",qpe),mz=c2("bar",Upe),Sb=c2("doughnut",Hpe),OD=["김철수","이영희","박민수","최지우","정수진","강태현","윤서연","장혜민","조현우","김나영","이준호","박소영","최민석","정하린","강동현","윤지민","장성훈","김예린","이도윤","박채원","최준영","정시우","강유진","윤서준"];function jb(e){return e[Math.floor(Math.random()*e.length)]}function PD(){return["9시","10시","11시","12시","1시","2시","3시","4시"].map(t=>({time:t,transactions:Math.floor(Math.random()*20)+5,amount:Math.floor(Math.random()*5e4)+1e4}))}function fye(){const e=Ur(),{getStudentRanking:t,getCreditGrade:n,getInterestRate:r}=yr();if(!e)return null;const i=t(e.id),a=i.slice(0,3),s=u=>{switch(u){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return"🏅"}},l=u=>({first_transaction:"첫 거래",frequent_trader:"거래 전문가",transaction_master:"거래 마스터",money_saver:"저축왕",wealth_builder:"재산가"})[u]||u;return d.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-100/50 shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:"🏆 학생 랭킹"}),d.jsx("span",{className:"text-sm text-gray-500",children:"신용점수 & 총 수익 기준"})]}),d.jsx("div",{className:"space-y-4",children:a.length===0?d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("p",{children:"아직 랭킹 데이터가 없습니다"}),d.jsx("p",{className:"text-xs mt-1",children:"급여를 지급하거나 활동을 시작해보세요!"})]}):a.map((u,f)=>{const m=f+1,p=u.creditGrade||n(u.creditScore||650),y=r(u.creditScore||650);return d.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-2xl border transition-all duration-200 hover:shadow-md ${m<=3?"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[d.jsx("div",{className:"text-2xl",children:s(m)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:u.name}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${p==="A+"||p==="A"?"bg-green-100 text-green-700":p==="B+"||p==="B"?"bg-blue-100 text-blue-700":p==="C+"||p==="C"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:p}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"점수:"}),d.jsx("span",{className:"text-xs font-medium text-gray-700",children:u.creditScore||650})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"이자:"}),d.jsxs("span",{className:"text-xs font-medium text-green-600",children:[(y*100).toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[u.balance.toLocaleString(),e.currencyUnit]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["총수익 ",(u.totalEarnings||0).toLocaleString(),e.currencyUnit]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["거래 ",u.totalTransactions||0,"회"]})]})]}),u.achievements&&u.achievements.length>0&&d.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"최근 업적:"}),u.achievements.slice(-2).map((v,b)=>d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:l(v)},b))]})]})]},u.id)})}),i.length>3&&d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-xs text-gray-500",children:["총 ",i.length,"명 중 상위 3명 표시"]})})]})}al.register(o0e,Hg,Fg,qg,Wg,o2,sl,Vg);const hye=[{type:"transfer",to:"student",emoji:"💸",backgrounds:"bg-accent-500"},{type:"purchase",to:"학급상점",emoji:"🛒",backgrounds:"bg-orange-500"},{type:"salary",from:"학급",emoji:"💵",backgrounds:"bg-green-500"},{type:"donation",to:"기부함",emoji:"❤️",backgrounds:"bg-pink-500"}],mye=()=>{const e=jb(hye),t=Math.floor(Math.random()*5e3)+500,n=e.from||jb(OD),r=e.to==="student"?jb(OD.filter(i=>i!==n)):e.to;return{id:Date.now()+Math.random(),from:n,to:r,amount:t,time:"방금 전",type:e.type,emoji:e.emoji,backgrounds:e.backgrounds}},Nb=["#0ea5e9","#38bdf8","#7dd3fc","#bae6fd","#e0f2fe"];function pye(){const e=Ur(),t=$s();Mw();const[n,r]=N.useState(new Date),[i,a]=N.useState([]),[s,l]=N.useState(PD()),[u,f]=N.useState("overview"),{showTransactionNotification:m,showCreditScoreNotification:p,showAchievementNotification:y}=rg(),{calculateEconomicMetrics:v,getStudentActivityHeatmap:b,analyzeTransactionPatterns:w,predictEconomicTrend:j,identifyRiskStudents:A}=Z5();if(N.useEffect(()=>{const z=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(z)},[]),N.useEffect(()=>{const z=setInterval(()=>{if(Math.random()<.3&&t.length>0){const $=mye();a(Q=>[$,...Q].slice(0,12)),Math.random()<.5&&m($.from,$.to,$.amount,e?.currencyUnit||"원")}},5e3),G=setInterval(()=>{l(PD())},6e4);return()=>{clearInterval(z),clearInterval(G)}},[t.length,e,m]),!e)return null;const _=N.useMemo(()=>{if(t.length===0)return[{name:"데이터 없음",value:100,students:0}];const z=t.map(J=>J.balance).sort((J,le)=>le-J),G=z.reduce((J,le)=>J+le,0);if(G===0)return[{name:"자산 없음",value:100,students:t.length}];const ie=Math.max(1,Math.floor(t.length*.2)),$=Math.max(1,Math.floor(t.length*.4)),Q=t.length-ie-$,ne=z.slice(0,ie).reduce((J,le)=>J+le,0),ue=z.slice(ie,ie+$).reduce((J,le)=>J+le,0),xe=z.slice(ie+$).reduce((J,le)=>J+le,0);return[{name:"상위 20%",value:Math.round(ne/G*100),students:ie,avgBalance:Math.round(ne/ie)},{name:"중위 40%",value:Math.round(ue/G*100),students:$,avgBalance:$>0?Math.round(ue/$):0},{name:"하위 40%",value:Math.round(xe/G*100),students:Q,avgBalance:Q>0?Math.round(xe/Q):0}].filter(J=>J.students>0)},[t]),k=i.length>0?i:[{id:1,from:"김철수",to:"이영희",amount:1e3,time:"5분 전",type:"transfer",emoji:"💸",backgrounds:"bg-accent-500"},{id:2,from:"박민수",to:"학급상점",amount:500,time:"8분 전",type:"purchase",emoji:"🛒",backgrounds:"bg-orange-500"},{id:3,from:"학급",to:"최지우",amount:3e3,time:"12분 전",type:"salary",emoji:"💵",backgrounds:"bg-green-500"},{id:4,from:"김서연",to:"기부함",amount:200,time:"15분 전",type:"donation",emoji:"❤️",backgrounds:"bg-pink-500"}],E=t.reduce((z,G)=>z+G.balance,0),M=t.length>0?Math.round(E/t.length):0,O=t.filter(z=>z.jobId).length,L=e?v(e.id):null,D=e?b(e.id):[],R=e?w(e.id):null,F=e?j(e.id):"stable",I=e?A(e.id):[],V=()=>{const z=["일","월","화","수","목","금","토"],G=Array.from({length:24},(Q,ne)=>`${ne}시`),ie=new Array(24).fill(0),$=new Array(7).fill(0);return D.forEach(Q=>{Q.hourlyActivity.forEach((ne,ue)=>{ie[ue]+=ne}),Q.weeklyActivity.forEach((ne,ue)=>{$[ue]+=ne})}),{hourlyData:{labels:G,datasets:[{label:"시간대별 활동",data:ie,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,fill:!1,tension:.4}]},weeklyData:{labels:z,datasets:[{label:"요일별 활동",data:$,backgroundColor:"rgba(239, 68, 68, 0.5)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1}]}}},q={labels:["참여","미참여"],datasets:[{data:[L?.marketParticipation||0,100-(L?.marketParticipation||0)],backgroundColor:["rgba(59, 130, 246, 0.5)","rgba(229, 231, 235, 0.5)"],borderColor:["rgba(59, 130, 246, 1)","rgba(229, 231, 235, 1)"],borderWidth:2}]},re={labels:["고용","실업"],datasets:[{data:[L?.employmentRate||0,100-(L?.employmentRate||0)],backgroundColor:["rgba(34, 197, 94, 0.5)","rgba(239, 68, 68, 0.5)"],borderColor:["rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)"],borderWidth:2}]},se={labels:["저축","유통"],datasets:[{data:[L?.savingsRate||0,100-(L?.savingsRate||0)],backgroundColor:["rgba(168, 85, 247, 0.5)","rgba(156, 163, 175, 0.5)"],borderColor:["rgba(168, 85, 247, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]},H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"실시간 경제 현황"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]}),d.jsxs("div",{className:"text-right flex items-center space-x-4",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>{console.log("거래 알림 버튼 클릭됨"),m("김철수","이영희",5e3,e?.currencyUnit||"원")},className:"px-3 py-1 text-xs bg-accent-500 text-white rounded-lg hover:bg-accent-600 transition-colors",children:"거래 알림"}),d.jsx("button",{onClick:()=>{console.log("신용점수 버튼 클릭됨"),p("박민수",25,675,"성실한 납세")},className:"px-3 py-1 text-xs bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"신용점수"}),d.jsx("button",{onClick:()=>{console.log("업적 버튼 클릭됨"),y("최지우","첫 거래 완료")},className:"px-3 py-1 text-xs bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"업적"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:n.toLocaleTimeString("ko-KR")}),d.jsx("div",{className:"text-sm text-gray-500",children:n.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 경제 규모"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:E,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:e.currencyUnit})]}),d.jsx("div",{className:"text-xs text-green-600 mt-2",children:"▲ 12.5% 이번 주"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"평균 자산"}),d.jsx("span",{className:"text-2xl",children:"📊"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:M,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:e.currencyUnit})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["학생 ",t.length,"명"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"고용률"}),d.jsx("span",{className:"text-2xl",children:"💼"})]}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.jsx(Un,{end:t.length>0?Math.round(O/t.length*100):0,duration:2,suffix:"%"})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[O,"/",t.length," 고용"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"국고"}),d.jsx("span",{className:"text-2xl",children:"🏛️"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:e.treasury,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:e.currencyUnit})]}),d.jsx("div",{className:"text-xs text-accent-600 mt-2",children:"▲ 8.3% 이번 달"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"학급 자산 분포"}),d.jsx(wO,{width:"100%",height:200,children:d.jsxs(Nhe,{children:[d.jsx($I,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:_.map((z,G)=>d.jsx(Dg,{fill:Nb[G%Nb.length]},`cell-${G}`))}),d.jsx(pO,{formatter:(z,G,ie)=>[`${z}% (${ie.payload.students}명, 평균 ${ie.payload.avgBalance?.toLocaleString()||0}코인)`,G]})]})}),d.jsx("div",{className:"mt-4 space-y-2",children:_.map((z,G)=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:Nb[G]}}),d.jsx("span",{className:"text-gray-600",children:z.name})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"font-medium text-gray-900",children:[z.students,"명"]}),z.avgBalance!==void 0&&d.jsxs("div",{className:"text-xs text-gray-500",children:["평균 ",z.avgBalance.toLocaleString(),"코인"]})]})]},G))})]}),d.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"실시간 거래"}),d.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:k.map((z,G)=>d.jsxs(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:G*.1},className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white
                    ${z.backgrounds||(z.type==="salary"?"bg-green-500":z.type==="donation"?"bg-pink-500":z.type==="purchase"?"bg-orange-500":"bg-accent-500")}`,children:z.emoji||(z.type==="salary"?"💵":z.type==="donation"?"❤️":z.type==="purchase"?"🛒":"💸")}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[z.from," → ",z.to]}),d.jsx("div",{className:"text-xs text-gray-500",children:z.time})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:z.amount.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-500",children:e.currencyUnit})]})]},z.id))})]}),d.jsx(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6},children:d.jsx(fye,{})})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"오늘의 경제 활동"}),d.jsx(wO,{width:"100%",height:250,children:d.jsxs(Ahe,{data:s,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:.1})]})}),d.jsx(GI,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),d.jsx(n$,{dataKey:"time",tick:{fontSize:12},stroke:"#6b7280"}),d.jsx(r$,{tick:{fontSize:12},stroke:"#6b7280"}),d.jsx(pO,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),d.jsx(t$,{type:"monotone",dataKey:"amount",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorAmount)"})]})})]}),d.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"space-y-6",children:d.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"📊 심화 분석 및 통계"}),d.jsxs("p",{className:"text-gray-600",children:[e?.name||"학급"," 경제 활동 상세 분석"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>f("overview"),className:`px-4 py-2 rounded-lg transition-colors ${u==="overview"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"전체 개요"}),d.jsx("button",{onClick:()=>f("heatmap"),className:`px-4 py-2 rounded-lg transition-colors ${u==="heatmap"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"활동 히트맵"}),d.jsx("button",{onClick:()=>f("patterns"),className:`px-4 py-2 rounded-lg transition-colors ${u==="patterns"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"거래 패턴"})]})]}),u==="overview"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"지니계수"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L?.giniCoefficient?L.giniCoefficient.toFixed(3):"0.000"}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"빈부격차 지표"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"인플레이션율"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L?.inflationRate?`${L.inflationRate.toFixed(1)}%`:"0.0%"}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"물가 상승률"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"거래량"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L?.tradingVolume?`${(L.tradingVolume/1e3).toFixed(1)}K`:"0K"}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"주간 거래액"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"경제 전망"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:F==="growing"?"📈 성장":F==="declining"?"📉 위험":"📊 안정"}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"AI 예측"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"시장 참여율"}),d.jsx("div",{style:{height:"200px"},children:d.jsx(Sb,{data:q,options:H})}),d.jsxs("div",{className:"mt-4 text-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[L?.marketParticipation?.toFixed(1)||"0.0","%"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"학생들의 금융 시장 참여도"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"고용 현황"}),d.jsx("div",{style:{height:"200px"},children:d.jsx(Sb,{data:re,options:H})}),d.jsxs("div",{className:"mt-4 text-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[L?.employmentRate?.toFixed(1)||"0.0","%"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"전체 학생 중 취업률"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"저축률"}),d.jsx("div",{style:{height:"200px"},children:d.jsx(Sb,{data:se,options:H})}),d.jsxs("div",{className:"mt-4 text-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[L?.savingsRate?.toFixed(1)||"0.0","%"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"총 통화량 대비 저축 비율"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"학생 활동 히트맵"}),d.jsx("button",{onClick:()=>f("heatmap"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"전체 보기 →"})]}),D.length>0?d.jsxs("div",{className:"space-y-3",children:[D.slice(0,5).map((z,G)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900 text-sm",children:z.studentName}),d.jsxs("div",{className:"text-xs text-gray-500",children:[z.totalTransactions,"회 거래"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-1.5 rounded-full transition-all duration-500",style:{width:`${z.activityScore}%`}})}),d.jsxs("span",{className:"text-xs font-medium text-gray-700 w-8",children:[z.activityScore,"%"]})]})]},z.studentId)),d.jsx("div",{className:"pt-2 text-center",children:d.jsxs("span",{className:"text-xs text-gray-500",children:["총 ",D.length,"명 중 상위 5명 표시"]})})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-3xl mb-2",children:"📊"}),d.jsx("p",{className:"text-sm",children:"활동 데이터가 없습니다"}),d.jsx("p",{className:"text-xs text-gray-400",children:"거래가 시작되면 표시됩니다"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"거래 패턴 분석"}),d.jsx("button",{onClick:()=>f("patterns"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"전체 보기 →"})]}),R&&R.totalTransactions>0?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-xl",children:[d.jsx("div",{className:"text-xl font-bold text-green-600",children:R.buyCount}),d.jsx("div",{className:"text-xs text-green-700",children:"매수"})]}),d.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-xl",children:[d.jsx("div",{className:"text-xl font-bold text-red-600",children:R.sellCount}),d.jsx("div",{className:"text-xs text-red-700",children:"매도"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"거래 스타일"}),d.jsx("span",{className:"text-xs font-medium text-gray-900",children:R.tradingStyle==="aggressive"?"공격적":R.tradingStyle==="conservative"?"보수적":"균형적"})]}),d.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"평균 거래액"}),d.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[R.averageTransactionSize?.toLocaleString()||0,e?.currencyUnit]})]}),d.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-xs text-gray-600",children:"활발한 시간"}),d.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[R.peakHour,"시"]})]})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-3xl mb-2",children:"📈"}),d.jsx("p",{className:"text-sm",children:"거래 데이터가 없습니다"}),d.jsx("p",{className:"text-xs text-gray-400",children:"주식 거래가 시작되면 표시됩니다"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"위험 학생 모니터링"}),d.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"전체 보기 →"})]}),I.length>0?d.jsxs("div",{className:"space-y-3",children:[I.slice(0,5).map((z,G)=>{const ie=t.find($=>$.id===z);return ie?d.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:ie.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-red-900 text-sm",children:ie.name}),d.jsxs("div",{className:"text-xs text-red-700",children:["잔고: ",ie.balance.toLocaleString(),e?.currencyUnit]})]})]}),d.jsx("div",{className:"text-red-600 text-lg",children:"⚠️"})]},z):null}),d.jsx("div",{className:"pt-2 text-center",children:d.jsxs("span",{className:"text-xs text-gray-500",children:["총 ",I.length,"명의 위험 학생"]})})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-3xl mb-2",children:"✅"}),d.jsx("p",{className:"text-sm",children:"위험 학생이 없습니다"}),d.jsx("p",{className:"text-xs text-gray-400",children:"모든 학생이 안정적인 상태입니다"})]})]})]})]}),u==="heatmap"&&d.jsxs("div",{className:"space-y-6",children:[(()=>{const{hourlyData:z,weeklyData:G}=V();return d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📅 요일별 활동 분포"}),d.jsx("div",{className:"h-64",children:d.jsx(mz,{data:G,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"거래 횟수"}}}}})})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🕐 시간대별 활동 분포"}),d.jsx("div",{className:"h-64",children:d.jsx(hz,{data:z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"거래 횟수"}}}}})})]})]})})(),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"👥 학생별 활동 점수"}),D.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"학생"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"활동 점수"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"총 거래"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"최근 활동"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"활동 히트맵"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:D.sort((z,G)=>G.activityScore-z.activityScore).map(z=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("p",{className:"font-medium",children:z.studentName})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${z.activityScore}%`}})}),d.jsxs("span",{className:"text-sm font-medium",children:[z.activityScore,"%"]})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("span",{className:"font-medium",children:[z.totalTransactions,"회"]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:"text-sm text-gray-600",children:z.lastActivityDate?new Date(z.lastActivityDate).toLocaleDateString():"없음"})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("div",{className:"flex gap-1",children:z.weeklyActivity.map((G,ie)=>d.jsx("div",{className:`w-4 h-4 rounded ${G===0?"bg-gray-200":G<3?"bg-blue-300":G<5?"bg-blue-500":"bg-blue-700"}`,title:`${["일","월","화","수","목","금","토"][ie]}: ${G}회`},ie))})})]},z.studentId))})]})}):d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-4",children:"📊"}),d.jsx("p",{className:"text-lg",children:"활동 데이터가 없습니다"}),d.jsx("p",{className:"text-sm text-gray-400",children:"학생들의 거래가 시작되면 활동 히트맵이 표시됩니다"})]})]})]}),u==="patterns"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"거래 패턴 분석"}),d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[d.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"실시간 업데이트"]})]}),R&&R.totalTransactions>0?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"총 매수"}),d.jsx("span",{className:"text-2xl",children:"📈"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600",children:R.buyCount}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[d.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mr-1"}),"전체의 ",(R.buyRatio*100).toFixed(1),"%"]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"총 매도"}),d.jsx("span",{className:"text-2xl",children:"📉"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600",children:R.sellCount}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[d.jsx("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full mr-1"}),"전체의 ",((1-R.buyRatio)*100).toFixed(1),"%"]})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"거래 균형도"}),d.jsx("span",{className:"text-2xl",children:"⚖️"})]}),d.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[(R.buyRatio*100).toFixed(0),":",((1-R.buyRatio)*100).toFixed(0)]}),d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${R.buyRatio*100}%`}})})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"평균 거래액"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600",children:R.averageTransactionSize?.toLocaleString()||0}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"text-xs text-gray-500",children:[e?.currencyUnit," 단위"]})})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"우리 학급 거래 문화"}),d.jsx("div",{className:"text-3xl",children:R.tradingStyle==="aggressive"?"🚀":R.tradingStyle==="conservative"?"🏰":"⚖️"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.tradingStyle==="aggressive"?"활발한 거래 문화":R.tradingStyle==="conservative"?"신중한 거래 문화":"균형잡힌 거래 문화"}),d.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:R.tradingStyle==="aggressive"?"우리 학급은 적극적인 거래 활동을 보이고 있습니다. 학생들이 경제 활동에 높은 관심을 가지고 활발하게 참여하고 있어요. 다양한 투자 기회를 탐색하는 도전 정신이 돋보입니다.":R.tradingStyle==="conservative"?"우리 학급은 신중하고 계획적인 거래를 선호합니다. 학생들이 충분히 고민하고 안정적인 투자를 추구하고 있어요. 위험 관리를 잘하고 있는 성숙한 경제 문화입니다.":"우리 학급은 매수와 매도가 균형을 이루는 건전한 거래 문화를 가지고 있습니다. 적절한 위험 감수와 안정성을 동시에 추구하는 이상적인 경제 활동을 보여주고 있어요."}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:R.totalTransactions})," 건의 거래 분석"]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["참여 학생 ",d.jsx("span",{className:"font-semibold text-gray-700",children:t.filter(z=>z.totalTransactions>0).length}),"명"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-gray-500",children:"실시간"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"24시간 거래 히트맵"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-gray-500",children:"실시간 업데이트"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 mb-2",children:"오전 (AM)"}),d.jsx("div",{className:"grid grid-cols-12 gap-1",children:R.hourlyPattern.slice(0,12).map((z,G)=>{const ie=Math.max(...R.hourlyPattern),$=ie>0?z/ie:0;return d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`h-8 rounded-lg transition-all duration-300 transform hover:scale-110 cursor-pointer ${G===R.peakHour?"bg-gradient-to-t from-blue-600 to-blue-400 ring-2 ring-blue-300 ring-offset-2":z>0?"bg-gradient-to-t from-blue-500 to-blue-300":"bg-gray-100"}`,style:{opacity:z>0?.3+$*.7:1,height:`${Math.max(32,8+$*40)}px`},children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white",children:z>0&&z})}),d.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:G}),d.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap z-10",children:[G,"시: ",z,"건"]})]},G)})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 mb-2",children:"오후 (PM)"}),d.jsx("div",{className:"grid grid-cols-12 gap-1",children:R.hourlyPattern.slice(12).map((z,G)=>{const ie=G+12,$=Math.max(...R.hourlyPattern),Q=$>0?z/$:0;return d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`h-8 rounded-lg transition-all duration-300 transform hover:scale-110 cursor-pointer ${ie===R.peakHour?"bg-gradient-to-t from-purple-600 to-purple-400 ring-2 ring-purple-300 ring-offset-2":z>0?"bg-gradient-to-t from-purple-500 to-purple-300":"bg-gray-100"}`,style:{opacity:z>0?.3+Q*.7:1,height:`${Math.max(32,8+Q*40)}px`},children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white",children:z>0&&z})}),d.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:ie}),d.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap z-10",children:[ie,"시: ",z,"건"]})]},ie)})})]})]}),d.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center text-white font-bold shadow-lg",children:R.peakHour}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"피크 타임"}),d.jsx("div",{className:"text-xs text-gray-500",children:"가장 활발한 거래 시간대"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[R.hourlyPattern[R.peakHour],"건"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"최대 거래량"})]})]})})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-4",children:"📈"}),d.jsx("p",{className:"text-lg",children:"거래 데이터가 없습니다"}),d.jsx("p",{className:"text-sm text-gray-400",children:"주식 거래가 시작되면 패턴 분석이 표시됩니다"})]})]})})]})})]})}function gye(){const e=sf(),t=Ur();return d.jsx("div",{className:"space-y-6",children:t?d.jsx(pye,{}):d.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-100/50 shadow-lg p-12 text-center",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:d.jsx("svg",{className:"w-12 h-12 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),d.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"학급이 없습니다"}),d.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"새로운 학급을 만들어 경제 교육을 시작해보세요!"}),d.jsxs("button",{onClick:()=>e("/classes"),className:"inline-flex items-center px-8 py-4 border-0 text-base font-semibold rounded-2xl shadow-lg text-white bg-slate-500 hover:bg-slate-600 transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[d.jsx("div",{className:"w-5 h-5 mr-3",children:d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),"학급 만들기"]})]})})})}var Ef=e=>e.type==="checkbox",Eo=e=>e instanceof Date,ir=e=>e==null;const pz=e=>typeof e=="object";var mn=e=>!ir(e)&&!Array.isArray(e)&&pz(e)&&!Eo(e),yye=e=>mn(e)&&e.target?Ef(e.target)?e.target.checked:e.target.value:e,vye=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xye=(e,t)=>e.has(vye(t)),bye=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},u2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(u2&&(e instanceof Blob||r))&&(n||mn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!bye(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=An(e[i]));else return e;return t}var Yg=e=>/^\w*$/.test(e),un=e=>e===void 0,d2=e=>Array.isArray(e)?e.filter(Boolean):[],f2=e=>d2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,n)=>{if(!t||!mn(e))return n;const r=(Yg(t)?[t]:f2(t)).reduce((i,a)=>ir(i)?i:i[a],e);return un(r)||r===e?un(e[t])?n:e[t]:r},Ri=e=>typeof e=="boolean",Tt=(e,t,n)=>{let r=-1;const i=Yg(t)?[t]:f2(t),a=i.length,s=a-1;for(;++r<a;){const l=i[r];let u=n;if(r!==s){const f=e[l];u=mn(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const DD={BLUR:"blur",FOCUS_OUT:"focusout"},Si={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wye=ln.createContext(null);wye.displayName="HookFormContext";var Sye=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==Si.all&&(t._proxyFormState[s]=!r||Si.all),e[s]}});return i};const jye=typeof window<"u"?ln.useLayoutEffect:ln.useEffect;var Rr=e=>typeof e=="string",Nye=(e,t,n,r,i)=>Rr(e)?(r&&t.watch.add(e),ke(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),ke(n,a))):(r&&(t.watchAll=!0),n),J1=e=>ir(e)||!pz(e);function Ns(e,t,n=new WeakSet){if(J1(e)||J1(t))return e===t;if(Eo(e)&&Eo(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Eo(s)&&Eo(l)||mn(s)&&mn(l)||Array.isArray(s)&&Array.isArray(l)?!Ns(s,l,n):s!==l)return!1}}return!0}var _ye=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},_d=e=>Array.isArray(e)?e:[e],RD=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function gz(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&mn(i)&&a){const s=gz(i,a);mn(s)&&(n[r]=s)}else e[r]&&(n[r]=a)}return n}var pr=e=>mn(e)&&!Object.keys(e).length,h2=e=>e.type==="file",ji=e=>typeof e=="function",Fp=e=>{if(!u2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yz=e=>e.type==="select-multiple",m2=e=>e.type==="radio",Aye=e=>m2(e)||Ef(e),_b=e=>Fp(e)&&e.isConnected;function Mye(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=un(e)?r++:e[t[r++]];return e}function kye(e){for(const t in e)if(e.hasOwnProperty(t)&&!un(e[t]))return!1;return!0}function on(e,t){const n=Array.isArray(t)?t:Yg(t)?[t]:f2(t),r=n.length===1?e:Mye(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(mn(r)&&pr(r)||Array.isArray(r)&&kye(r))&&on(e,n.slice(0,-1)),e}var Cye=e=>{for(const t in e)if(ji(e[t]))return!0;return!1};function vz(e){return Array.isArray(e)||mn(e)&&!Cye(e)}function ew(e,t={}){for(const n in e)vz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ew(e[n],t[n])):ir(e[n])||(t[n]=!0);return t}function Xl(e,t,n){n||(n=ew(t));for(const r in e)vz(e[r])?un(t)||J1(n[r])?n[r]=ew(e[r],Array.isArray(e[r])?[]:{}):Xl(e[r],ir(t)?{}:t[r],n[r]):n[r]=!Ns(e[r],t[r]);return n}const LD={value:!1,isValid:!1},ID={value:!0,isValid:!0};var xz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!un(e[0].attributes.value)?un(e[0].value)||e[0].value===""?ID:{value:e[0].value,isValid:!0}:ID:LD}return LD},bz=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>un(e)?e:t?e===""?NaN:e&&+e:n&&Rr(e)?new Date(e):r?r(e):e;const $D={isValid:!1,value:null};var wz=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,$D):$D;function zD(e){const t=e.ref;return h2(t)?t.files:m2(t)?wz(e.refs).value:yz(t)?[...t.selectedOptions].map(({value:n})=>n):Ef(t)?xz(e.refs).value:bz(un(t.value)?e.ref.value:t.value,e)}var Eye=(e,t,n,r)=>{const i={};for(const a of e){const s=ke(t,a);s&&Tt(i,a,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Hp=e=>e instanceof RegExp,nd=e=>un(e)?e:Hp(e)?e.source:mn(e)?Hp(e.value)?e.value.source:e.value:e,BD=e=>({isOnSubmit:!e||e===Si.onSubmit,isOnBlur:e===Si.onBlur,isOnChange:e===Si.onChange,isOnAll:e===Si.all,isOnTouch:e===Si.onTouched});const VD="AsyncFunction";var Tye=e=>!!e&&!!e.validate&&!!(ji(e.validate)&&e.validate.constructor.name===VD||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===VD)),Oye=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),UD=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ad=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=ke(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Ad(l,t))break}else if(mn(l)&&Ad(l,t))break}}};function FD(e,t,n){const r=ke(e,n);if(r||Yg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=ke(t,a),l=ke(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var Pye=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return pr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!r||Si.all))},Dye=(e,t,n)=>!e||!t||e===t||_d(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Rye=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Lye=(e,t)=>!d2(ke(e,t)).length&&on(e,t),Iye=(e,t,n)=>{const r=_d(ke(e,n));return Tt(r,"root",t[n]),Tt(e,n,r),e};function HD(e,t,n="validate"){if(Rr(e)||Array.isArray(e)&&e.every(Rr)||Ri(e)&&!e)return{type:n,message:Rr(e)?e:"",ref:t}}var Zl=e=>mn(e)&&!Hp(e)?e:{value:e,message:""},qD=async(e,t,n,r,i,a)=>{const{ref:s,refs:l,required:u,maxLength:f,minLength:m,min:p,max:y,pattern:v,validate:b,name:w,valueAsNumber:j,mount:A}=e._f,_=ke(n,w);if(!A||t.has(w))return{};const k=l?l[0]:s,E=V=>{i&&k.reportValidity&&(k.setCustomValidity(Ri(V)?"":V||""),k.reportValidity())},M={},O=m2(s),L=Ef(s),D=O||L,R=(j||h2(s))&&un(s.value)&&un(_)||Fp(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,F=_ye.bind(null,w,r,M),I=(V,q,re,se=ma.maxLength,H=ma.minLength)=>{const z=V?q:re;M[w]={type:V?se:H,message:z,ref:s,...F(V?se:H,z)}};if(a?!Array.isArray(_)||!_.length:u&&(!D&&(R||ir(_))||Ri(_)&&!_||L&&!xz(l).isValid||O&&!wz(l).isValid)){const{value:V,message:q}=Rr(u)?{value:!!u,message:u}:Zl(u);if(V&&(M[w]={type:ma.required,message:q,ref:k,...F(ma.required,q)},!r))return E(q),M}if(!R&&(!ir(p)||!ir(y))){let V,q;const re=Zl(y),se=Zl(p);if(!ir(_)&&!isNaN(_)){const H=s.valueAsNumber||_&&+_;ir(re.value)||(V=H>re.value),ir(se.value)||(q=H<se.value)}else{const H=s.valueAsDate||new Date(_),z=$=>new Date(new Date().toDateString()+" "+$),G=s.type=="time",ie=s.type=="week";Rr(re.value)&&_&&(V=G?z(_)>z(re.value):ie?_>re.value:H>new Date(re.value)),Rr(se.value)&&_&&(q=G?z(_)<z(se.value):ie?_<se.value:H<new Date(se.value))}if((V||q)&&(I(!!V,re.message,se.message,ma.max,ma.min),!r))return E(M[w].message),M}if((f||m)&&!R&&(Rr(_)||a&&Array.isArray(_))){const V=Zl(f),q=Zl(m),re=!ir(V.value)&&_.length>+V.value,se=!ir(q.value)&&_.length<+q.value;if((re||se)&&(I(re,V.message,q.message),!r))return E(M[w].message),M}if(v&&!R&&Rr(_)){const{value:V,message:q}=Zl(v);if(Hp(V)&&!_.match(V)&&(M[w]={type:ma.pattern,message:q,ref:s,...F(ma.pattern,q)},!r))return E(q),M}if(b){if(ji(b)){const V=await b(_,n),q=HD(V,k);if(q&&(M[w]={...q,...F(ma.validate,q.message)},!r))return E(q.message),M}else if(mn(b)){let V={};for(const q in b){if(!pr(V)&&!r)break;const re=HD(await b[q](_,n),k,q);re&&(V={...re,...F(q,re.message)},E(re.message),r&&(M[w]=V))}if(!pr(V)&&(M[w]={ref:k,...V},!r))return M}}return E(!0),M};const $ye={mode:Si.onSubmit,reValidateMode:Si.onChange,shouldFocusError:!0};function zye(e={}){let t={...$ye,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ji(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=mn(t.defaultValues)||mn(t.values)?An(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:An(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const y={array:RD(),state:RD()},v=t.criteriaMode===Si.all,b=T=>B=>{clearTimeout(f),f=setTimeout(T,B)},w=async T=>{if(!t.disabled&&(m.isValid||p.isValid||T)){const B=t.resolver?pr((await L()).errors):await R(r,!0);B!==n.isValid&&y.state.next({isValid:B})}},j=(T,B)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((T||Array.from(l.mount)).forEach(Y=>{Y&&(B?Tt(n.validatingFields,Y,B):on(n.validatingFields,Y))}),y.state.next({validatingFields:n.validatingFields,isValidating:!pr(n.validatingFields)}))},A=(T,B=[],Y,fe,be=!0,ve=!0)=>{if(fe&&Y&&!t.disabled){if(s.action=!0,ve&&Array.isArray(ke(r,T))){const je=Y(ke(r,T),fe.argA,fe.argB);be&&Tt(r,T,je)}if(ve&&Array.isArray(ke(n.errors,T))){const je=Y(ke(n.errors,T),fe.argA,fe.argB);be&&Tt(n.errors,T,je),Lye(n.errors,T)}if((m.touchedFields||p.touchedFields)&&ve&&Array.isArray(ke(n.touchedFields,T))){const je=Y(ke(n.touchedFields,T),fe.argA,fe.argB);be&&Tt(n.touchedFields,T,je)}(m.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Xl(i,a)),y.state.next({name:T,isDirty:I(T,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tt(a,T,B)},_=(T,B)=>{Tt(n.errors,T,B),y.state.next({errors:n.errors})},k=T=>{n.errors=T,y.state.next({errors:n.errors,isValid:!1})},E=(T,B,Y,fe)=>{const be=ke(r,T);if(be){const ve=ke(a,T,un(Y)?ke(i,T):Y);un(ve)||fe&&fe.defaultChecked||B?Tt(a,T,B?ve:zD(be._f)):re(T,ve),s.mount&&w()}},M=(T,B,Y,fe,be)=>{let ve=!1,je=!1;const ze={name:T};if(!t.disabled){if(!Y||fe){(m.isDirty||p.isDirty)&&(je=n.isDirty,n.isDirty=ze.isDirty=I(),ve=je!==ze.isDirty);const Ke=Ns(ke(i,T),B);je=!!ke(n.dirtyFields,T),Ke?on(n.dirtyFields,T):Tt(n.dirtyFields,T,!0),ze.dirtyFields=n.dirtyFields,ve=ve||(m.dirtyFields||p.dirtyFields)&&je!==!Ke}if(Y){const Ke=ke(n.touchedFields,T);Ke||(Tt(n.touchedFields,T,Y),ze.touchedFields=n.touchedFields,ve=ve||(m.touchedFields||p.touchedFields)&&Ke!==Y)}ve&&be&&y.state.next(ze)}return ve?ze:{}},O=(T,B,Y,fe)=>{const be=ke(n.errors,T),ve=(m.isValid||p.isValid)&&Ri(B)&&n.isValid!==B;if(t.delayError&&Y?(u=b(()=>_(T,Y)),u(t.delayError)):(clearTimeout(f),u=null,Y?Tt(n.errors,T,Y):on(n.errors,T)),(Y?!Ns(be,Y):be)||!pr(fe)||ve){const je={...fe,...ve&&Ri(B)?{isValid:B}:{},errors:n.errors,name:T};n={...n,...je},y.state.next(je)}},L=async T=>{j(T,!0);const B=await t.resolver(a,t.context,Eye(T||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return j(T),B},D=async T=>{const{errors:B}=await L(T);if(T)for(const Y of T){const fe=ke(B,Y);fe?Tt(n.errors,Y,fe):on(n.errors,Y)}else n.errors=B;return B},R=async(T,B,Y={valid:!0})=>{for(const fe in T){const be=T[fe];if(be){const{_f:ve,...je}=be;if(ve){const ze=l.array.has(ve.name),Ke=be._f&&Tye(be._f);Ke&&m.validatingFields&&j([ve.name],!0);const ct=await qD(be,l.disabled,a,v,t.shouldUseNativeValidation&&!B,ze);if(Ke&&m.validatingFields&&j([ve.name]),ct[ve.name]&&(Y.valid=!1,B))break;!B&&(ke(ct,ve.name)?ze?Iye(n.errors,ct,ve.name):Tt(n.errors,ve.name,ct[ve.name]):on(n.errors,ve.name))}!pr(je)&&await R(je,B,Y)}}return Y.valid},F=()=>{for(const T of l.unMount){const B=ke(r,T);B&&(B._f.refs?B._f.refs.every(Y=>!_b(Y)):!_b(B._f.ref))&&_e(T)}l.unMount=new Set},I=(T,B)=>!t.disabled&&(T&&B&&Tt(a,T,B),!Ns($(),i)),V=(T,B,Y)=>Nye(T,l,{...s.mount?a:un(B)?i:Rr(T)?{[T]:B}:B},Y,B),q=T=>d2(ke(s.mount?a:i,T,t.shouldUnregister?ke(i,T,[]):[])),re=(T,B,Y={})=>{const fe=ke(r,T);let be=B;if(fe){const ve=fe._f;ve&&(!ve.disabled&&Tt(a,T,bz(B,ve)),be=Fp(ve.ref)&&ir(B)?"":B,yz(ve.ref)?[...ve.ref.options].forEach(je=>je.selected=be.includes(je.value)):ve.refs?Ef(ve.ref)?ve.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(be)?je.checked=!!be.find(ze=>ze===je.value):je.checked=be===je.value||!!be)}):ve.refs.forEach(je=>je.checked=je.value===be):h2(ve.ref)?ve.ref.value="":(ve.ref.value=be,ve.ref.type||y.state.next({name:T,values:An(a)})))}(Y.shouldDirty||Y.shouldTouch)&&M(T,be,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&ie(T)},se=(T,B,Y)=>{for(const fe in B){if(!B.hasOwnProperty(fe))return;const be=B[fe],ve=T+"."+fe,je=ke(r,ve);(l.array.has(T)||mn(be)||je&&!je._f)&&!Eo(be)?se(ve,be,Y):re(ve,be,Y)}},H=(T,B,Y={})=>{const fe=ke(r,T),be=l.array.has(T),ve=An(B);Tt(a,T,ve),be?(y.array.next({name:T,values:An(a)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&Y.shouldDirty&&y.state.next({name:T,dirtyFields:Xl(i,a),isDirty:I(T,ve)})):fe&&!fe._f&&!ir(ve)?se(T,ve,Y):re(T,ve,Y),UD(T,l)&&y.state.next({...n,name:T}),y.state.next({name:s.mount?T:void 0,values:An(a)})},z=async T=>{s.mount=!0;const B=T.target;let Y=B.name,fe=!0;const be=ke(r,Y),ve=Ke=>{fe=Number.isNaN(Ke)||Eo(Ke)&&isNaN(Ke.getTime())||Ns(Ke,ke(a,Y,Ke))},je=BD(t.mode),ze=BD(t.reValidateMode);if(be){let Ke,ct;const qa=B.type?zD(be._f):yye(T),Fn=T.type===DD.BLUR||T.type===DD.FOCUS_OUT,Fs=!Oye(be._f)&&!t.resolver&&!ke(n.errors,Y)&&!be._f.deps||Rye(Fn,ke(n.touchedFields,Y),n.isSubmitted,ze,je),Wa=UD(Y,l,Fn);Tt(a,Y,qa),Fn?(!B||!B.readOnly)&&(be._f.onBlur&&be._f.onBlur(T),u&&u(0)):be._f.onChange&&be._f.onChange(T);const Ga=M(Y,qa,Fn),Xi=!pr(Ga)||Wa;if(!Fn&&y.state.next({name:Y,type:T.type,values:An(a)}),Fs)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Fn&&w():Fn||w()),Xi&&y.state.next({name:Y,...Wa?{}:Ga});if(!Fn&&Wa&&y.state.next({...n}),t.resolver){const{errors:Hs}=await L([Y]);if(ve(qa),fe){const qs=FD(n.errors,r,Y),Pf=FD(Hs,r,qs.name||Y);Ke=Pf.error,Y=Pf.name,ct=pr(Hs)}}else j([Y],!0),Ke=(await qD(be,l.disabled,a,v,t.shouldUseNativeValidation))[Y],j([Y]),ve(qa),fe&&(Ke?ct=!1:(m.isValid||p.isValid)&&(ct=await R(r,!0)));fe&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&ie(be._f.deps),O(Y,ct,Ke,Ga))}},G=(T,B)=>{if(ke(n.errors,B)&&T.focus)return T.focus(),1},ie=async(T,B={})=>{let Y,fe;const be=_d(T);if(t.resolver){const ve=await D(un(T)?T:be);Y=pr(ve),fe=T?!be.some(je=>ke(ve,je)):Y}else T?(fe=(await Promise.all(be.map(async ve=>{const je=ke(r,ve);return await R(je&&je._f?{[ve]:je}:je)}))).every(Boolean),!(!fe&&!n.isValid)&&w()):fe=Y=await R(r);return y.state.next({...!Rr(T)||(m.isValid||p.isValid)&&Y!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:Y}:{},errors:n.errors}),B.shouldFocus&&!fe&&Ad(r,G,T?be:l.mount),fe},$=(T,B)=>{let Y={...s.mount?a:i};return B&&(Y=gz(B.dirtyFields?n.dirtyFields:n.touchedFields,Y)),un(T)?Y:Rr(T)?ke(Y,T):T.map(fe=>ke(Y,fe))},Q=(T,B)=>({invalid:!!ke((B||n).errors,T),isDirty:!!ke((B||n).dirtyFields,T),error:ke((B||n).errors,T),isValidating:!!ke(n.validatingFields,T),isTouched:!!ke((B||n).touchedFields,T)}),ne=T=>{T&&_d(T).forEach(B=>on(n.errors,B)),y.state.next({errors:T?n.errors:{}})},ue=(T,B,Y)=>{const fe=(ke(r,T,{_f:{}})._f||{}).ref,be=ke(n.errors,T)||{},{ref:ve,message:je,type:ze,...Ke}=be;Tt(n.errors,T,{...Ke,...B,ref:fe}),y.state.next({name:T,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&fe&&fe.focus&&fe.focus()},xe=(T,B)=>ji(T)?y.state.subscribe({next:Y=>"values"in Y&&T(V(void 0,B),Y)}):V(T,B,!0),J=T=>y.state.subscribe({next:B=>{Dye(T.name,B.name,T.exact)&&Pye(B,T.formState||m,Ye,T.reRenderRoot)&&T.callback({values:{...a},...n,...B,defaultValues:i})}}).unsubscribe,le=T=>(s.mount=!0,p={...p,...T.formState},J({...T,formState:p})),_e=(T,B={})=>{for(const Y of T?_d(T):l.mount)l.mount.delete(Y),l.array.delete(Y),B.keepValue||(on(r,Y),on(a,Y)),!B.keepError&&on(n.errors,Y),!B.keepDirty&&on(n.dirtyFields,Y),!B.keepTouched&&on(n.touchedFields,Y),!B.keepIsValidating&&on(n.validatingFields,Y),!t.shouldUnregister&&!B.keepDefaultValue&&on(i,Y);y.state.next({values:An(a)}),y.state.next({...n,...B.keepDirty?{isDirty:I()}:{}}),!B.keepIsValid&&w()},Te=({disabled:T,name:B})=>{(Ri(T)&&s.mount||T||l.disabled.has(B))&&(T?l.disabled.add(B):l.disabled.delete(B))},ee=(T,B={})=>{let Y=ke(r,T);const fe=Ri(B.disabled)||Ri(t.disabled);return Tt(r,T,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:T}},name:T,mount:!0,...B}}),l.mount.add(T),Y?Te({disabled:Ri(B.disabled)?B.disabled:t.disabled,name:T}):E(T,!0,B.value),{...fe?{disabled:B.disabled||t.disabled}:{},...t.progressive?{required:!!B.required,min:nd(B.min),max:nd(B.max),minLength:nd(B.minLength),maxLength:nd(B.maxLength),pattern:nd(B.pattern)}:{},name:T,onChange:z,onBlur:z,ref:be=>{if(be){ee(T,B),Y=ke(r,T);const ve=un(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,je=Aye(ve),ze=Y._f.refs||[];if(je?ze.find(Ke=>Ke===ve):ve===Y._f.ref)return;Tt(r,T,{_f:{...Y._f,...je?{refs:[...ze.filter(_b),ve,...Array.isArray(ke(i,T))?[{}]:[]],ref:{type:ve.type,name:T}}:{ref:ve}}}),E(T,!1,void 0,ve)}else Y=ke(r,T,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||B.shouldUnregister)&&!(xye(l.array,T)&&s.action)&&l.unMount.add(T)}}},we=()=>t.shouldFocusError&&Ad(r,G,l.mount),Se=T=>{Ri(T)&&(y.state.next({disabled:T}),Ad(r,(B,Y)=>{const fe=ke(r,Y);fe&&(B.disabled=fe._f.disabled||T,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(be=>{be.disabled=fe._f.disabled||T}))},0,!1))},ye=(T,B)=>async Y=>{let fe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let be=An(a);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:je}=await L();n.errors=ve,be=An(je)}else await R(r);if(l.disabled.size)for(const ve of l.disabled)on(be,ve);if(on(n.errors,"root"),pr(n.errors)){y.state.next({errors:{}});try{await T(be,Y)}catch(ve){fe=ve}}else B&&await B({...n.errors},Y),we(),setTimeout(we);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pr(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},We=(T,B={})=>{ke(r,T)&&(un(B.defaultValue)?H(T,An(ke(i,T))):(H(T,B.defaultValue),Tt(i,T,An(B.defaultValue))),B.keepTouched||on(n.touchedFields,T),B.keepDirty||(on(n.dirtyFields,T),n.isDirty=B.defaultValue?I(T,An(ke(i,T))):I()),B.keepError||(on(n.errors,T),m.isValid&&w()),y.state.next({...n}))},De=(T,B={})=>{const Y=T?An(T):i,fe=An(Y),be=pr(T),ve=be?i:fe;if(B.keepDefaultValues||(i=Y),!B.keepValues){if(B.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(Xl(i,a))]);for(const ze of Array.from(je))ke(n.dirtyFields,ze)?Tt(ve,ze,ke(a,ze)):H(ze,ke(ve,ze))}else{if(u2&&un(T))for(const je of l.mount){const ze=ke(r,je);if(ze&&ze._f){const Ke=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(Fp(Ke)){const ct=Ke.closest("form");if(ct){ct.reset();break}}}}if(B.keepFieldsRef)for(const je of l.mount)H(je,ke(ve,je));else r={}}a=t.shouldUnregister?B.keepDefaultValues?An(i):{}:An(ve),y.array.next({values:{...ve}}),y.state.next({values:{...ve}})}l={mount:B.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!m.isValid||!!B.keepIsValid||!!B.keepDirtyValues,s.watch=!!t.shouldUnregister,y.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:be?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Ns(T,i)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:be?{}:B.keepDirtyValues?B.keepDefaultValues&&a?Xl(i,a):n.dirtyFields:B.keepDefaultValues&&T?Xl(i,T):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},he=(T,B)=>De(ji(T)?T(a):T,B),Ce=(T,B={})=>{const Y=ke(r,T),fe=Y&&Y._f;if(fe){const be=fe.refs?fe.refs[0]:fe.ref;be.focus&&(be.focus(),B.shouldSelect&&ji(be.select)&&be.select())}},Ye=T=>{n={...n,...T}},ce={control:{register:ee,unregister:_e,getFieldState:Q,handleSubmit:ye,setError:ue,_subscribe:J,_runSchema:L,_focusError:we,_getWatch:V,_getDirty:I,_setValid:w,_setFieldArray:A,_setDisabledField:Te,_setErrors:k,_getFieldArray:q,_reset:De,_resetDefaultValues:()=>ji(t.defaultValues)&&t.defaultValues().then(T=>{he(T,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Se,_subjects:y,_proxyFormState:m,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(T){s=T},get _defaultValues(){return i},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:le,trigger:ie,register:ee,handleSubmit:ye,watch:xe,setValue:H,getValues:$,reset:he,resetField:We,clearErrors:ne,unregister:_e,setError:ue,setFocus:Ce,getFieldState:Q};return{...ce,formControl:ce}}function Tf(e={}){const t=ln.useRef(void 0),n=ln.useRef(void 0),[r,i]=ln.useState({isDirty:!1,isValidating:!1,isLoading:ji(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ji(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!ji(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=zye(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,jye(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),ln.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ln.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),ln.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),ln.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),ln.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==r.isDirty&&a._subjects.state.next({isDirty:s})}},[a,r.isDirty]),ln.useEffect(()=>{e.values&&!Ns(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[a,e.values]),ln.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Sye(r,a),t.current}const Bye=["김민준","이서연","박지훈","정수빈","최예진","강민서","조유진","윤서준","임하은","한지우","오승민","서은지","신동현","황소연","안재현"],Vye=[{title:"반장",salary:15e3,positions:1},{title:"부반장",salary:12e3,positions:1},{title:"환경부장",salary:1e4,positions:2},{title:"도서부원",salary:8e3,positions:3},{title:"급식도우미",salary:8e3,positions:2},{title:"칠판지우개",salary:6e3,positions:3},{title:"청소도우미",salary:7e3,positions:3}],Uye=[{name:"미세먼지 농도",symbol:"PM001",sector:"환경",price:5e3},{name:"오늘 기온",symbol:"TEMP1",sector:"환경",price:3500},{name:"선생님 몸무게",symbol:"TEACH",sector:"건강",price:7e3},{name:"비상교육",symbol:"VISE1",sector:"교육",price:6e3}],Fye=[{name:"첫 거래",description:"처음으로 거래를 완료했어요!",icon:"🎯",category:"milestone",condition:{type:"transaction_count",target:1},points:10,isActive:!0},{name:"거래왕",description:"10번 이상 거래했어요!",icon:"👑",category:"trading",condition:{type:"transaction_count",target:10},points:50,isActive:!0},{name:"저축 시작",description:"첫 저축을 시작했어요!",icon:"🏦",category:"savings",condition:{type:"amount_saved",target:1e3},points:20,isActive:!0},{name:"투자의 시작",description:"첫 주식을 구매했어요!",icon:"📈",category:"trading",condition:{type:"transaction_count",target:1},points:30,isActive:!0},{name:"부자",description:"총 자산이 100,000원을 넘었어요!",icon:"💰",category:"milestone",condition:{type:"portfolio_value",target:1e5},points:100,isActive:!0},{name:"일벌레",description:"직업을 가지고 열심히 일했어요!",icon:"💼",category:"milestone",condition:{type:"jobs_completed",target:1,timeframe:"monthly"},points:25,isActive:!0},{name:"나눔의 미덕",description:"기부를 5번 이상 했어요!",icon:"🤝",category:"social",condition:{type:"donations_made",target:5},points:40,isActive:!0}];function Hye(e){const t=new Date,n={students:[],jobs:[],stocks:[],stockTransactions:[],stockPortfolios:[],savingsAccounts:[],achievements:[],studentAchievements:[],transactions:[],marketNews:[],stockPriceHistory:[],marketParticipation:[],savingsRates:[],activityHeatmap:[]};Vye.forEach(s=>{n.jobs.push({id:it(),classroomId:e,title:s.title,salary:s.salary,maxPositions:s.positions,currentPositions:0,description:`${s.title} 직업입니다.`})});let r=0;Bye.forEach((s,l)=>{const u=it(),f=Math.random()>.3;let m=null;if(f&&r<n.jobs.length){const b=n.jobs[r%n.jobs.length];b.currentPositions<b.maxPositions&&(m=b.id,b.currentPositions++,r++)}const p=Math.floor(Math.random()*5e4)+1e4,y=Math.floor(Math.random()*300)+550,v={id:u,classroomId:e,name:s,pin4:String(1e3+l).padStart(4,"0"),balance:p,active:!0,createdAt:new Date(t.getTime()-Math.random()*30*24*60*60*1e3).toISOString(),creditScore:y,creditGrade:y>750?"A+":y>700?"A":y>650?"B+":y>600?"B":"C",totalEarnings:m?Math.floor(Math.random()*1e5)+5e4:Math.floor(Math.random()*3e4),totalTransactions:Math.floor(Math.random()*50)+10,achievements:[],lateCount:Math.floor(Math.random()*5),homeworkMissed:Math.floor(Math.random()*3),bookOverdue:Math.floor(Math.random()*2)};m&&(v.jobId=m,console.log(`[DEBUG] Assigned job ${m} to student ${s}`)),n.students.push(v)}),Uye.forEach(s=>{const l=it(),u=s.price;n.stocks.push({id:l,classroomId:e,symbol:s.symbol,name:s.name,currentPrice:u+Math.floor(Math.random()*1e3-500),previousPrice:u,sector:s.sector,description:`${s.name} 주식입니다.`,isActive:!0,createdAt:new Date(t.getTime()-1440*60*60*1e3).toISOString(),updatedAt:t.toISOString()});for(let f=30;f>=0;f--){const m=new Date(t);m.setDate(m.getDate()-f);const p=u+Math.floor((Math.random()-.5)*2e3);n.stockPriceHistory.push({id:it(),stockId:l,date:m.toISOString().split("T")[0],openPrice:p-Math.floor(Math.random()*200),closePrice:p,highPrice:p+Math.floor(Math.random()*300),lowPrice:p-Math.floor(Math.random()*300),volume:Math.floor(Math.random()*1e4)+1e3,createdAt:m.toISOString()})}}),n.students.forEach(s=>{if(Math.random()>.4){const f=Math.floor(Math.random()*3)+2;[...n.stocks].sort(()=>Math.random()-.5).slice(0,f).forEach(p=>{const y=Math.floor(Math.random()*10)+1,v=p.currentPrice+Math.floor(Math.random()*1e3-500);n.stockPortfolios.push({id:it(),classroomId:e,studentId:s.id,stockId:p.id,quantity:y,averagePrice:v,totalCost:v*y,createdAt:new Date(t.getTime()-Math.random()*20*24*60*60*1e3).toISOString(),updatedAt:t.toISOString()});for(let b=0;b<Math.floor(Math.random()*3)+1;b++){const w=new Date(t.getTime()-Math.random()*30*24*60*60*1e3),j=Math.floor(Math.random()*3)+1,A=v+Math.floor(Math.random()*500-250);n.stockTransactions.push({id:it(),classroomId:e,studentId:s.id,stockId:p.id,type:"buy",quantity:j,price:A,totalAmount:A*j,fee:Math.floor(A*j*.01),createdAt:w.toISOString()})}if(Math.random()>.6){const b=new Date(t.getTime()-Math.random()*10*24*60*60*1e3),w=Math.floor(Math.random()*2)+1,j=p.currentPrice+Math.floor(Math.random()*500);n.stockTransactions.push({id:it(),classroomId:e,studentId:s.id,stockId:p.id,type:"sell",quantity:w,price:j,totalAmount:j*w,fee:Math.floor(j*w*.01),createdAt:b.toISOString()})}})}if(Math.random()>.5){const f=Math.random()>.5?"savings":"deposit",m=Math.floor(Math.random()*3e4)+1e4,p=Math.random()>.5?6:12;n.savingsAccounts.push({id:it(),classroomId:e,studentId:s.id,type:f,name:f==="savings"?"우리반 적금":"우리반 예금",principal:m,interestRate:f==="savings"?5:3,termMonths:p,monthlyDeposit:f==="savings"?Math.floor(m/p):0,totalBalance:m+Math.floor(Math.random()*5e3),createdAt:new Date(t.getTime()-Math.random()*60*24*60*60*1e3).toISOString(),maturityDate:new Date(t.getTime()+p*30*24*60*60*1e3).toISOString(),isMatured:!1,autoRenewal:Math.random()>.5})}for(let f=0;f<Math.floor(Math.random()*10)+5;f++){const m=new Date(t.getTime()-Math.random()*30*24*60*60*1e3),p=["payroll","purchase","transfer","bonus"],y=p[Math.floor(Math.random()*p.length)];n.transactions.push({id:it(),classroomId:e,studentId:s.id,type:y,amount:y==="payroll"||y==="bonus"?Math.floor(Math.random()*1e4)+5e3:-Math.floor(Math.random()*5e3)-1e3,memo:y==="payroll"?"월급":y==="bonus"?"보너스":y==="purchase"?"구매":"이체",createdAt:m.toISOString(),approved:!0,requestedBy:"teacher"})}}),Fye.forEach(s=>{const l=it();n.achievements.push({...s,id:l,createdAt:t.toISOString()}),n.students.forEach(u=>{if(Math.random()>.3){const m=Math.floor(Math.random()*100),p=m>=100||Math.random()>.7;n.studentAchievements.push({id:it(),classroomId:e,studentId:u.id,achievementId:l,progress:p?100:m,isCompleted:p,completedAt:p?new Date(t.getTime()-Math.random()*30*24*60*60*1e3).toISOString():void 0,createdAt:new Date(t.getTime()-Math.random()*60*24*60*60*1e3).toISOString(),updatedAt:t.toISOString()})}})});const i=["환경","교육","기술","식품"],a=["positive","negative","neutral"];for(let s=0;s<5;s++){const l=new Date(t.getTime()-Math.random()*7*24*60*60*1e3),u=i[Math.floor(Math.random()*i.length)],f=a[Math.floor(Math.random()*a.length)],m={환경:["미세먼지 농도 개선!","교실 환경 개선 프로젝트 시작"],교육:["새로운 학습 프로그램 도입","시험 기간 임박"],기술:["디지털 기기 보급 확대","온라인 학습 플랫폼 개선"],식품:["급식 메뉴 개선","건강한 간식 도입"]},p=m[u][Math.floor(Math.random()*m[u].length)];n.marketNews.push({id:it(),classroomId:e,title:p,content:`${p}과 관련된 뉴스입니다. ${u} 관련 주식에 영향을 줄 것으로 예상됩니다.`,type:u,impact:f,severity:Math.floor(Math.random()*5)+1,affectedStocks:n.stocks.filter(y=>y.sector===u).map(y=>y.id).slice(0,2),isActive:s<3,expiresAt:new Date(t.getTime()+1440*60*1e3).toISOString(),createdAt:l.toISOString()})}for(let s=29;s>=0;s--){const l=new Date(t);l.setDate(l.getDate()-s);const f=l.getDay()===0||l.getDay()===6?.3:.7,m=Math.min(1,f+(Math.random()*.3-.15));n.marketParticipation.push({id:it(),classroomId:e,date:l.toISOString().split("T")[0],participationRate:Math.round(m*100)/100,activeStudents:Math.floor(n.students.length*m),totalTransactions:Math.floor(m*50+Math.random()*20),tradingVolume:Math.floor(m*1e5+Math.random()*5e4),createdAt:l.toISOString()})}for(let s=11;s>=0;s--){const l=new Date(t);l.setMonth(l.getMonth()-s);const u=l.getMonth(),p=Math.min(.9,(u===0||u===1||u===7||u===8?.6:.4)+(Math.random()*.2-.1)),y=n.students.reduce((b,w)=>b+w.balance,0),v=n.savingsAccounts.reduce((b,w)=>b+w.totalBalance,0);n.savingsRates.push({id:it(),classroomId:e,month:l.toISOString().split("T")[0].substring(0,7),savingsRate:Math.round(p*100)/100,totalSavings:v+Math.floor(Math.random()*5e4),totalAssets:y+Math.floor(Math.random()*1e5),newSavingsAccounts:Math.floor(p*8)+Math.floor(Math.random()*3),averageSavingsAmount:Math.floor(2e4+p*3e4),createdAt:l.toISOString()})}return n.students.forEach(s=>{n.students.findIndex(l=>l.id===s.id);for(let l=1;l<=5;l++)for(let u=9;u<=16;u++){const f=.7+Math.random()*.3,m=Math.min(1,f),p=Math.floor(m*8);n.activityHeatmap.push({id:it(),classroomId:e,studentId:s.id,dayOfWeek:l,hour:u,activityLevel:Math.round(m*100)/100,transactionCount:p,totalAmount:p*(Math.floor(Math.random()*3e3)+1e3),createdAt:t.toISOString()})}for(let l=0;l<=6;l+=6)[10,14,18].forEach(u=>{const f=.2+Math.random()*.3,m=Math.min(1,f),p=Math.floor(m*5);n.activityHeatmap.push({id:it(),classroomId:e,studentId:s.id,dayOfWeek:l,hour:u,activityLevel:Math.round(m*100)/100,transactionCount:p,totalAmount:p*(Math.floor(Math.random()*2e3)+500),createdAt:t.toISOString()})})}),n}const qye=[{value:"coin",label:"🪙 동전 디자인",preview:"🪙"},{value:"bill",label:"💵 지폐 디자인",preview:"💵"},{value:"gem",label:"💎 보석 디자인",preview:"💎"},{value:"star",label:"⭐ 별 디자인",preview:"⭐"},{value:"heart",label:"❤️ 하트 디자인",preview:"❤️"},{value:"flower",label:"🌸 꽃 디자인",preview:"🌸"}];function Wye(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,a]=N.useState(null),[s,l]=N.useState(!1),{classrooms:u,loadClassrooms:f,createClassroom:m,updateClassroom:p,deleteClassroom:y}=kc(),{currentClassId:v,setCurrentClassId:b}=Xo(),{createStudent:w,getStudentsByClassroom:j,assignJob:A,diversifyCreditScores:_,setStudents:k}=yr(),{createJob:E,setJobs:M}=Cc(),{createStock:O,addStockTransaction:L,createStockPortfolio:D}=ar(),{createSavingsAccount:R}=Ts(),{createAchievement:F,createStudentAchievement:I}=Oo(),{createMarketNews:V,addStockPriceHistory:q}=Ms(),{addMarketParticipation:re,addSavingsRate:se,addActivityHeatmap:H}=Z5(),{showEventNotification:z}=rg(),{register:G,handleSubmit:ie,reset:$,formState:{errors:Q}}=Tf();N.useEffect(()=>{f()},[f]);const ne=ee=>{if(n)p(n.id,{name:ee.name,currencyUnit:ee.currencyUnit});else{const we=m({name:ee.name,currencyUnit:ee.currencyUnit,settings:{taxRate:10,payCycle:"weekly",approvalRequired:!0,salaryBase:1e3}});u.length===0&&b(we.id)}t(!1),r(null),$()},ue=ee=>{r(ee),t(!0),$({name:ee.name,description:"",currencyUnit:ee.currencyUnit,currencyDesign:"coin",classRules:""})},xe=ee=>{if(window.confirm(`정말 이 학급을 삭제하시겠습니까?
관련된 모든 데이터가 삭제됩니다.`)&&(y(ee),v===ee)){const we=u.filter(Se=>Se.id!==ee);we.length>0?b(we[0].id):b(null)}},J=ee=>{window.confirm(`학생들의 신용등급을 다양하게 재설정하시겠습니까?
기존 신용점수가 변경됩니다.`)&&(_(ee),z("🏆 신용등급 다양화 완료!","학생들의 신용등급이 A+부터 D등급까지 다양하게 분포되었습니다."))},le=ee=>{b(ee)},_e=async()=>{l(!0);try{const ee=m({name:"6학년 1반 (시연용)",currencyUnit:"비바",treasury:5e5,donation:5e4,settings:{taxRate:10,payCycle:"weekly",approvalRequired:!0,salaryBase:1e3}}),we=Hye(ee.id);console.log("[DEBUG] Creating jobs:",we.jobs.map(Se=>({id:Se.id,title:Se.title}))),M(we.jobs),console.log("[DEBUG] Creating students:",we.students.map(Se=>({name:Se.name,jobId:Se.jobId}))),k(we.students),we.stocks.forEach(Se=>{O(Se)}),we.stockTransactions.forEach(Se=>{L(Se)}),we.stockPortfolios.forEach(Se=>{D(Se)}),we.stockPriceHistory.forEach(Se=>{q(Se)}),we.savingsAccounts.forEach(Se=>{R(Se)}),we.achievements.forEach(Se=>{F(Se)}),we.studentAchievements.forEach(Se=>{I(Se)}),we.marketNews.forEach(Se=>{V(Se)}),we.marketParticipation.forEach(Se=>{re(Se)}),we.savingsRates.forEach(Se=>{se(Se)}),we.activityHeatmap.forEach(Se=>{H(Se)}),b(ee.id),z("🎉 완전한 시연용 학급 생성 완료!","15명의 학생, 8개 종목, 거래내역, 예금, 업적, 뉴스까지 모든 데이터가 생성되었습니다!")}catch(ee){console.error("시연용 학급 생성 실패:",ee),z("❌ 생성 실패","시연용 데이터 생성 중 오류가 발생했습니다.")}finally{l(!1)}},Te=()=>{t(!1),r(null),$()};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"학급 관리"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["총 ",u.length,"개 학급"]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:_e,disabled:s,className:"inline-flex items-center px-5 py-3 border-0 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:s?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"생성 중..."]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mr-2",children:"🎭"}),"시연용 학급 생성"]})}),d.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center px-5 py-3 border-0 text-sm font-medium rounded-xl text-white bg-accent-500 hover:bg-accent-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:"새 학급 만들기"})]})]}),e&&d.jsx("div",{className:"bg-white/90 backdrop-blur-sm shadow-lg border border-gray-100/50 sm:rounded-2xl",children:d.jsxs("div",{className:"px-6 py-6 sm:p-8",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:n?"학급 수정":"새 학급 만들기"}),d.jsxs("form",{onSubmit:ie(ne),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"학급(국가) 이름 *"}),d.jsx("input",{type:"text",...G("name",{required:"학급 이름을 입력하세요"}),className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"예: 6학년 1반, 해바라기반 등"}),Q.name&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:Q.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"학급 설명"}),d.jsx("textarea",{...G("description"),rows:3,className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"학급에 대한 간단한 설명을 입력하세요"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"화폐 단위 *"}),d.jsx("input",{type:"text",...G("currencyUnit",{required:"화폐 단위를 입력하세요"}),className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"예: 원, 달러, 해바라기 등"}),Q.currencyUnit&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:Q.currencyUnit.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"화폐 디자인 선택"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:qye.map(ee=>d.jsxs("label",{className:"relative flex cursor-pointer rounded-xl border border-gray-200 p-4 focus:outline-none hover:bg-gray-50 transition-all duration-200",children:[d.jsx("input",{type:"radio",...G("currencyDesign"),value:ee.value,className:"sr-only"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-2xl mr-3",children:ee.preview}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:ee.label})]})]},ee.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"학급 규칙 (헌법)"}),d.jsx("textarea",{...G("classRules"),rows:6,className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:`학급 경제 활동 규칙을 작성하세요
예:
1. 월급은 매주 금요일에 지급됩니다
2. 성실히 일한 학생에게 보너스가 주어집니다
3. 규칙을 어길 시 벌금이 부과됩니다
4. 기부 활동을 장려합니다`})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:Te,className:"px-6 py-3 border-0 rounded-xl text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-all duration-200",children:"취소"}),d.jsx("button",{type:"submit",className:"px-6 py-3 border-0 rounded-xl text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:n?"수정하기":"만들기"})]})]})]})}),d.jsxs("div",{className:"bg-white/90 backdrop-blur-sm shadow-lg border border-gray-100/50 overflow-hidden sm:rounded-2xl",children:[d.jsxs("div",{className:"px-6 py-6 sm:px-8",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"전체 학급 목록"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"생성된 학급들을 관리하고 현재 활성 학급을 선택할 수 있습니다."})]}),u.length===0?d.jsxs("div",{className:"text-center py-12 px-6",children:[d.jsx("svg",{className:"mx-auto h-16 w-16 text-primary-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"비바빌리지에 오신 것을 환영합니다!"}),d.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["아직 생성된 학급이 없습니다.",d.jsx("br",{}),"학급 경제 시스템을 시작하려면 학급을 만들어주세요."]}),d.jsx("div",{className:"bg-red-50 rounded-xl p-6 max-w-md mx-auto",children:d.jsxs("p",{className:"text-center text-gray-700",children:["💡 위의 ",d.jsx("span",{className:"font-semibold text-primary-600",children:'"시연용 학급 생성"'})," 버튼을 눌러보세요"]})})]}):d.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(ee=>d.jsx("li",{className:"px-6 py-4 sm:px-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("h4",{className:"text-sm font-medium text-accent-600 truncate",children:ee.name}),v===ee.id&&d.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"현재 활성"})]}),d.jsx("div",{className:"mt-2 flex",children:d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsxs("span",{children:["화폐: ",ee.currencyUnit]}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsxs("span",{children:["국고: ",ee.treasury.toLocaleString(),ee.currencyUnit]}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsxs("span",{children:["기부금: ",ee.donation.toLocaleString(),ee.currencyUnit]})]})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[v!==ee.id&&d.jsx("button",{onClick:()=>le(ee.id),className:"px-3 py-1 text-xs font-medium text-accent-600 bg-accent-100 rounded-full hover:bg-accent-200 transition-all duration-200",children:"활성화"}),v===ee.id&&d.jsx("button",{onClick:()=>a(ee),className:"px-3 py-1 text-xs font-medium text-blue-600 bg-blue-100 rounded-full hover:bg-blue-200 transition-all duration-200",children:"⚙️ 세금 설정"}),d.jsx("button",{onClick:()=>ue(ee),className:"px-3 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200 transition-all duration-200",children:"수정"}),d.jsx("button",{onClick:()=>J(ee.id),className:"px-3 py-1 text-xs font-medium text-purple-600 bg-purple-100 rounded-full hover:bg-purple-200 transition-all duration-200",children:"🏆 신용등급 다양화"}),d.jsx("button",{onClick:()=>xe(ee.id),className:"px-3 py-1 text-xs font-medium text-red-600 bg-red-100 rounded-full hover:bg-red-200 transition-all duration-200",children:"삭제"})]})]})},ee.id))})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-4 mx-auto p-6 border max-w-5xl shadow-xl rounded-xl bg-white",children:d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:"⚙️ 세금 정책 관리"}),d.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("span",{className:"text-2xl",children:"🏛️"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h4",{className:"text-lg font-medium text-blue-900",children:i.name}),d.jsx("p",{className:"text-sm text-blue-700",children:"다양한 세금 항목을 설정하여 학급 경제 정책을 관리해보세요"})]})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:"💼 기본 소득세"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"소득세율 (0% ~ 50%)"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:i.settings.taxRate,onChange:ee=>{const we=parseInt(ee.target.value);a({...i,settings:{...i.settings,taxRate:we}})},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:"0%"}),d.jsxs("span",{className:"font-bold text-lg text-blue-600",children:[i.settings.taxRate,"%"]}),d.jsx("span",{children:"50%"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[d.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"예상 세수입 (월)"}),d.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.floor(i.settings.taxRate/100*2500*8).toLocaleString(),i.currencyUnit]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["* 평균 급여 2,500",i.currencyUnit," × 8명 기준"]})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:"📋 추가 세금 항목"}),d.jsx("button",{onClick:()=>{},className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 text-sm font-medium",children:"+ 새 항목 추가"})]})}),d.jsx("div",{className:"overflow-hidden",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"세금 항목"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"세율"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"적용 대상"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),d.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:"💼"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:"소득세"}),d.jsx("div",{className:"text-sm text-gray-500",children:"기본 급여에서 공제"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[i.settings.taxRate,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"모든 급여 소득"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"활성"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsx("span",{className:"text-gray-400",children:"기본 항목"})})]}),d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:"🏠"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:"교실 사용료"}),d.jsx("div",{className:"text-sm text-gray-500",children:"월 고정 징수"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["200",i.currencyUnit]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"모든 학생"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"비활성"})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"수정"}),d.jsx("button",{className:"text-red-600 hover:text-red-900",children:"삭제"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:"🌱"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:"환경세"}),d.jsx("div",{className:"text-sm text-gray-500",children:"친환경 활동 지원"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"text-lg font-bold text-green-600",children:"3%"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"구매 거래시"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"활성"})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"수정"}),d.jsx("button",{className:"text-red-600 hover:text-red-900",children:"삭제"})]})]})]})]})})]}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("span",{className:"text-yellow-500",children:"⚠️"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h5",{className:"text-sm font-medium text-yellow-800",children:"세금 정책 변경 주의사항"}),d.jsx("p",{className:"text-sm text-yellow-700",children:"세금 정책 변경은 다음 급여 지급 및 거래부터 적용됩니다. 학생들에게 미리 공지해 주세요."})]})]})})]}),d.jsxs("div",{className:"flex space-x-4 pt-6",children:[d.jsx("button",{onClick:()=>a(null),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 text-lg font-medium rounded-lg shadow-sm hover:bg-gray-300 transition-colors duration-200",children:"취소"}),d.jsx("button",{onClick:()=>{p(i.id,{settings:i.settings}),a(null),z("세금 정책 변경됨",`소득세율이 ${i.settings.taxRate}%로 변경되었습니다.`)},className:"flex-1 px-6 py-3 bg-blue-600 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors duration-200",children:"정책 저장"})]})]})})})]})}function Gye(){sf();const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,a]=N.useState(!1),[s,l]=N.useState(!1),[u,f]=N.useState([]),[m,p]=N.useState(null),[y,v]=N.useState(null),[b,w]=N.useState(""),[j,A]=N.useState(""),[_,k]=N.useState("name"),[E,M]=N.useState("asc");N.useEffect(()=>{const ce=T=>{const B=T.target,Y=B.closest(".dropdown-menu")||B.closest(".kebab-button");y&&!Y&&v(null)};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},[y]);const O=Ur(),L=$s(),D=Mw(),{createStudent:R,updateStudent:F,deleteStudent:I,addTransaction:V,getCreditGrade:q,getInterestRate:re,addLateRecord:se,addHomeworkMissed:H,addBookOverdue:z,resetBehaviorRecord:G}=yr(),{showSalaryNotification:ie,showEventNotification:$}=rg(),{register:Q,handleSubmit:ne,reset:ue,formState:{errors:xe}}=Tf(),J=ce=>{_===ce?M(E==="asc"?"desc":"asc"):(k(ce),M("asc"))},le=L.filter(ce=>{const T=ce.name.toLowerCase().includes(b.toLowerCase()),B=!j||ce.jobId===j;return T&&B}).sort((ce,T)=>{let B,Y;switch(_){case"name":B=ce.name.toLowerCase(),Y=T.name.toLowerCase();break;case"balance":B=ce.balance,Y=T.balance;break;case"creditGrade":const fe={"A+":8,A:7,"B+":6,B:5,"C+":4,C:3,"D+":2,D:1};B=fe[ce.creditGrade]||5,Y=fe[T.creditGrade]||5;break;case"creditScore":B=ce.creditScore||650,Y=T.creditScore||650;break;default:return 0}return B<Y?E==="asc"?-1:1:B>Y?E==="asc"?1:-1:0}),_e=ce=>{const T=D.find(Fn=>Fn.id===ce.jobId),B=T?T.salary:0,Y=[{name:"기본급",amount:B,type:"income",description:"직업 기본급여"}];Math.random()>.7&&Y.push({name:"성과급",amount:Math.floor(B*.1),type:"income",description:"우수 활동 보상"});const fe=[],be=Math.floor(B*(O?.taxRate||.1));be>0&&fe.push({name:"소득세",amount:be,type:"deduction",description:"국세청 납부"});const ve=Math.floor(B*.03);ve>0&&fe.push({name:"건강보험료",amount:ve,type:"deduction",description:"의료보험 납부"});const je=Math.floor(B*.045);je>0&&fe.push({name:"국민연금",amount:je,type:"deduction",description:"연금 적립"});const ze=Math.floor(B*.009);ze>0&&fe.push({name:"고용보험",amount:ze,type:"deduction",description:"실업급여 적립"});const Ke=Y.reduce((Fn,Fs)=>Fn+Fs.amount,0),ct=fe.reduce((Fn,Fs)=>Fn+Fs.amount,0),qa=Ke-ct;return{studentId:ce.id,studentName:ce.name,baseSalary:B,totalIncome:Ke,totalDeductions:ct,netPay:qa,details:[...Y,...fe]}},Te=()=>{const ce=[],T=le.filter(B=>B.jobId);T.forEach(B=>{const Y=_e(B);ce.push(Y),F(B.id,{balance:B.balance+Y.netPay}),V(B.id,Y.netPay),ie(B.name,Y.netPay,O.currencyUnit)}),f(ce),l(!0),a(!1),$("💰 급여 일괄 지급 완료!",`${T.length}명의 학생에게 급여가 지급되었습니다.`)},ee=ce=>{const T=_e(ce);f([T]),p(ce),l(!0)},we=()=>{const ce=`
      <style>
        @media print {
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 12px; line-height: 1.4; }
          .payslip-container { width: 100%; max-width: 800px; margin: 0 auto; }
          .payslip-header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #333; padding-bottom: 10px; }
          .payslip-title { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .payslip-date { font-size: 12px; color: #666; }
          .employee-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; padding: 10px; background-color: #f9f9f9; }
          .payslip-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
          .payslip-table th, .payslip-table td { border: 1px solid #333; padding: 8px; text-align: left; }
          .payslip-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .amount-right { text-align: right !important; }
          .amount-income { color: #0066cc; font-weight: bold; }
          .amount-deduction { color: #cc0000; font-weight: bold; }
          .total-row { background-color: #f0f0f0; font-weight: bold; }
          .net-pay { background-color: #e6f3ff; font-size: 14px; font-weight: bold; text-align: center; padding: 15px; border: 2px solid #0066cc; margin-top: 10px; }
          .no-print { display: none !important; }
        }
      </style>
    `,T=u.map(Y=>`
      <div class="payslip-container">
        <div class="payslip-header">
          <div class="payslip-title">${O?.name} 급여명세서</div>
          <div class="payslip-date">지급일: ${new Date().toLocaleDateString("ko-KR")}</div>
        </div>

        <div class="employee-info">
          <div><strong>성명:</strong> ${Y.studentName}</div>
          <div><strong>직업:</strong> ${Ye(Y.studentId)}</div>
        </div>

        <table class="payslip-table">
          <thead>
            <tr>
              <th>항목</th>
              <th>지급액</th>
              <th>공제액</th>
              <th>비고</th>
            </tr>
          </thead>
          <tbody>
            ${Y.details.filter(fe=>fe.type==="income").map(fe=>`
              <tr>
                <td>${fe.name}</td>
                <td class="amount-right amount-income">${fe.amount.toLocaleString()}${O?.currencyUnit||""}</td>
                <td class="amount-right">-</td>
                <td>${fe.description}</td>
              </tr>
            `).join("")}
            ${Y.details.filter(fe=>fe.type==="deduction").map(fe=>`
              <tr>
                <td>${fe.name}</td>
                <td class="amount-right">-</td>
                <td class="amount-right amount-deduction">${fe.amount.toLocaleString()}${O?.currencyUnit||""}</td>
                <td>${fe.description}</td>
              </tr>
            `).join("")}
            <tr class="total-row">
              <td>총 지급액</td>
              <td class="amount-right amount-income">${Y.totalIncome.toLocaleString()}${O?.currencyUnit||""}</td>
              <td class="amount-right">-</td>
              <td>-</td>
            </tr>
            <tr class="total-row">
              <td>총 공제액</td>
              <td class="amount-right">-</td>
              <td class="amount-right amount-deduction">${Y.totalDeductions.toLocaleString()}${O?.currencyUnit||""}</td>
              <td>-</td>
            </tr>
          </tbody>
        </table>

        <div class="net-pay">
          실지급액: ${Y.netPay.toLocaleString()}${O?.currencyUnit||""}
          <br><small>* 위 금액은 ${O?.name} 계좌로 입금되었습니다.</small>
        </div>
      </div>
      ${u.length>1?'<div style="page-break-after: always;"></div>':""}
    `).join(""),B=window.open("","_blank");B&&(B.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>급여명세서</title>
          <meta charset="utf-8">
          ${ce}
        </head>
        <body>
          ${T}
        </body>
        </html>
      `),B.document.close(),B.onload=()=>{B.print(),B.close()})},Se=ce=>{n?F(n.id,{name:ce.name,pin4:ce.pin4||void 0,balance:ce.balance,jobId:ce.jobId||void 0}):R({classroomId:O.id,name:ce.name,pin4:ce.pin4||void 0,balance:ce.balance||1e4,jobId:ce.jobId||void 0}),t(!1),r(null),ue()},ye=ce=>{r(ce),t(!0),ue({name:ce.name,pin4:ce.pin4||"",balance:ce.balance,jobId:ce.jobId||""})},We=ce=>{window.confirm("정말 이 학생을 삭제하시겠습니까?")&&I(ce)},De=(ce,T)=>{const B=T>0?"보너스 지급":"벌금 부과";window.confirm(`${ce.name}에게 ${Math.abs(T).toLocaleString()}${O?.currencyUnit} ${B}하시겠습니까?`)&&F(ce.id,{balance:ce.balance+T})},he=()=>{t(!1),r(null),ue()},Ce=ce=>{if(!ce)return"직업 없음";const T=D.find(B=>B.id===ce);return T?T.title:"직업 없음"},Ye=ce=>{const T=L.find(B=>B.id===ce);return!T||!T.jobId?"무직":Ce(T.jobId)};if(!O)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"학급이 선택되지 않았습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"먼저 학급을 생성하거나 선택하세요."})]});const wt=le.filter(ce=>ce.jobId);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"학생 관리"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[O.name," 학급 대시보드"]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("button",{onClick:()=>a(!0),disabled:wt.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"일괄 급여 지급"]}),d.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"새 학생 추가"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 학생 수"}),d.jsx("span",{className:"text-2xl",children:"👥"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[L.length,d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"명"})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"활성 학생 기준"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"고용률"}),d.jsx("span",{className:"text-2xl",children:"💼"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[L.length>0?Math.round(wt.length/L.length*100):0,d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"%"})]}),d.jsxs("div",{className:"text-xs text-green-600 mt-2",children:[wt.length,"/",L.length," 고용"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"평균 자산"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[L.length>0?Math.round(L.reduce((ce,T)=>ce+T.balance,0)/L.length).toLocaleString():0,d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:O.currencyUnit})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["학생 ",L.length,"명 기준"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"평균 신용등급"}),d.jsx("span",{className:"text-2xl",children:"🏆"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(()=>{const ce=L.length>0?Math.round(L.reduce((B,Y)=>B+(Y.creditScore||650),0)/L.length):650;return ce>750?"A+":ce>700?"A":ce>650?"B+":ce>600?"B":"C"})(),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"등급"})]}),d.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:[L.length>0?Math.round(L.reduce((ce,T)=>ce+(T.creditScore||650),0)/L.length):650,"점 평균"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"학생 이름 검색...",value:b,onChange:ce=>w(ce.target.value),className:"w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"}),d.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),d.jsxs("select",{value:j,onChange:ce=>A(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"모든 직업"}),D.map(ce=>d.jsx("option",{value:ce.id,children:ce.title},ce.id))]})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["총 ",le.length,"명"]})]})]}),d.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"})}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("name"),children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{children:"학생명"}),d.jsx("svg",{className:`w-4 h-4 transition-transform ${_==="name"?E==="asc"?"rotate-0":"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("balance"),children:d.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[d.jsx("span",{children:"잔고"}),d.jsx("svg",{className:`w-4 h-4 transition-transform ${_==="balance"?E==="asc"?"rotate-0":"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"직업"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("creditGrade"),children:d.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[d.jsx("span",{children:"신용등급"}),d.jsx("svg",{className:`w-4 h-4 transition-transform ${_==="creditGrade"?E==="asc"?"rotate-0":"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("creditScore"),children:d.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[d.jsx("span",{children:"신용점수"}),d.jsx("svg",{className:`w-4 h-4 transition-transform ${_==="creditScore"?E==="asc"?"rotate-0":"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"액션"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map((ce,T)=>d.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${T%2===0?"bg-white":"bg-gray-50"}`,children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"flex items-center",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ce.name}),d.jsxs("div",{className:"text-sm text-gray-500",children:["PIN: ",ce.pin4||"****"]})]})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:d.jsxs("div",{className:"text-sm font-bold text-green-600",children:[ce.balance.toLocaleString(),O.currencyUnit]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ce.jobId?d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ce(ce.jobId)}):d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-500",children:"무직"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ${ce.creditGrade==="A+"||ce.creditGrade==="A"?"bg-green-100 text-green-800":ce.creditGrade==="B+"||ce.creditGrade==="B"?"bg-blue-100 text-blue-800":ce.creditGrade==="C+"||ce.creditGrade==="C"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ce.creditGrade||"B"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.creditScore||650})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsx("button",{onClick:()=>v(y===ce.id?null:ce.id),className:"kebab-button inline-flex items-center p-2 text-gray-400 hover:text-gray-500 rounded-full hover:bg-gray-100 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),y===ce.id&&d.jsxs("div",{className:"dropdown-menu absolute right-0 top-8 bg-white shadow-lg border border-gray-200 rounded-lg py-1 z-20 w-48",children:[ce.jobId&&d.jsxs("button",{onClick:()=>{ee(ce),v(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"급여명세서"]}),d.jsxs("button",{onClick:()=>{ye(ce),v(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"수정"]}),d.jsx("div",{className:"border-t my-1"}),d.jsxs("button",{onClick:()=>{De(ce,1e3),v(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"보너스 +1,000"]}),d.jsxs("button",{onClick:()=>{De(ce,-1e3),v(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"벌금 -1,000"]}),d.jsx("div",{className:"border-t my-1"}),d.jsxs("button",{onClick:()=>{We(ce.id),v(null)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"삭제"]})]})]})})]},ce.id))})]}),le.length===0&&d.jsxs("div",{className:"text-center py-12 bg-white",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"등록된 학생이 없습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"새 학생을 추가해보세요."})]})]})}),i&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-10 mx-auto p-6 border max-w-4xl shadow-xl rounded-xl bg-white",children:d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:"급여 일괄 지급"}),d.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("span",{className:"text-2xl",children:"📋"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h4",{className:"text-lg font-medium text-blue-900",children:"급여 지급 미리보기"}),d.jsxs("p",{className:"text-blue-700",children:["총 ",d.jsxs("span",{className:"font-bold",children:[wt.length,"명"]}),"의 직업 보유 학생에게 급여를 지급합니다."]})]})]}),d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"학생명"}),d.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"기본급"}),d.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"세금"}),d.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"실수령액"})]})}),d.jsx("tbody",{children:wt.map((ce,T)=>{const B=_e(ce);return d.jsxs("tr",{className:T%2===0?"bg-white":"bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:ce.name}),d.jsxs("td",{className:"px-4 py-3 text-right text-gray-700",children:[B.totalIncome.toLocaleString(),O.currencyUnit]}),d.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["-",B.totalDeductions.toLocaleString(),O.currencyUnit]}),d.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:[B.netPay.toLocaleString(),O.currencyUnit]})]},ce.id)})}),d.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 font-bold text-gray-900",children:"합계"}),d.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-700",children:[wt.reduce((ce,T)=>ce+_e(T).totalIncome,0).toLocaleString(),O.currencyUnit]}),d.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-600",children:["-",wt.reduce((ce,T)=>ce+_e(T).totalDeductions,0).toLocaleString(),O.currencyUnit]}),d.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:[wt.reduce((ce,T)=>ce+_e(T).netPay,0).toLocaleString(),O.currencyUnit]})]})})]})})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:Te,className:"flex-1 px-6 py-3 bg-green-600 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center justify-center",children:[d.jsx("span",{className:"mr-2",children:"💳"}),"급여 지급 실행"]}),d.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 text-lg font-medium rounded-lg shadow-sm hover:bg-gray-300 transition-colors duration-200",children:"취소"})]})]})})}),s&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-4 mx-auto p-6 border max-w-6xl shadow-xl rounded-xl bg-white min-h-[90vh]",children:d.jsxs("div",{className:"mt-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m?`${m.name} 급여명세서`:"급여 지급 결과"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:we,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"인쇄"]}),d.jsx("button",{onClick:()=>{l(!1),p(null)},className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]})]}),d.jsx("div",{className:"max-h-[75vh] overflow-y-auto",children:u.map((ce,T)=>d.jsxs("div",{className:"mb-6 bg-white border border-gray-300 shadow-sm",children:[d.jsx("div",{className:"bg-gray-100 border-b border-gray-300 p-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("h4",{className:"text-xl font-bold text-gray-800",children:[O.name," 급여명세서"]}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["지급일: ",new Date().toLocaleDateString("ko-KR")]})]})}),d.jsx("div",{className:"border-b border-gray-300 p-4 bg-gray-50",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"성명:"}),d.jsx("span",{className:"ml-2 font-semibold",children:ce.studentName})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"직업:"}),d.jsx("span",{className:"ml-2",children:Ye(ce.studentId)})]})]})}),d.jsx("div",{className:"p-4",children:d.jsxs("table",{className:"w-full text-sm border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b-2 border-gray-300",children:[d.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-700",children:"항목"}),d.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"지급액"}),d.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"공제액"}),d.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"비고"})]})}),d.jsxs("tbody",{children:[ce.details.filter(B=>B.type==="income").map((B,Y)=>d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsx("td",{className:"py-2 px-3",children:B.name}),d.jsxs("td",{className:"py-2 px-3 text-right text-blue-600 font-medium",children:[B.amount.toLocaleString(),O.currencyUnit]}),d.jsx("td",{className:"py-2 px-3 text-right",children:"-"}),d.jsx("td",{className:"py-2 px-3 text-right text-xs text-gray-500",children:B.description})]},`income-${Y}`)),ce.details.filter(B=>B.type==="deduction").map((B,Y)=>d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsx("td",{className:"py-2 px-3",children:B.name}),d.jsx("td",{className:"py-2 px-3 text-right",children:"-"}),d.jsxs("td",{className:"py-2 px-3 text-right text-red-600 font-medium",children:[B.amount.toLocaleString(),O.currencyUnit]}),d.jsx("td",{className:"py-2 px-3 text-right text-xs text-gray-500",children:B.description})]},`deduction-${Y}`)),d.jsxs("tr",{className:"border-t-2 border-gray-400 bg-gray-50",children:[d.jsx("td",{className:"py-3 px-3 font-semibold",children:"총 지급액"}),d.jsxs("td",{className:"py-3 px-3 text-right font-semibold text-blue-600",children:[ce.totalIncome.toLocaleString(),O.currencyUnit]}),d.jsx("td",{className:"py-3 px-3 text-right",children:"-"}),d.jsx("td",{className:"py-3 px-3 text-right",children:"-"})]}),d.jsxs("tr",{className:"border-b border-gray-300 bg-gray-50",children:[d.jsx("td",{className:"py-3 px-3 font-semibold",children:"총 공제액"}),d.jsx("td",{className:"py-3 px-3 text-right",children:"-"}),d.jsxs("td",{className:"py-3 px-3 text-right font-semibold text-red-600",children:[ce.totalDeductions.toLocaleString(),O.currencyUnit]}),d.jsx("td",{className:"py-3 px-3 text-right",children:"-"})]})]})]})}),d.jsxs("div",{className:"border-t-2 border-gray-400 bg-blue-50 p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-lg font-bold text-gray-800",children:"실지급액"}),d.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[ce.netPay.toLocaleString(),O.currencyUnit]})]}),d.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["* 위 금액은 ",O.name," 계좌로 입금되었습니다."]})]})]},T))})]})})}),e&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-8 mx-auto p-6 border max-w-2xl shadow-xl rounded-xl bg-white",children:d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:n?"학생 정보 수정":"새 학생 추가"}),d.jsx("button",{onClick:he,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),d.jsxs("form",{onSubmit:ne(Se),className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:"기본 정보"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"학생 이름 *"}),d.jsx("input",{type:"text",...Q("name",{required:"학생 이름을 입력하세요"}),className:"block w-full border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 text-base py-3 px-4",placeholder:"학생 이름을 입력하세요"}),xe.name&&d.jsx("p",{className:"mt-2 text-sm text-red-600",children:xe.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIN 번호 (4자리, 선택)"}),d.jsx("input",{type:"text",maxLength:4,...Q("pin4"),className:"block w-full border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 text-base py-3 px-4",placeholder:"예: 1234"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"비워두면 자동 생성됩니다"})]})]})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:"경제 정보"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"초기 잔고"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",...Q("balance",{valueAsNumber:!0}),className:"block w-full border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 text-base py-3 px-4 pr-16",placeholder:"10000"}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 text-sm",children:O.currencyUnit})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"직업 배정"}),d.jsxs("select",{...Q("jobId"),className:"block w-full border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 text-base py-3 px-4",children:[d.jsx("option",{value:"",children:"직업 없음"}),D.map(ce=>d.jsxs("option",{value:ce.id,children:[ce.title," (급여: ",ce.salary.toLocaleString(),O.currencyUnit,")"]},ce.id))]})]})]})]}),d.jsxs("div",{className:"flex space-x-4 pt-4",children:[d.jsx("button",{type:"button",onClick:he,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 text-lg font-medium rounded-lg shadow-sm hover:bg-gray-300 transition-colors duration-200",children:"취소"}),d.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-sky-600 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors duration-200",children:n?"수정 완료":"학생 추가"})]})]})]})})})]})}function Yye(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),i=Ur(),a=Mw(),{createJob:s,updateJob:l,deleteJob:u}=Cc(),{register:f,handleSubmit:m,reset:p,formState:{errors:y}}=Tf(),v=_=>{i&&(n?l(n.id,{title:_.title,description:_.description,salary:_.salary,maxPositions:_.maxPositions}):s({classroomId:i.id,title:_.title,description:_.description,salary:_.salary,maxPositions:_.maxPositions}),t(!1),r(null),p())},b=_=>{r(_),t(!0),p({title:_.title,description:_.description,salary:_.salary,maxPositions:_.maxPositions})},w=_=>{window.confirm("정말 이 직업을 삭제하시겠습니까?")&&u(_)},j=()=>{t(!1),r(null),p()},A=()=>{if(!i)return;[{title:"은행원",description:"은행 업무 담당",salary:3e3,maxPositions:2},{title:"경찰",description:"질서 유지 담당",salary:2500,maxPositions:2},{title:"상점 직원",description:"아이템 판매 담당",salary:2e3,maxPositions:3},{title:"기자",description:"학급 소식 전달",salary:1500,maxPositions:2},{title:"세무관",description:"세금 관리 담당",salary:2500,maxPositions:1},{title:"시장",description:"학급 대표",salary:4e3,maxPositions:1}].forEach(k=>{s({classroomId:i.id,title:k.title,description:k.description,salary:k.salary,maxPositions:k.maxPositions})})};return i?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"직업 관리"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[i.name," - 총 ",a.length,"개 직업"]})]}),d.jsxs("div",{className:"flex space-x-3",children:[a.length===0&&d.jsx("button",{onClick:A,className:"inline-flex items-center px-5 py-3 border-0 text-sm font-medium rounded-xl text-gray-700 bg-white/80 backdrop-blur-sm hover:bg-white shadow-md hover:shadow-lg transition-all duration-200",children:"기본 직업 생성"}),d.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center px-5 py-3 border-0 text-sm font-medium rounded-xl text-white bg-accent-500 hover:bg-accent-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:"새 직업 추가"})]})]}),e&&d.jsx("div",{className:"bg-white/90 backdrop-blur-sm shadow-lg border border-gray-100/50 sm:rounded-2xl border-0",children:d.jsxs("div",{className:"px-6 py-6 sm:p-8",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:n?"직업 정보 수정":"새 직업 추가"}),d.jsxs("form",{onSubmit:m(v),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"직업명 *"}),d.jsx("input",{type:"text",...f("title",{required:"직업명을 입력하세요"}),className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"예: 은행원, 경찰, 상점 직원 등"}),y.title&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.title.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["급여 (",i.currencyUnit,") *"]}),d.jsx("input",{type:"number",...f("salary",{required:"급여를 입력하세요",min:{value:0,message:"급여는 0 이상이어야 합니다"}}),className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"2000"}),y.salary&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.salary.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"최대 인원 *"}),d.jsx("input",{type:"number",...f("maxPositions",{required:"최대 인원을 입력하세요",min:{value:1,message:"최대 인원은 1명 이상이어야 합니다"}}),className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"2"}),y.maxPositions&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.maxPositions.message})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"직업 설명"}),d.jsx("textarea",{...f("description"),rows:3,className:"mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:ring-accent-500 focus:border-accent-500 bg-gray-50 transition-all duration-200 sm:text-sm",placeholder:"이 직업의 역할과 책임을 설명해주세요"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:j,className:"px-6 py-3 border-0 rounded-xl text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-all duration-200",children:"취소"}),d.jsx("button",{type:"submit",className:"px-6 py-3 border-0 rounded-xl text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:n?"수정하기":"추가하기"})]})]})]})}),d.jsxs("div",{className:"bg-white/90 backdrop-blur-sm shadow-lg border border-gray-100/50 overflow-hidden sm:rounded-2xl border-0",children:[d.jsx("div",{className:"px-6 py-6 sm:px-8",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"직업 목록"})}),a.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 002 2h2a2 2 0 002-2V6M8 4v2a2 2 0 002 2h4a2 2 0 002-2V4M8 4H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2"})}),d.jsx("p",{className:"mt-2 text-gray-500",children:"아직 생성된 직업이 없습니다."}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:A,className:"inline-flex items-center px-6 py-3 border-0 text-sm font-medium rounded-xl text-white bg-accent-500 hover:bg-accent-600 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:"기본 직업 생성"})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:a.map(_=>d.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border-0 rounded-2xl p-6 shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsx("h4",{className:"text-lg font-medium text-gray-900",children:_.title}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>b(_),className:"text-accent-500 hover:text-accent-700 font-medium text-sm",children:"수정"}),d.jsx("button",{onClick:()=>w(_.id),className:"text-red-500 hover:text-red-700 font-medium text-sm",children:"삭제"})]})]}),_.description&&d.jsx("p",{className:"text-gray-600 text-sm mb-3",children:_.description}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm bg-gray-50 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"급여"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[_.salary.toLocaleString(),i.currencyUnit]})]}),d.jsxs("div",{className:"flex justify-between text-sm bg-gray-50 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"인원"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[_.currentPositions," / ",_.maxPositions,"명"]})]}),_.currentPositions>=_.maxPositions&&d.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-600",children:"정원 마감"})]})]},_.id))})]})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"학급이 선택되지 않았습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"먼저 학급을 생성하거나 선택하세요."})]})}function Kye(){const[e,t]=N.useState("all"),[n,r]=N.useState("date"),[i,a]=N.useState(!1),[s,l]=N.useState(null),u=Ur(),f=$s(),m=[{id:"1",fromStudentName:"김철수",toStudentName:"이영희",amount:1500,type:"transfer",description:"점심값 빌려줌",timestamp:new Date(Date.now()-1e3*60*30),status:"pending"},{id:"2",fromStudentName:"박민수",toStudentName:"학급상점",amount:800,type:"purchase",description:"볼펜 구매",timestamp:new Date(Date.now()-1e3*60*60),status:"approved"},{id:"3",fromStudentName:"학급",toStudentName:"최지우",amount:3e3,type:"salary",description:"시장 급여",timestamp:new Date(Date.now()-1e3*60*60*2),status:"approved"},{id:"4",fromStudentName:"정수진",toStudentName:"기부함",amount:500,type:"donation",description:"어려운 친구 도움",timestamp:new Date(Date.now()-1e3*60*60*3),status:"approved"},{id:"5",fromStudentName:"강태현",toStudentName:"윤서연",amount:2e3,type:"transfer",description:"생일선물비",timestamp:new Date(Date.now()-1e3*60*60*4),status:"approved"},{id:"6",fromStudentName:"이준호",toStudentName:"박지우",amount:1500,type:"transfer",description:"교과서 빌려주기",timestamp:new Date(Date.now()-1e3*60*60*5),status:"pending"},{id:"7",fromStudentName:"최민준",toStudentName:"김동우",amount:2500,type:"transfer",description:"간식 대금",timestamp:new Date(Date.now()-1e3*60*60*6),status:"pending"},{id:"8",fromStudentName:"정예린",toStudentName:"신재현",amount:3e3,type:"transfer",description:"문구 공동 구매",timestamp:new Date(Date.now()-1e3*60*60*7),status:"pending"}],p=M=>{switch(M){case"transfer":return"💸";case"purchase":return"🛒";case"salary":return"💵";case"donation":return"❤️";default:return"💰"}},y=M=>{switch(M){case"transfer":return"text-blue-600 bg-blue-100";case"purchase":return"text-orange-600 bg-orange-100";case"salary":return"text-green-600 bg-green-100";case"donation":return"text-pink-600 bg-pink-100";default:return"text-gray-600 bg-gray-100"}},v=M=>{switch(M){case"transfer":return"개인 송금";case"purchase":return"구매";case"salary":return"급여";case"donation":return"기부";default:return"기타"}},b=(M,O)=>{console.log(`Transaction ${M} ${O==="approve"?"approved":"rejected"}`),l(null),a(!1)},w=m.filter(M=>M.status==="pending"),j=M=>{const L=new Date().getTime()-M.getTime(),D=Math.floor(L/(1e3*60)),R=Math.floor(L/(1e3*60*60)),F=Math.floor(L/(1e3*60*60*24));return D<60?`${D}분 전`:R<24?`${R}시간 전`:`${F}일 전`};if(!u)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"학급이 선택되지 않았습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"먼저 학급을 생성하거나 선택하세요."})]});const A=m.filter(M=>e==="all"?!0:M.type===e),_=[...A].sort((M,O)=>n==="date"?O.timestamp.getTime()-M.timestamp.getTime():O.amount-M.amount),k=A.reduce((M,O)=>M+O.amount,0),E=A.filter(M=>{const O=new Date;return M.timestamp.toDateString()===O.toDateString()});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"거래 내역"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[u.name," - 총 ",A.length,"건"]})]}),d.jsx("div",{className:"flex space-x-3",children:d.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors duration-200",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"거래 내역 검토"]})})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-4 mx-auto p-6 border max-w-4xl shadow-xl rounded-xl bg-white",children:d.jsxs("div",{className:"mt-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"거래 내역 검토"}),d.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-semibold text-orange-600 mb-4",children:["⏳ 승인 대기 중인 거래 (",w.length,"건)"]}),w.length>0?d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.map(M=>d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-medium",children:M.fromStudentName}),d.jsx("span",{className:"text-gray-500",children:"→"}),d.jsx("span",{className:"font-medium",children:M.toStudentName}),d.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:[M.amount.toLocaleString(),u.currencyUnit]})]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),d.jsx("p",{className:"text-xs text-gray-500",children:j(M.timestamp)})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>b(M.id,"approve"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"승인"}),d.jsx("button",{onClick:()=>b(M.id,"reject"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"거부"})]})]})},M.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"대기 중인 거래가 없습니다."})]})]})})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 거래액"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:k,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:u.currencyUnit})]}),d.jsx("div",{className:"text-xs text-green-600 mt-2",children:"▲ 15.2% 이번 주"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"오늘 거래"}),d.jsx("span",{className:"text-2xl",children:"📊"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:E.length,duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"건"})]}),d.jsx("div",{className:"text-xs text-blue-600 mt-2",children:"▲ 8건 전일 대비"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"평균 거래액"}),d.jsx("span",{className:"text-2xl",children:"💳"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:A.length>0?Math.round(k/A.length):0,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:u.currencyUnit})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"거래당 평균"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"활성 학생"}),d.jsx("span",{className:"text-2xl",children:"👥"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:f.filter(M=>M.active).length,duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"명"})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["전체 ",f.length,"명 중"]})]})]}),d.jsx("div",{className:"bg-white shadow rounded-lg",children:d.jsx("div",{className:"px-4 py-5 sm:p-6",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"거래 유형"}),d.jsxs("select",{value:e,onChange:M=>t(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[d.jsx("option",{value:"all",children:"전체"}),d.jsx("option",{value:"transfer",children:"개인 송금"}),d.jsx("option",{value:"purchase",children:"구매"}),d.jsx("option",{value:"salary",children:"급여"}),d.jsx("option",{value:"donation",children:"기부"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"정렬"}),d.jsxs("select",{value:n,onChange:M=>r(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[d.jsx("option",{value:"date",children:"최신순"}),d.jsx("option",{value:"amount",children:"금액순"})]})]})]})})})}),d.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[d.jsx("ul",{className:"divide-y divide-gray-200",children:_.map(M=>d.jsx("li",{children:d.jsx("div",{className:"px-4 py-4 sm:px-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("span",{className:"text-2xl",children:p(M.type)})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[M.fromStudentName," → ",M.toStudentName]}),d.jsx("span",{className:`ml-2 inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${y(M.type)}`,children:v(M.type)})]}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx("p",{className:"text-sm text-gray-500",children:M.description}),d.jsx("span",{className:"mx-2 text-gray-300",children:"•"}),d.jsx("p",{className:"text-sm text-gray-500",children:j(M.timestamp)})]})]})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[M.amount.toLocaleString(),u.currencyUnit]})})]})})},M.id))}),_.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"거래 내역이 없습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"아직 거래가 발생하지 않았습니다."})]})]})]})}function Zye(){const[e,t]=N.useState([]),[n,r]=N.useState(!1),[i,a]=N.useState(null),s=Ur(),{register:l,handleSubmit:u,reset:f,formState:{errors:m}}=Tf(),p=[{id:"1",name:"숙제 면제권",description:"하루 동안 숙제를 하지 않아도 되는 특별 권리",price:2e3,stock:10,forSale:!0,studentTradable:!1,category:"학습 권리",icon:"📝"},{id:"2",name:"발표 순서 변경권",description:"발표 순서를 원하는 순서로 바꿀 수 있는 권리",price:1500,stock:15,forSale:!0,studentTradable:!0,category:"수업 권리",icon:"🎤"},{id:"3",name:"수업 시간 과제 연장권",description:"수업 중 과제 시간을 10분 더 연장할 수 있는 권리",price:1800,stock:8,forSale:!0,studentTradable:!1,category:"학습 권리",icon:"⏰"},{id:"4",name:"자리 바꾸기권",description:"원하는 친구와 자리를 바꿀 수 있는 권리 (하루)",price:1200,stock:20,forSale:!0,studentTradable:!0,category:"교실 권리",icon:"🪑"},{id:"5",name:"쉬는 시간 칠판 낙서권",description:"쉬는 시간에 칠판에 그림이나 글을 쓸 수 있는 권리",price:800,stock:25,forSale:!0,studentTradable:!0,category:"재미 권리",icon:"🎨"}],y=E=>{if(i){const M=e.map(O=>O.id===i.id?{...O,...E}:O);t(M)}else{const M={id:Date.now().toString(),...E,category:"기타",icon:"📦"};t([...e,M])}r(!1),a(null),f()},v=E=>{a(E),r(!0),f({name:E.name,description:E.description,price:E.price,stock:E.stock,forSale:E.forSale,studentTradable:E.studentTradable})},b=E=>{window.confirm("정말 이 아이템을 삭제하시겠습니까?")&&t(e.filter(M=>M.id!==E))},w=(E,M)=>{t(e.map(O=>O.id===E?{...O,stock:Math.max(0,O.stock+M)}:O))},j=()=>{r(!1),a(null),f()},A=[...p,...e];if(!s)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"학급이 선택되지 않았습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"먼저 학급을 생성하거나 선택하세요."})]});const _=A.reduce((E,M)=>E+M.price*M.stock,0),k=A.filter(E=>E.forSale&&E.stock>0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"아이템 상점"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[s.name," - 총 ",A.length,"개 아이템"]})]}),d.jsx("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700",children:"새 아이템 추가"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 재고 가치"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:_,duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:s.currencyUnit})]}),d.jsx("div",{className:"text-xs text-green-600 mt-2",children:"▲ 8.5% 이번 주"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"판매 가능"}),d.jsx("span",{className:"text-2xl",children:"🛒"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:k.length,duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"개"})]}),d.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:[A.length,"개 중 판매중"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 재고"}),d.jsx("span",{className:"text-2xl",children:"📦"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:A.reduce((E,M)=>E+M.stock,0),duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"개"})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[A.length,"종 아이템"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"인기 카테고리"}),d.jsx("span",{className:"text-2xl",children:"🏆"})]}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"학습 권리"}),d.jsx("div",{className:"text-xs text-purple-600 mt-2",children:"▲ 32% 판매량"})]})]}),n&&d.jsx(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white shadow-lg rounded-2xl border border-gray-100",children:d.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i?"아이템 수정":"새 아이템 추가"}),d.jsxs("form",{onSubmit:u(y),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"아이템 이름 *"}),d.jsx("input",{type:"text",...l("name",{required:"아이템 이름을 입력하세요"}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),m.name&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"가격 *"}),d.jsx("input",{type:"number",...l("price",{required:"가격을 입력하세요",valueAsNumber:!0}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),m.price&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.price.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"설명"}),d.jsx("textarea",{...l("description"),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"재고 수량"}),d.jsx("input",{type:"number",...l("stock",{valueAsNumber:!0}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"설정"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"forSale",type:"checkbox",...l("forSale"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"forSale",className:"ml-2 block text-sm text-gray-900",children:"판매 가능"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"studentTradable",type:"checkbox",...l("studentTradable"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"studentTradable",className:"ml-2 block text-sm text-gray-900",children:"학생 간 거래 가능"})]})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"취소"}),d.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:i?"수정하기":"추가하기"})]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((E,M)=>d.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},whileHover:{y:-4},className:"bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-2xl mr-3",children:E.icon}),d.jsx("div",{children:d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:E.name})})]}),d.jsxs("div",{className:"flex space-x-1",children:[E.forSale&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:"판매중"}),E.studentTradable&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-sky-100 text-sky-800",children:"거래가능"})]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:E.description}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{children:d.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[E.price.toLocaleString(),s.currencyUnit]})}),d.jsxs("div",{className:"text-sm text-gray-500",children:["재고: ",d.jsxs("span",{className:`font-semibold ${E.stock===0?"text-red-600":"text-gray-900"}`,children:[E.stock,"개"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>w(E.id,-1),className:"text-xs px-2 py-1 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",disabled:E.stock===0,children:"-1"}),d.jsx("button",{onClick:()=>w(E.id,1),className:"text-xs px-2 py-1 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:"+1"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>v(E),className:"text-sky-600 hover:text-sky-700 text-sm font-medium transition-colors",children:"수정"}),!p.includes(E)&&d.jsx("button",{onClick:()=>b(E.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"삭제"})]})]})]})},E.id))}),A.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"등록된 아이템이 없습니다"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"새 아이템을 추가해보세요."})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qye=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),WD=e=>{const t=Qye(e);return t.charAt(0).toUpperCase()+t.slice(1)},Sz=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Jye=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>N.createElement("svg",{ref:u,...eve,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Sz("lucide",i),...!a&&!Jye(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,m])=>N.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(tve,{ref:a,iconNode:t,className:Sz(`lucide-${Xye(WD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=WD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rve=Gt("activity",nve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ave=Gt("arrow-down-right",ive);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sve=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ove=Gt("arrow-up-right",sve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],GD=Gt("award",lve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],uve=Gt("banknote",cve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],YD=Gt("building",dve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hve=Gt("calendar",fve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pve=Gt("chart-column",mve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yve=Gt("chevron-down",gve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xve=Gt("chevron-up",vve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bve=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],KD=Gt("credit-card",bve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Sve=Gt("eye-off",wve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nve=Gt("eye",jve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ave=Gt("house",_ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kve=Gt("package",Mve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Eve=Gt("percent",Cve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Ove=Gt("piggy-bank",Tve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dve=Gt("plus",Pve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lve=Gt("settings",Rve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$ve=Gt("trending-up",Ive);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZD=Gt("trophy",zve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vve=Gt("x",Bve),Uve={"A+":2,A:1.5,"B+":1,B:.5,"C+":0,C:-.5,D:-1},p2=Vr()(lf((e,t)=>({bankSettings:[],isLoading:!1,loadBankSettings:()=>{try{e({isLoading:!0});const n=tt.get("BANK_SETTINGS")??[];e({bankSettings:n,isLoading:!1})}catch(n){console.error("Failed to load bank settings:",n),e({bankSettings:[],isLoading:!1})}},getBankSettings:n=>{const r=t().bankSettings.find(i=>i.classroomId===n);return r||t().initializeBankSettings(n)},initializeBankSettings:n=>{const r={id:`bank_${n}_${Date.now()}`,classroomId:n,baseInterestRate:3,creditGradeBonuses:{...Uve},lastUpdated:To(),updatedBy:"시스템",changeReason:"초기 설정"};return e(i=>{const a=[...i.bankSettings,r];return tt.set("BANK_SETTINGS",a),{bankSettings:a}}),r},updateBaseRate:(n,r,i="교사 조정",a="은행장")=>{e(s=>{const l=s.bankSettings.map(u=>u.classroomId===n?{...u,baseInterestRate:r,lastUpdated:To(),updatedBy:a,changeReason:i}:u);if(!l.some(u=>u.classroomId===n)){const u=t().initializeBankSettings(n);u.baseInterestRate=r,u.changeReason=i,u.updatedBy=a,l.push(u)}return tt.set("BANK_SETTINGS",l),{bankSettings:l}})},updateCreditGradeBonus:(n,r,i,a="은행장")=>{e(s=>{const l=s.bankSettings.map(u=>u.classroomId===n?{...u,creditGradeBonuses:{...u.creditGradeBonuses,[r]:i},lastUpdated:To(),updatedBy:a,changeReason:`${r}등급 우대금리 조정`}:u);if(!l.some(u=>u.classroomId===n)){const u=t().initializeBankSettings(n);u.creditGradeBonuses[r]=i,u.changeReason=`${r}등급 우대금리 조정`,u.updatedBy=a,l.push(u)}return tt.set("BANK_SETTINGS",l),{bankSettings:l}})},calculateBankStatistics:(n,r,i)=>{const a=i.filter(y=>y.classroomId===n),s=a.reduce((y,v)=>y+(v.principal||0)+(v.accruedInterest||0),0),l={"A+":0,A:0,"B+":0,B:0,"C+":0,C:0,D:0};let u=0;r.forEach(y=>{y.classroomId===n&&(u+=y.creditScore,l[y.creditGrade]++)});const f=r.filter(y=>y.classroomId===n),m=f.length>0?Math.round(u/f.length):0,p=Math.random()*20-5;return{totalDeposits:s,totalAccounts:a.length,averageCreditScore:m,creditScoreDistribution:l,monthlyGrowth:Math.round(p*100)/100}}})));p2.getState().loadBankSettings();p2.subscribe(e=>e.bankSettings,e=>{tt.set("BANK_SETTINGS",e)});const Fve=e=>{const t=e?.baseInterestRate||3;return[{id:"goal-savings",icon:"🎯",name:"목표 달성 적금",type:"savings",baseRate:Math.max(t,1),termMonths:6,description:"매월 꾸준히 저축하는 습관 형성",minAmount:1e3,maxAmount:5e4,color:"bg-emerald-50 border-emerald-200"},{id:"honor-deposit",icon:"🏆",name:"우등생 정기예금",type:"deposit",baseRate:Math.max(t+.5,1.5),termMonths:12,description:"신용등급 A 이상 전용 우대상품",minAmount:1e4,maxAmount:1e5,color:"bg-blue-50 border-blue-200"},{id:"vip-special",icon:"💎",name:"VIP 특별예금",type:"deposit",baseRate:Math.max(t+1.5,2.5),termMonths:6,description:"고액 예치자를 위한 프리미엄 상품",minAmount:5e4,maxAmount:5e5,color:"bg-purple-50 border-purple-200"},{id:"sprout-savings",icon:"🌱",name:"새싹 적금",type:"savings",baseRate:Math.max(t-.5,.5),termMonths:3,description:"소액으로 시작하는 첫 저축",minAmount:500,maxAmount:1e4,color:"bg-green-50 border-green-200"}]};function Hve(){const[e,t]=N.useState("dashboard"),[n,r]=N.useState(!0),[i,a]=N.useState(!1),[s,l]=N.useState(null),[u,f]=N.useState(null),[m,p]=N.useState(""),y=Ur(),v=$s(),{savingsAccounts:b,createSavingsAccount:w,getSavingsAccountsByClassroom:j,getSavingsAccountsByStudent:A,calculateCurrentBalance:_,getRemainingMonths:k,getMonthlyInterest:E,calculateMaturityAmount:M,processMaturity:O,withdrawFromSavings:L,getUpcomingMaturityAccounts:D}=Ts(),{getStudent:R,updateStudent:F,getCreditGrade:I,getInterestRate:V}=yr(),{getBankSettings:q,updateBaseRate:re,updateCreditGradeBonus:se,calculateBankStatistics:H}=p2(),{showEventNotification:z}=rg(),{register:G,handleSubmit:ie,reset:$,watch:Q,setValue:ne}=Tf(),[ue,xe]=N.useState(""),[J,le]=N.useState(""),_e=N.useMemo(()=>y?q(y.id):null,[y,q]),Te=N.useMemo(()=>Fve(_e),[_e]),ee=Te.find(T=>T.id===m);Q("type");const we=N.useMemo(()=>y?j(y.id):[],[y,j,b]),Se=N.useMemo(()=>we.reduce((T,B)=>T+_(B),0),[we,_]),ye=N.useMemo(()=>we.reduce((T,B)=>T+E(B),0),[we,E]),We=N.useMemo(()=>D(30),[D,b]),De=N.useMemo(()=>y?H(y.id,v,we):null,[y,v,we,H]),he=N.useMemo(()=>{const T=new Map;return v.forEach(B=>{T.set(B.id,A(B.id))}),T},[v,A,b]),Ce=(T,B)=>{const Y=R(T);if(!Y||!y)return B||3;const fe=q(y.id),be=B||fe.baseInterestRate,ve=fe.creditGradeBonuses[Y.creditGrade]||0;return Math.max(be+ve,.1)},Ye=T=>{if(!y)return;const B=T.applyToAll?v:v.filter(Y=>T.studentIds?.includes(Y.id));B.forEach(Y=>{const fe=Ce(Y.id,T.interestRate);if(w({classroomId:y.id,studentId:Y.id,type:T.type,name:T.name,principal:T.type==="deposit"?T.principal:0,monthlyDeposit:T.type==="savings"?T.monthlyDeposit:0,interestRate:fe,termMonths:T.termMonths}),T.type==="deposit"){const be=Math.max(0,Y.balance-T.principal);F(Y.id,{balance:be})}}),z("✅ 상품 가입 완료",`${B.length}명의 학생이 ${T.name}에 가입했습니다.`),a(!1),$(),p("")},wt=T=>{const B=R(T.studentId);if(!B)return;const Y=_(T),fe=new Date(T.maturityDate)<=new Date;let be=Y;if(!fe){const ve=E(T)*k(T)*.5;if(be=Math.max(T.principal,Y-ve),!window.confirm(`중도해지 시 ${ve.toLocaleString()}${y?.currencyUnit}의 이자 손실이 있습니다. 계속하시겠습니까?`))return}L(T.id,be)&&(F(T.studentId,{balance:B.balance+be}),z("💰 출금 완료",`${be.toLocaleString()}${y?.currencyUnit}가 출금되었습니다.`))},ce=T=>{const B=R(T.studentId);if(!B)return;const Y=M(T.id);O(T.id)&&(F(T.studentId,{balance:B.balance+Y}),z("🎉 만기 처리 완료",`${Y.toLocaleString()}${y?.currencyUnit}가 지급되었습니다.`))};return y?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-xl p-4 sm:p-6 text-white",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/10 backdrop-blur rounded-lg flex items-center justify-center",children:d.jsx(YD,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"비바 뱅크"}),d.jsxs("p",{className:"text-xs sm:text-sm opacity-80",children:[y.name," 지점"]})]})]}),d.jsxs("button",{onClick:()=>a(!0),className:"px-3 py-2 sm:px-4 sm:py-2 bg-emerald-500 hover:bg-emerald-600 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[d.jsx(Dve,{className:"w-4 h-4"}),d.jsx("span",{children:"상품 가입"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mt-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"총 예치금"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-lg sm:text-xl font-bold",children:n?d.jsx(Un,{end:Se,duration:2,separator:",",preserveValue:!0}):"••••••"}),d.jsx("button",{onClick:()=>r(!n),className:"text-white/60 hover:text-white/80",children:n?d.jsx(Sve,{className:"w-3 h-3 sm:w-4 sm:h-4"}):d.jsx(Nve,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"월 예상이자"}),d.jsx("p",{className:"text-lg sm:text-xl font-bold",children:d.jsx(Un,{end:ye,duration:1,separator:","})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"총 계좌수"}),d.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:[we.length,"개"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"만기 임박"}),d.jsxs("p",{className:"text-lg sm:text-xl font-bold text-yellow-300",children:[We.length,"개"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[d.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[d.jsx("button",{onClick:()=>t("dashboard"),className:`flex-shrink-0 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium transition-colors ${e==="dashboard"?"text-slate-800 border-b-2 border-slate-600 bg-slate-50":"text-gray-600 hover:text-slate-700 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(Ave,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{children:"대시보드"})]})}),d.jsx("button",{onClick:()=>t("accounts"),className:`flex-shrink-0 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium transition-colors ${e==="accounts"?"text-slate-800 border-b-2 border-slate-600 bg-slate-50":"text-gray-600 hover:text-slate-700 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(KD,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{children:"계좌 관리"})]})}),d.jsx("button",{onClick:()=>t("products"),className:`flex-shrink-0 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium transition-colors ${e==="products"?"text-slate-800 border-b-2 border-slate-600 bg-slate-50":"text-gray-600 hover:text-slate-700 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(kve,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{children:"상품 안내"})]})}),d.jsx("button",{onClick:()=>t("transactions"),className:`flex-shrink-0 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium transition-colors ${e==="transactions"?"text-slate-800 border-b-2 border-slate-600 bg-slate-50":"text-gray-600 hover:text-slate-700 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(rve,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{children:"거래 내역"})]})}),d.jsx("button",{onClick:()=>t("admin"),className:`flex-shrink-0 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium transition-colors ${e==="admin"?"text-slate-800 border-b-2 border-slate-600 bg-slate-50":"text-gray-600 hover:text-slate-700 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(Lve,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),d.jsx("span",{children:"은행장"})]})})]}),d.jsx("div",{className:"p-4 sm:p-6",children:d.jsxs(FR,{mode:"wait",children:[e==="dashboard"&&d.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-lg p-4 border border-slate-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx($ve,{className:"w-5 h-5 text-slate-600"}),d.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"+15.2%"})]}),d.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[v.filter(T=>he.get(T.id)?.length).length,"명"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"가입 학생"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 rounded-lg p-4 border border-emerald-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(ZD,{className:"w-5 h-5 text-emerald-600"}),d.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"우수"})]}),d.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[v.filter(T=>T.creditGrade==="A+"||T.creditGrade==="A").length,"명"]}),d.jsx("p",{className:"text-sm text-gray-600",children:"A등급 이상"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-lg p-4 border border-slate-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(GD,{className:"w-5 h-5 text-slate-600"}),d.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"평균"})]}),d.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:v.length>0?Math.round(v.reduce((T,B)=>T+B.creditScore,0)/v.length):0}),d.jsx("p",{className:"text-sm text-gray-600",children:"신용점수"})]})]}),We.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"만기 임박 계좌"}),d.jsx("div",{className:"space-y-2",children:We.slice(0,3).map(T=>{const B=R(T.studentId),Y=k(T)*30;return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg border border-amber-200",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hve,{className:"w-4 h-4 text-amber-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 text-sm",children:B?.name}),d.jsx("p",{className:"text-xs text-gray-600",children:T.name})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm font-bold text-amber-600",children:["D-",Y]}),d.jsxs("p",{className:"text-xs text-gray-600",children:[M(T.id).toLocaleString(),"원 예상"]})]})]},T.id)})})]})]}),e==="accounts"&&d.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[v.map(T=>{const B=he.get(T.id)||[],Y=B.reduce((fe,be)=>fe+_(be),0);return B.length===0?null:d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>f(u===T.id?null:T.id),className:"w-full px-3 sm:px-4 py-3 bg-slate-50 hover:bg-slate-100 transition-colors flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-slate-700 text-white rounded-lg flex items-center justify-center font-bold text-sm",children:T.name[0]}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:T.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"text-gray-600",children:"신용등급"}),d.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${T.creditGrade.startsWith("A")?"bg-emerald-100 text-emerald-700":T.creditGrade.startsWith("B")?"bg-slate-100 text-slate-700":T.creditGrade.startsWith("C")?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:T.creditGrade})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-gray-600",children:"총 예치금"}),d.jsxs("p",{className:"font-bold text-gray-900 text-sm sm:text-base",children:[Y.toLocaleString()," ",y.currencyUnit]})]}),u===T.id?d.jsx(xve,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}):d.jsx(yve,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"})]})]}),u===T.id&&d.jsx("div",{className:"p-3 sm:p-4 bg-white border-t border-gray-200",children:d.jsx("div",{className:"space-y-2 sm:space-y-3",children:B.map(fe=>{const be=_(fe),ve=k(fe),je=ve===0;return d.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-slate-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[fe.type==="deposit"?d.jsx(uve,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-600"}):d.jsx(Ove,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 text-sm",children:fe.name}),d.jsxs("p",{className:"text-xs text-gray-600",children:[fe.interestRate.toFixed(1),"% · ",ve,"개월 남음"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-bold text-gray-900 text-sm",children:be.toLocaleString()}),je&&d.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"만기"})]}),d.jsx("button",{onClick:ze=>{ze.stopPropagation(),je?ce(fe):wt(fe)},className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs font-medium rounded-lg transition-colors ${je?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-slate-200 hover:bg-slate-300 text-slate-700"}`,children:je?"만기출금":"중도해지"})]})]},fe.id)})})})]},T.id)}),v.every(T=>!he.get(T.id)?.length)&&d.jsxs("div",{className:"text-center py-8 sm:py-12",children:[d.jsx(KD,{className:"w-10 h-10 sm:w-12 sm:h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"아직 가입한 계좌가 없습니다"}),d.jsx("button",{onClick:()=>a(!0),className:"mt-4 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors text-sm sm:text-base",children:"첫 계좌 만들기"})]})]}),e==="products"&&d.jsx(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:Te.map(T=>d.jsxs("div",{className:"bg-white border-2 border-slate-200 hover:border-slate-300 rounded-lg p-4 hover:shadow-md transition-all cursor-pointer",onClick:()=>{p(T.id),a(!0)},children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xl sm:text-2xl",children:T.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:T.name}),d.jsx("p",{className:"text-xs text-gray-600",children:T.type==="deposit"?"예금":"적금"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-base sm:text-lg font-bold text-slate-700",children:[T.baseRate.toFixed(1),"%"]}),d.jsx("p",{className:"text-xs text-gray-600",children:"기본금리"})]})]}),d.jsx("p",{className:"text-sm text-gray-700 mb-3",children:T.description}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[d.jsxs("span",{children:[T.termMonths,"개월"]}),d.jsxs("span",{children:[T.minAmount.toLocaleString()," ~ ",T.maxAmount.toLocaleString()]})]})]},T.id))}),e==="transactions"&&d.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"최근 거래"}),d.jsx("button",{className:"text-xs sm:text-sm text-slate-600 hover:text-slate-700 font-medium",children:"전체보기"})]}),d.jsx("div",{className:"space-y-2",children:we.slice(0,10).map((T,B)=>{const Y=R(T.studentId),fe=B%3===0;return d.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 hover:bg-slate-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${fe?"bg-emerald-100":"bg-slate-100"}`,children:fe?d.jsx(ave,{className:"w-3 h-3 sm:w-4 sm:h-4 text-emerald-600"}):d.jsx(ove,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 text-sm",children:Y?.name}),d.jsxs("p",{className:"text-xs text-gray-600",children:[T.name," · ",fe?"입금":"이자"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`font-bold text-sm ${fe?"text-emerald-600":"text-gray-900"}`,children:[fe?"+":"",E(T).toLocaleString()]}),d.jsx("p",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("ko-KR")})]})]},T.id+B)})})]}),e==="admin"&&d.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-lg p-4 sm:p-6 text-white",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx(pve,{className:"w-5 h-5"}),"은행 운영 현황"]}),De&&d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"총 예치금"}),d.jsxs("p",{className:"text-xl font-bold",children:[d.jsx(Un,{end:De.totalDeposits,duration:2,separator:",",preserveValue:!0}),d.jsx("span",{className:"text-sm ml-1",children:y.currencyUnit})]}),d.jsxs("p",{className:`text-xs mt-1 ${De.monthlyGrowth>=0?"text-green-300":"text-red-300"}`,children:["전월 대비 ",De.monthlyGrowth>=0?"+":"",De.monthlyGrowth,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"총 계좌수"}),d.jsxs("p",{className:"text-xl font-bold",children:[De.totalAccounts,"개"]}),d.jsx("p",{className:"text-xs mt-1 opacity-80",children:"활성 계좌"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"평균 신용점수"}),d.jsxs("p",{className:"text-xl font-bold",children:[De.averageCreditScore,"점"]}),d.jsx("p",{className:"text-xs mt-1 opacity-80",children:"전체 평균"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs opacity-60 mb-1",children:"현재 기준금리"}),d.jsxs("p",{className:"text-xl font-bold",children:[_e?.baseInterestRate.toFixed(1),"%"]}),d.jsx("p",{className:"text-xs mt-1 opacity-80",children:"연리 기준"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(ZD,{className:"w-5 h-5 text-slate-600"}),"신용등급 분포 현황"]}),De&&d.jsx("div",{className:"space-y-3",children:Object.entries(De.creditScoreDistribution).map(([T,B])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${T.startsWith("A")?"bg-emerald-100 text-emerald-700":T.startsWith("B")?"bg-slate-100 text-slate-700":T.startsWith("C")?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:T}),d.jsxs("span",{className:"font-medium text-gray-900",children:[T,"등급"]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${T.startsWith("A")?"bg-emerald-500":T.startsWith("B")?"bg-slate-500":T.startsWith("C")?"bg-amber-500":"bg-red-500"}`,style:{width:`${v.length>0?B/v.length*100:0}%`}})}),d.jsxs("span",{className:"text-sm font-bold text-gray-900 w-8 text-right",children:[B,"명"]})]})]},T))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Eve,{className:"w-5 h-5 text-slate-600"}),"기준금리 조정"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"현재 기준금리"}),d.jsxs("p",{className:"text-2xl font-bold text-slate-700",children:[_e?.baseInterestRate.toFixed(1),"%"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["마지막 변경: ",_e?.lastUpdated?new Date(_e.lastUpdated).toLocaleDateString("ko-KR"):"N/A"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"새 기준금리 (%)"}),d.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:ue,onChange:T=>xe(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"예: 3.5"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"변경 사유"}),d.jsx("input",{type:"text",value:J,onChange:T=>le(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-slate-500",placeholder:"예: 경기 부양을 위한 금리 인하"})]}),d.jsx("button",{onClick:()=>{if(!y||!ue)return;const T=parseFloat(ue);if(T<0||T>20){z("❌ 오류","금리는 0%에서 20% 사이여야 합니다.");return}re(y.id,T,J||"은행장 조정","은행장"),z("✅ 기준금리 변경 완료",`기준금리가 ${T}%로 조정되었습니다.`),xe(""),le("")},disabled:!ue||!y,className:"w-full px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-gray-300 text-white rounded-lg font-medium transition-colors",children:"기준금리 변경"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(GD,{className:"w-5 h-5 text-slate-600"}),"우대금리 설정"]}),d.jsxs("div",{className:"space-y-3",children:[_e&&Object.entries(_e.creditGradeBonuses).map(([T,B])=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${T.startsWith("A")?"bg-emerald-100 text-emerald-700":T.startsWith("B")?"bg-slate-100 text-slate-700":T.startsWith("C")?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:T}),d.jsxs("span",{className:"text-sm font-medium",children:[T,"등급"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",step:"0.1",min:"-5",max:"5",value:B,onChange:Y=>{if(!y)return;const fe=parseFloat(Y.target.value)||0;se(y.id,T,fe)},className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-slate-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"%"})]})]},T)),d.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:d.jsx("p",{className:"text-xs text-blue-700",children:"💡 팁: 양수는 우대금리, 음수는 불이익 금리를 의미합니다."})})]})]})]})]})]})})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl sm:rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"상품 가입"}),d.jsx("button",{onClick:()=>{a(!1),$(),p("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(Vve,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:ie(Ye),className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[!m&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"상품 선택"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Te.map(T=>d.jsxs("button",{type:"button",onClick:()=>{p(T.id),ne("type",T.type),ne("name",T.name),ne("interestRate",T.baseRate),ne("termMonths",T.termMonths)},className:`p-3 text-left border rounded-lg hover:shadow-md transition-all ${m===T.id?"border-slate-500 bg-slate-50":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:T.icon}),d.jsx("span",{className:"font-medium text-sm",children:T.name})]}),d.jsxs("p",{className:"text-xs text-gray-600",children:[T.baseRate.toFixed(1),"% · ",T.termMonths,"개월"]})]},T.id))})]}),m&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`${ee?.color} border rounded-lg p-4`,children:d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("span",{className:"text-2xl",children:ee?.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:ee?.name}),d.jsx("p",{className:"text-xs text-gray-600",children:ee?.description})]})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"가입 대상"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",...G("applyToAll"),className:"rounded border-gray-300"}),d.jsx("span",{className:"text-sm",children:"전체 학생"})]}),!Q("applyToAll")&&d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mt-2",children:v.map(T=>d.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg hover:bg-gray-50",children:[d.jsx("input",{type:"checkbox",value:T.id,...G("studentIds"),className:"rounded border-gray-300"}),d.jsx("span",{className:"text-sm",children:T.name})]},T.id))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee?.type==="deposit"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예치금액"}),d.jsx("input",{type:"number",...G("principal",{required:!0,min:ee.minAmount}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:ee.minAmount.toLocaleString()})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"월 납입액"}),d.jsx("input",{type:"number",...G("monthlyDeposit",{required:!0,min:ee?.minAmount}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:ee?.minAmount.toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"가입 기간"}),d.jsxs("select",{...G("termMonths",{required:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"3",children:"3개월"}),d.jsx("option",{value:"6",children:"6개월"}),d.jsx("option",{value:"12",children:"12개월"})]})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx("button",{type:"button",onClick:()=>{a(!1),$(),p("")},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"취소"}),d.jsx("button",{type:"submit",disabled:!m,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-gray-300 text-white rounded-lg font-medium transition-colors",children:"가입하기"})]})]})]})})]}):d.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(YD,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"학급이 선택되지 않았습니다"}),d.jsx("p",{className:"text-sm text-gray-500",children:"먼저 학급을 생성하거나 선택하세요."})]})})}al.register(qg,Wg,Vg,sl,o2,l2,Hg,Fg,sz);al.register(qg,Wg,Vg,sl,o2,l2,Hg,Fg);function qve({stock:e,priceHistory:t}){const n=N.useMemo(()=>{if(t.length<2){const v=[];let b=e.currentPrice;for(let w=20;w>=0;w--){const j=new Date;j.setDate(j.getDate()-w);const A=.03,_=b,k=b*(1+(Math.random()-.5)*A),E=Math.max(_,k)*(1+Math.random()*A*.5),M=Math.min(_,k)*(1-Math.random()*A*.5);v.push({date:j.toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),open:Math.round(_),high:Math.round(E),low:Math.round(M),close:Math.round(k),volume:Math.floor(Math.random()*1e3)+100}),b=k}return v}const p={};return t.forEach(({price:y,timestamp:v})=>{const b=new Date(v).toLocaleDateString("ko-KR",{month:"short",day:"numeric"});p[b]||(p[b]=[]),p[b].push(y)}),Object.entries(p).map(([y,v])=>({date:y,open:v[0],high:Math.max(...v),low:Math.min(...v),close:v[v.length-1],volume:Math.floor(Math.random()*1e3)+100})).slice(-20)},[t,e.currentPrice]);n.map(p=>p.date),n.map(p=>[p.low,p.open,p.close,p.high]),n.map(p=>p.close>=p.open?"rgba(239, 68, 68, 0.8)":"rgba(59, 130, 246, 0.8)"),n.map(p=>p.close>=p.open?"rgb(239, 68, 68)":"rgb(59, 130, 246)");const r=p=>{const y=[];for(let v=0;v<n.length;v++)if(v<p-1)y.push(null);else{const b=n.slice(v-p+1,v+1).reduce((w,j)=>w+j.close,0);y.push(b/p)}return y},i={labels:n.map(p=>p.date),datasets:[{label:"종가",data:n.map(p=>p.close),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",borderWidth:2,tension:.1,fill:!0},{label:"5일 이동평균",data:r(5),borderColor:"rgb(236, 72, 153)",backgroundColor:"transparent",borderWidth:1.5,borderDash:[5,5],tension:.1,fill:!1},{label:"10일 이동평균",data:r(10),borderColor:"rgb(14, 165, 233)",backgroundColor:"transparent",borderWidth:1.5,borderDash:[5,5],tension:.1,fill:!1}]},a={labels:n.map(p=>p.date),datasets:[{label:"거래량",data:n.map(p=>p.volume),backgroundColor:n.map(p=>p.close>=p.open?"rgba(239, 68, 68, 0.3)":"rgba(59, 130, 246, 0.3)"),borderColor:n.map(p=>p.close>=p.open?"rgba(239, 68, 68, 0.5)":"rgba(59, 130, 246, 0.5)"),borderWidth:1}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!1},tooltip:{callbacks:{label:p=>{const y=n[p.dataIndex];return[`시가: ${y.open.toLocaleString()}원`,`고가: ${y.high.toLocaleString()}원`,`저가: ${y.low.toLocaleString()}원`,`종가: ${y.close.toLocaleString()}원`]}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:p=>p.toLocaleString()+"원"}},x:{grid:{display:!1}}}},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`거래량: ${p.parsed.y.toLocaleString()}주`}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}},u=n[n.length-1],f=u?u.close-u.open:0,m=u&&u.open>0?f/u.open*100:0;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold",children:e.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e.symbol," · ",e.sector]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[e.currentPrice.toLocaleString(),"원"]}),d.jsxs("div",{className:`text-sm font-medium ${f>=0?"text-red-500":"text-blue-500"}`,children:[f>=0?"▲":"▼"," ",Math.abs(f).toLocaleString(),"원 (",m>=0?"+":"",m.toFixed(2),"%)"]})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-gray-500",children:"시가"}),d.jsxs("p",{className:"font-medium",children:[u?.open.toLocaleString(),"원"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-gray-500",children:"고가"}),d.jsxs("p",{className:"font-medium text-red-500",children:[u?.high.toLocaleString(),"원"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-gray-500",children:"저가"}),d.jsxs("p",{className:"font-medium text-blue-500",children:[u?.low.toLocaleString(),"원"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-gray-500",children:"거래량"}),d.jsxs("p",{className:"font-medium",children:[u?.volume.toLocaleString(),"주"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:d.jsx("button",{className:"border-b-2 border-primary-500 py-2 px-1 text-sm font-medium text-primary-600",children:"캔들차트"})})}),d.jsx("div",{className:"h-64",children:d.jsx(hz,{data:i,options:s})}),d.jsx("div",{className:"h-32",children:d.jsx(mz,{data:a,options:l})})]}),d.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[d.jsx("p",{children:"• 빨간색: 상승 (종가 > 시가)"}),d.jsx("p",{children:"• 파란색: 하락 (종가 < 시가)"}),d.jsx("p",{children:"• 점선: 이동평균선 (5일, 10일)"})]})]})}al.register(qg,Wg,Vg,sl,l2,Hg,Fg,sz);function Wve(){const e=Ur(),t=$s(),{stocks:n,stockTransactions:r,stockPortfolios:i,createStock:a,buyStock:s,sellStock:l,updateStockPrices:u,getStocksByClassroom:f,getPortfolioByStudent:m,getTransactionsByStudent:p,calculatePortfolioValue:y,calculateProfitLoss:v,getTotalInvestment:b,getMarketMood:w}=ar(),{getActiveNews:j,getTodayIndicators:A,generateDailyIndicators:_,getStockPriceHistory:k,generateRandomNews:E}=Ms(),[M,O]=N.useState(null),[L,D]=N.useState(!1),[R,F]=N.useState(!1),[I,V]=N.useState(null),[q,re]=N.useState("buy"),[se,H]=N.useState(1),z=e?f(e.id):[],[G,ie]=N.useState(z[0]||null),$=M?m(M.id):[],Q=M?p(M.id):[],ne=M?y(M.id):0,ue=M?b(M.id):0,xe=e?w(e.id):"neutral",J=e?j(e.id):[],le=e?A(e.id):null;N.useEffect(()=>{z.length>0&&!G&&ie(z[0])},[z]),N.useEffect(()=>{if(!e)return;_(e.id);const he=setInterval(()=>{const Ce=z.map(Ye=>Ye.id);Ce.length>0&&E(e.id,Ce)},3e5);return()=>clearInterval(he)},[e,_,E,z]),N.useEffect(()=>{if(!e)return;const he=setInterval(()=>{u(e.id)},3e4);return()=>clearInterval(he)},[e,u]);const _e=he=>{if(he.preventDefault(),!e)return;const Ce=new FormData(he.currentTarget),Ye={classroomId:e.id,name:Ce.get("name"),symbol:Ce.get("symbol"),sector:Ce.get("sector"),description:Ce.get("description"),currentPrice:parseInt(Ce.get("currentPrice")),previousPrice:parseInt(Ce.get("currentPrice")),totalShares:parseInt(Ce.get("totalShares"))};a(Ye),D(!1),he.currentTarget.reset()},Te=he=>{if(he.preventDefault(),!M||!I)return;(q==="buy"?s(M.id,I.id,se,I.currentPrice):l(M.id,I.id,se,I.currentPrice))?(F(!1),H(1)):alert(q==="buy"?"매수에 실패했습니다.":"매도에 실패했습니다. 보유 수량을 확인해주세요.")},ee=(he,Ce)=>i.find(wt=>wt.studentId===he&&wt.stockId===Ce)?.quantity||0,we=he=>{switch(he){case"bullish":return"📈";case"bearish":return"📉";default:return"📊"}},Se=he=>{switch(he){case"bullish":return"text-green-600 bg-green-50";case"bearish":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},ye=he=>{switch(he){case"환경":return"🌱";case"교육":return"📚";case"건강":return"🏋️";default:return"🏢"}},We=he=>{switch(he){case"미세먼지 농도":return"미세먼지 농도가 높을수록 주가 상승";case"오늘 기온":return"기온이 적절할수록 주가 상승";case"선생님 몸무게":return"선생님이 직접 조정하는 주식";case"비상교육":return"실제 비상교육 주가와 연동";default:return""}},De=(he,Ce)=>he>Ce?"text-red-500":he<Ce?"text-blue-500":"text-gray-500";return e?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"주식 투자"}),d.jsxs("p",{className:"text-gray-600",children:[e.name,"의 가상 주식 시장"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Se(xe)}`,children:[we(xe)," 시장 분위기: ",xe==="bullish"?"상승":xe==="bearish"?"하락":"보합"]}),d.jsx("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"새 종목 등록"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"총 시가총액"}),d.jsx("span",{className:"text-2xl",children:"💰"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:z.reduce((he,Ce)=>he+Ce.currentPrice*Ce.totalShares,0),duration:2,separator:","}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"원"})]}),d.jsx("div",{className:"text-xs text-green-600 mt-2",children:"▲ 5.2% 오늘"})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"상장 종목"}),d.jsx("span",{className:"text-2xl",children:"📈"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:z.length,duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"개"})]}),d.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:[z.filter(he=>he.currentPrice>he.previousPrice).length,"개 상승중"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"거래량"}),d.jsx("span",{className:"text-2xl",children:"📊"})]}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.jsx(Un,{end:r.length,duration:2}),d.jsx("span",{className:"text-lg font-normal text-gray-600 ml-1",children:"건"})]}),d.jsxs("div",{className:"text-xs text-purple-600 mt-2",children:["오늘 ",r.filter(he=>new Date(he.timestamp).toDateString()===new Date().toDateString()).length,"건"]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-500",children:"시장 분위기"}),d.jsx("span",{className:"text-2xl",children:we(xe)})]}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:xe==="bullish"?"상승세":xe==="bearish"?"하락세":"보합세"}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["투자자 ",t.filter(he=>i.some(Ce=>Ce.studentId===he.id)).length,"명 참여"]})]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold",children:"종목 현황"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"종목"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"현재가"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"등락"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"섹터"}),M&&d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"보유수량"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"액션"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:z.map(he=>{const Ce=he.currentPrice-he.previousPrice,Ye=he.previousPrice>0?Ce/he.previousPrice*100:0,wt=M?ee(M.id,he.id):0,ce=G?.id===he.id;return d.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${ce?"bg-blue-50":""}`,onClick:()=>ie(he),children:[d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:he.name}),d.jsx("div",{className:"text-sm text-gray-500",children:he.symbol})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"font-medium",children:[he.currentPrice.toLocaleString(),"원"]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:`font-medium ${De(he.currentPrice,he.previousPrice)}`,children:[Ce>0?"+":"",Ce.toLocaleString(),"원",d.jsxs("div",{className:"text-xs",children:["(",Ye>0?"+":"",Ye.toFixed(2),"%)"]})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:[ye(he.sector)," ",he.sector]})}),M&&d.jsxs("td",{className:"px-4 py-3",children:[d.jsxs("div",{className:"font-medium",children:[wt.toLocaleString(),"주"]}),wt>0&&d.jsxs("div",{className:"text-xs text-gray-500",children:["손익: ",v(M.id,he.id).toLocaleString(),"원"]})]}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("div",{className:"flex gap-2",onClick:T=>T.stopPropagation(),children:M&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{V(he),re("buy"),F(!0)},className:"px-3 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:"매수"}),wt>0&&d.jsx("button",{onClick:()=>{V(he),re("sell"),F(!0)},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:"매도"})]})})})]},he.id)})})]})})]}),G&&d.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[d.jsx("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-semibold",children:[G.name," 차트"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:We(G.name)})]})}),d.jsx("div",{className:"p-4",children:d.jsx(qve,{stock:G,priceHistory:k(G.id)})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-5",children:[d.jsx("h2",{className:"text-lg font-semibold mb-3",children:"📊 실시간 지표"}),le?d.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-blue-600 font-medium",children:"🌫️ 미세먼지"}),d.jsxs("span",{className:"text-lg font-bold",children:[le.indicators.fineDust,"㎍/㎥"]})]}),d.jsx("div",{className:"text-xs text-blue-500 mt-1",children:le.indicators.fineDust>50?"↑ 높음":le.indicators.fineDust>30?"→ 보통":"↓ 좋음"})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-green-600 font-medium",children:"🌡️ 기온"}),d.jsxs("span",{className:"text-lg font-bold",children:[le.indicators.temperature,"°C"]})]}),d.jsx("div",{className:"text-xs text-green-500 mt-1",children:le.indicators.temperature>25?"↑ 더움":le.indicators.temperature>15?"→ 적절":"↓ 추움"})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-purple-600 font-medium",children:"⚖️ 선생님 몸무게"}),d.jsx("span",{className:"text-lg font-bold",children:"72.5kg"})]}),d.jsx("div",{className:"text-xs text-purple-500 mt-1",children:"↑ 전주 대비 +0.5kg"})]}),d.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-orange-600 font-medium",children:"🏫 비상교육 주가"}),d.jsx("span",{className:"text-lg font-bold",children:"6,000원"})]}),d.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"→ 보합세"})]})]}):d.jsx("p",{className:"text-gray-500",children:"지표를 불러오는 중..."})]}),d.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"lg:col-span-2 bg-white rounded-2xl shadow-lg border border-gray-100 p-5",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"📰 시장 뉴스"}),d.jsx("button",{onClick:()=>{if(e){const he=z.map(Ce=>Ce.id);he.length>0&&E(e.id,he)}},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:"🔄 뉴스 생성"})]}),J.length>0?d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:J.map(he=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-3 py-2 bg-gray-50 rounded-r",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h3",{className:"font-medium text-sm",children:he.title}),d.jsx("span",{className:`text-xs px-2 py-1 rounded ${he.impact==="positive"?"bg-red-100 text-red-600":he.impact==="negative"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:he.impact==="positive"?"📈 상승":he.impact==="negative"?"📉 하락":"➡️ 보합"})]}),d.jsx("p",{className:"text-xs text-gray-600 mb-2",children:he.content}),d.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[d.jsxs("span",{children:[he.type," 섹터"]}),d.jsxs("span",{children:["영향도: ","⭐".repeat(he.severity)]})]})]},he.id))}):d.jsx("p",{className:"text-gray-500",children:"오늘은 시장 뉴스가 없습니다."})]})]}),d.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-5",children:[d.jsx("h2",{className:"text-lg font-semibold mb-3",children:"학생 선택"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:t.map(he=>d.jsxs("button",{onClick:()=>O(he),className:`p-3 rounded-lg border transition-colors ${M?.id===he.id?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:he.name}),d.jsxs("div",{className:"text-xs text-gray-500",children:["💰 ",he.balance.toLocaleString(),"원"]})]},he.id))})]}),M&&d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("h3",{className:"text-lg font-semibold",children:[M.name,"의 포트폴리오"]})}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:ne.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"현재 가치"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ue.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 투자금"})]}),d.jsxs("div",{children:[d.jsx("div",{className:`text-2xl font-bold ${ne-ue>=0?"text-red-500":"text-blue-500"}`,children:(ne-ue).toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 손익"})]})]}),$.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:"보유 종목"}),$.map(he=>{const Ce=n.find(ce=>ce.id===he.stockId);if(!Ce)return null;const Ye=he.quantity*Ce.currentPrice,wt=Ye-he.totalCost;return d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:Ce.name}),d.jsxs("div",{className:"text-sm text-gray-500",children:[he.quantity,"주 × ",Ce.currentPrice.toLocaleString(),"원"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-medium",children:[Ye.toLocaleString(),"원"]}),d.jsxs("div",{className:`text-sm ${wt>=0?"text-red-500":"text-blue-500"}`,children:[wt>=0?"+":"",wt.toLocaleString(),"원"]})]})]},he.id)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-semibold",children:"최근 거래 내역"})}),d.jsx("div",{className:"p-4",children:Q.length===0?d.jsx("p",{className:"text-gray-500 text-center py-4",children:"거래 내역이 없습니다."}):d.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Q.slice(0,10).map(he=>{const Ce=n.find(Ye=>Ye.id===he.stockId);return Ce?d.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded text-sm",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium",children:[d.jsx("span",{className:he.type==="buy"?"text-red-500":"text-blue-500",children:he.type==="buy"?"매수":"매도"})," ",Ce.name]}),d.jsxs("div",{className:"text-gray-500",children:[he.quantity,"주 × ",he.price.toLocaleString(),"원"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-medium",children:[he.totalAmount.toLocaleString(),"원"]}),d.jsxs("div",{className:"text-gray-500",children:["수수료: ",he.fee.toLocaleString(),"원"]})]})]},he.id):null})})})]})]}),L&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-semibold",children:"새 종목 등록"})}),d.jsxs("form",{onSubmit:_e,className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"종목명 *"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"예: 그린에너지"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"종목코드 *"}),d.jsx("input",{type:"text",name:"symbol",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"예: GE001"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"섹터 *"}),d.jsxs("select",{name:"sector",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"섹터 선택"}),d.jsx("option",{value:"환경",children:"🌱 환경"}),d.jsx("option",{value:"교육",children:"📚 교육"}),d.jsx("option",{value:"기술",children:"💻 기술"}),d.jsx("option",{value:"식품",children:"🍎 식품"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),d.jsx("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"종목에 대한 간단한 설명"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주가 *"}),d.jsx("input",{type:"number",name:"currentPrice",required:!0,min:"100",step:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"발행주식수 *"}),d.jsx("input",{type:"number",name:"totalShares",required:!0,min:"1000",step:"1000",defaultValue:"10000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"취소"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600",children:"등록"})]})]})]})}),R&&I&&M&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("h3",{className:"text-lg font-semibold",children:[I.name," ",q==="buy"?"매수":"매도"]})}),d.jsxs("form",{onSubmit:Te,className:"p-4 space-y-4",children:[d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-sm text-gray-600",children:"현재가"}),d.jsxs("div",{className:"text-lg font-semibold",children:[I.currentPrice.toLocaleString(),"원"]}),q==="sell"&&d.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["보유수량: ",ee(M.id,I.id),"주"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수량 *"}),d.jsx("input",{type:"number",value:se,onChange:he=>H(parseInt(he.target.value)||1),min:"1",max:q==="sell"?ee(M.id,I.id):void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"거래금액"}),d.jsxs("span",{children:[(se*I.currentPrice).toLocaleString(),"원"]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"수수료 (1%)"}),d.jsxs("span",{children:[Math.floor(se*I.currentPrice*.01).toLocaleString(),"원"]})]}),d.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:d.jsxs("div",{className:"flex justify-between font-medium",children:[d.jsxs("span",{children:["총 ",q==="buy"?"결제":"수령","금액"]}),d.jsxs("span",{children:[q==="buy"?(se*I.currentPrice+Math.floor(se*I.currentPrice*.01)).toLocaleString():(se*I.currentPrice-Math.floor(se*I.currentPrice*.01)).toLocaleString(),"원"]})]})})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>F(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"취소"}),d.jsx("button",{type:"submit",className:`flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 ${q==="buy"?"bg-red-500":"bg-blue-500"}`,children:q==="buy"?"매수":"매도"})]})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsx("p",{className:"text-yellow-800",children:"먼저 교실을 선택해주세요."})})})}function Gve(){const e=Ur(),t=$s(),{achievements:n,studentAchievements:r,createAchievement:i,getStudentAchievements:a,getCompletedAchievements:s,getStudentPoints:l,getClassroomLeaderboard:u,checkAndCompleteAchievements:f,initializeStudentAchievements:m,createDefaultAchievements:p}=Oo(),{stockTransactions:y,stockPortfolios:v,calculatePortfolioValue:b}=ar(),{savingsAccounts:w}=Ts(),[j,A]=N.useState(null),[_,k]=N.useState(!1),[E,M]=N.useState("overview"),O=e?u(e.id):[];N.useEffect(()=>{e&&t.length>0&&(p(e.id),t.forEach(I=>{m(e.id,I.id)}))},[e,t,p,m]),N.useEffect(()=>{e&&t.forEach(I=>{const V=y.filter(G=>G.studentId===I.id),q=w.filter(G=>G.studentId===I.id),re=b(I.id),se=q.reduce((G,ie)=>G+ie.totalBalance,0),H=v.filter(G=>G.studentId===I.id).reduce((G,ie)=>{const $=ie.quantity*ie.averagePrice;return G+Math.max(0,$-ie.totalCost)},0),z={transactionCount:V.length,totalSaved:se,totalProfit:H,jobsCompleted:I.totalTransactions,donationsMade:V.filter(G=>G.type==="sell").length,portfolioValue:re,consecutiveDays:1};f(I.id,z)})},[t,y,w,v,e,f,b]);const L=I=>{if(I.preventDefault(),!e)return;const V=new FormData(I.currentTarget),q={name:V.get("name"),description:V.get("description"),icon:V.get("icon"),category:V.get("category"),condition:{type:V.get("conditionType"),target:parseInt(V.get("target")),timeframe:V.get("timeframe")||void 0},points:parseInt(V.get("points")),isActive:!0};i(q),k(!1),I.currentTarget.reset()},D=I=>{switch(I){case"trading":return"💰";case"savings":return"🏦";case"social":return"🤝";case"milestone":return"🏆";case"special":return"⭐";default:return"🎯"}},R=I=>{switch(I){case"trading":return"bg-green-100 text-green-800";case"savings":return"bg-blue-100 text-blue-800";case"social":return"bg-purple-100 text-purple-800";case"milestone":return"bg-yellow-100 text-yellow-800";case"special":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},F=I=>t.find(V=>V.id===I);return e?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"업적 시스템"}),d.jsxs("p",{className:"text-gray-600",children:[e.name,"의 학생 업적 관리"]})]}),d.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"새 업적 만들기"})]}),d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>M("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${E==="overview"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"전체 현황"}),d.jsx("button",{onClick:()=>M("leaderboard"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${E==="leaderboard"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"리더보드"}),d.jsx("button",{onClick:()=>M("manage"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${E==="manage"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"업적 관리"})]})}),E==="overview"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[d.jsx("h2",{className:"text-lg font-semibold mb-3",children:"학생 선택"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:t.map(I=>{const V=l(I.id),q=s(I.id).length;return d.jsxs("button",{onClick:()=>A(I),className:`p-3 rounded-lg border transition-colors ${j?.id===I.id?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:I.name}),d.jsxs("div",{className:"text-xs text-gray-500",children:["🏆 ",q,"개 | ⭐ ",V,"점"]})]},I.id)})})]}),j&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsxs("h3",{className:"text-lg font-semibold",children:[j.name,"의 업적"]}),d.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mt-1",children:[d.jsxs("span",{children:["총 업적: ",n.length,"개"]}),d.jsxs("span",{children:["완료: ",s(j.id).length,"개"]}),d.jsxs("span",{children:["포인트: ",l(j.id),"점"]})]})]}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(I=>{const V=a(j.id).find(H=>H.achievementId===I.id),q=V?.progress||0,re=V?.isCompleted||!1,se=Math.min(q/I.condition.target*100,100);return d.jsxs("div",{className:`p-4 rounded-lg border transition-all ${re?"border-green-200 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:I.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:I.name}),d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${R(I.category)}`,children:[D(I.category)," ",I.category]})]})]}),re&&d.jsx("div",{className:"text-green-600",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:I.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"진행도"}),d.jsxs("span",{className:"font-medium",children:[q.toLocaleString()," / ",I.condition.target.toLocaleString()]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${re?"bg-green-500":"bg-primary-500"}`,style:{width:`${se}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:I.condition.type}),d.jsxs("span",{children:["+",I.points,"점"]})]})]})]},I.id)})})})]})]}),E==="leaderboard"&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"업적 리더보드"}),d.jsx("p",{className:"text-sm text-gray-600",children:"포인트 순으로 정렬된 순위"})]}),d.jsx("div",{className:"p-4",children:O.length===0?d.jsx("p",{className:"text-center text-gray-500 py-8",children:"아직 완료된 업적이 없습니다."}):d.jsx("div",{className:"space-y-3",children:O.map((I,V)=>{const q=F(I.studentId);if(!q)return null;const re=["🥇","🥈","🥉"],se=V<3?re[V]:`${V+1}위`;return d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${V<3?"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200":"bg-gray-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-2xl",children:se}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:q.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:[I.completedCount,"개 업적 완료"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-xl font-bold text-primary-600",children:[I.points.toLocaleString(),"점"]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["평균 ",Math.round(I.points/Math.max(I.completedCount,1)),"점"]})]})]},I.studentId)})})})]}),E==="manage"&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"업적 목록"}),d.jsx("p",{className:"text-sm text-gray-600",children:"현재 등록된 모든 업적"})]}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(I=>d.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[d.jsx("div",{className:"flex items-start justify-between mb-2",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:I.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:I.name}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${R(I.category)}`,children:I.category})]})]})}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:I.description}),d.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[d.jsxs("div",{children:["목표: ",I.condition.target.toLocaleString()," (",I.condition.type,")"]}),d.jsxs("div",{children:["포인트: ",I.points,"점"]}),d.jsxs("div",{children:["상태: ",I.isActive?"활성":"비활성"]})]})]},I.id))})})]}),_&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-screen overflow-y-auto",children:[d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-semibold",children:"새 업적 만들기"})}),d.jsxs("form",{onSubmit:L,className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"업적명 *"}),d.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"예: 첫 거래"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명 *"}),d.jsx("textarea",{name:"description",required:!0,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"업적에 대한 설명"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"아이콘 *"}),d.jsx("input",{type:"text",name:"icon",required:!0,maxLength:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"🏆"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리 *"}),d.jsxs("select",{name:"category",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"카테고리 선택"}),d.jsx("option",{value:"trading",children:"거래"}),d.jsx("option",{value:"savings",children:"저축"}),d.jsx("option",{value:"social",children:"사회"}),d.jsx("option",{value:"milestone",children:"마일스톤"}),d.jsx("option",{value:"special",children:"특별"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"조건 유형 *"}),d.jsxs("select",{name:"conditionType",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"조건 선택"}),d.jsx("option",{value:"transaction_count",children:"거래 횟수"}),d.jsx("option",{value:"amount_saved",children:"저축 금액"}),d.jsx("option",{value:"profit_earned",children:"수익 금액"}),d.jsx("option",{value:"jobs_completed",children:"직업 완료"}),d.jsx("option",{value:"donations_made",children:"기부 횟수"}),d.jsx("option",{value:"portfolio_value",children:"포트폴리오 가치"}),d.jsx("option",{value:"consecutive_days",children:"연속 일수"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"목표 값 *"}),d.jsx("input",{type:"number",name:"target",required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"포인트 *"}),d.jsx("input",{type:"number",name:"points",required:!0,min:"1",max:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"100"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"취소"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600",children:"만들기"})]})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsx("p",{className:"text-yellow-800",children:"먼저 교실을 선택해주세요."})})})}var tw;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(tw||(tw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(nw||(nw={}));var rw;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(rw||(rw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=["user","model","function","system"];var aw;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(aw||(aw={}));var sw;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(sw||(sw={}));var ow;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ow||(ow={}));var lw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(lw||(lw={}));var fc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(fc||(fc={}));var cw;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(cw||(cw={}));var uw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(uw||(uw={}));var dw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(dw||(dw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class So extends Vn{constructor(t,n){super(t),this.response=n}}class g2 extends Vn{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class Ca extends Vn{}class y2 extends Vn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yve="https://generativelanguage.googleapis.com",Kve="v1beta",Zve="0.24.1",Xve="genai-js";var Ko;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ko||(Ko={}));class Qve{constructor(t,n,r,i,a){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Kve;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Yve}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Jve(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${Xve}/${Zve}`),t.join(" ")}async function exe(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Jve(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ca(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Ca(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ca(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function txe(e,t,n,r,i,a){const s=new Qve(e,t,n,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},axe(a)),{method:"POST",headers:await exe(s),body:i})}}async function Of(e,t,n,r,i,a={},s=fetch){const{url:l,fetchOptions:u}=await txe(e,t,n,r,i,a);return nxe(l,u,s)}async function nxe(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){rxe(i,e)}return r.ok||await ixe(r,e),r}function rxe(e,t){let n=e;throw n.name==="AbortError"?(n=new y2(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof g2||e instanceof Ca||(n=new Vn(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function ixe(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new g2(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function axe(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Bm(e.candidates[0]))throw new So(`${Ss(e)}`,e);return sxe(e)}else if(e.promptFeedback)throw new So(`Text not available. ${Ss(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Bm(e.candidates[0]))throw new So(`${Ss(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),XD(e)[0]}else if(e.promptFeedback)throw new So(`Function call not available. ${Ss(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Bm(e.candidates[0]))throw new So(`${Ss(e)}`,e);return XD(e)}else if(e.promptFeedback)throw new So(`Function call not available. ${Ss(e)}`,e)},e}function sxe(e){var t,n,r,i;const a=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function XD(e){var t,n,r,i;const a=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const oxe=[fc.RECITATION,fc.SAFETY,fc.LANGUAGE];function Bm(e){return!!e.finishReason&&oxe.includes(e.finishReason)}function Ss(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Bm(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function tf(e){return this instanceof tf?(this.v=e,this):new tf(e)}function lxe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(v){return new Promise(function(b,w){a.push([y,v,b,w])>1||l(y,v)})})}function l(y,v){try{u(r[y](v))}catch(b){p(a[0][3],b)}}function u(y){y.value instanceof tf?Promise.resolve(y.value.v).then(f,m):p(a[0][2],y)}function f(y){l("next",y)}function m(y){l("throw",y)}function p(y,v){y(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function cxe(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=fxe(t),[r,i]=n.tee();return{stream:dxe(r),response:uxe(i)}}async function uxe(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return v2(hxe(t));t.push(i)}}function dxe(e){return lxe(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield tf(n.read());if(i)break;yield yield tf(v2(r))}})}function fxe(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return t.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Vn("Failed to parse stream"));return}r.close();return}i+=s;let u=i.match(QD),f;for(;u;){try{f=JSON.parse(u[1])}catch{r.error(new Vn(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(f),i=i.substring(u[0].length),u=i.match(QD)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new y2("Request aborted when reading from the stream"):l=new Vn("Error reading from the stream"),l})}}})}function hxe(e){const t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(e,t,n,r){const i=await Of(t,Ko.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return cxe(i)}async function Nz(e,t,n,r){const a=await(await Of(t,Ko.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:v2(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function nf(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return mxe(t)}function mxe(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(n.parts.push(a),i=!0):(t.parts.push(a),r=!0);if(r&&i)throw new Vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Vn("No content is provided for sending chat message.");return r?t:n}function pxe(e,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Ca("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=nf(e);r.contents=[a]}return{generateContentRequest:r}}function JD(e){let t;return e.contents?t=e:t={contents:[nf(e)]},e.systemInstruction&&(t.systemInstruction=_z(e.systemInstruction)),t}function gxe(e){return typeof e=="string"||Array.isArray(e)?{content:nf(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],yxe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function vxe(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new Vn(`First content should be with role 'user', got ${r}`);if(!iw.includes(r))throw new Vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(iw)}`);if(!Array.isArray(i))throw new Vn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Vn("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of e5)u in l&&(a[u]+=1);const s=yxe[r];for(const l of e5)if(!s.includes(l)&&a[l]>0)throw new Vn(`Content with role '${r}' can't contain '${l}' part`);t=!0}}function t5(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="SILENT_ERROR";class Az{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(vxe(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,a,s,l,u;await this._sendPromise;const f=nf(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},p=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>Nz(this._apiKey,this.model,m,p)).then(v=>{var b;if(t5(v.response)){this._history.push(f);const w=Object.assign({parts:[],role:"model"},(b=v.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(w)}else{const w=Ss(v.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}y=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,y}async sendMessageStream(t,n={}){var r,i,a,s,l,u;await this._sendPromise;const f=nf(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},p=Object.assign(Object.assign({},this._requestOptions),n),y=jz(this._apiKey,this.model,m,p);return this._sendPromise=this._sendPromise.then(()=>y).catch(v=>{throw new Error(n5)}).then(v=>v.response).then(v=>{if(t5(v)){this._history.push(f);const b=Object.assign({},v.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=Ss(v);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(v=>{v.message!==n5&&console.error(v)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xxe(e,t,n,r){return(await Of(t,Ko.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bxe(e,t,n,r){return(await Of(t,Ko.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function wxe(e,t,n,r){const i=n.requests.map(s=>Object.assign(Object.assign({},s),{model:t}));return(await Of(t,Ko.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=_z(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=JD(t),a=Object.assign(Object.assign({},this._requestOptions),n);return Nz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(t,n={}){var r;const i=JD(t),a=Object.assign(Object.assign({},this._requestOptions),n);return jz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(t){var n;return new Az(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=pxe(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return xxe(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=gxe(t),i=Object.assign(Object.assign({},this._requestOptions),n);return bxe(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return wxe(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new fw(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Ca("Cached content must contain a `name` field.");if(!t.model)throw new Ca("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(n?.[s]&&t[s]&&n?.[s]!==t[s]){if(s==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===u)continue}throw new Ca(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${t[s]})`)}const a=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new fw(this.apiKey,a,r)}}const x2=Object.freeze(Object.defineProperty({__proto__:null,get BlockReason(){return lw},ChatSession:Az,get DynamicRetrievalMode(){return dw},get ExecutableCodeLanguage(){return nw},get FinishReason(){return fc},get FunctionCallingMode(){return uw},GenerativeModel:fw,GoogleGenerativeAI:Mz,GoogleGenerativeAIAbortError:y2,GoogleGenerativeAIError:Vn,GoogleGenerativeAIFetchError:g2,GoogleGenerativeAIRequestInputError:Ca,GoogleGenerativeAIResponseError:So,get HarmBlockThreshold(){return sw},get HarmCategory(){return aw},get HarmProbability(){return ow},get Outcome(){return rw},POSSIBLE_ROLES:iw,get SchemaType(){return tw},get TaskType(){return cw}},Symbol.toStringTag,{value:"Module"})),Sxe=()=>{const t=JSON.parse(localStorage.getItem("premium-store")||"{}").state?.geminiApiKey;if(!t)throw new Error("API key not found. Please enter a valid Gemini API key.");return new Mz(t)};class jxe{model;systemPrompt=`비바빌리지 학급 경제 계획 전문 도우미.

비바빌리지는 100% 디지털 가상화폐 기반 교육 플랫폼입니다:
- 가상화폐: 선생님이 설정한 화폐 단위 (실제 돈 사용 안함)
- 모든 활동이 컴퓨터/태블릿에서 이루어짐
- 실제 예산이나 물리적 물건 구매 없음
- 가상 직업, 가상 상점, 가상 투자 등 디지털 경제 체험

핵심 기능: 개인통장, 직업시스템, 급여, 세금, 아이템상점, 거래, 예금/적금, 주식투자, 업적시스템

3-4개 질문으로 교육 목표와 중점사항만 파악하여 계획 완성.`;constructor(){}getModel(){if(!this.model){const t=Sxe();this.model=t.getGenerativeModel({model:"gemini-2.0-flash-001",generationConfig:{temperature:.3,topP:.8,topK:10,maxOutputTokens:300}})}return this.model}async startChatWithDates(t,n,r,i,a){if(t){const u=t.name.match(/(\d+)/),f=u?u[1]:null;`${t.name}${n||0}${t.currencyUnit}`,f&&`${f}`,r&&i&&`${r}${i}${a}`}const s=t?(()=>{const u=t.name.match(/(\d+)/);return u?`${u[1]}학년`:"학급"})():"학급",l=t?`${this.systemPrompt}

안녕하세요! ${t.name} ${s} ${n}명의 비바빌리지 학급 경제 계획을 도와드리겠습니다.

${r&&i?`활동 기간이 ${r}부터 ${i}까지 ${a}주로 설정되었네요!`:""}

비바빌리지는 모든 활동이 디지털로 이뤄지는 가상화폐 플랫폼입니다. 실제 돈이나 물건 없이 ${t.currencyUnit}로 경제를 배워요.

어떤 경제 개념을 중점적으로 가르치고 싶으신가요? (저축습관, 투자체험, 직업체험, 창업정신 등)`:"비바빌리지 학급 경제 계획을 도와드리겠습니다. 학년과 학급 규모를 알려주세요.";try{return(await(await this.getModel().generateContent(l)).response).text()}catch(u){throw console.error("Gemini API Error:",u),new Error("AI 응답 생성 중 오류가 발생했습니다.")}}async startChat(t,n){if(t){const a=t.name.match(/(\d+)/),s=a?a[1]:null;`${t.name}${n||0}${t.currencyUnit}`,s&&`${s}`}const r=t?(()=>{const a=t.name.match(/(\d+)/);return a?`${a[1]}학년`:"학급"})():"학급",i=t?`${this.systemPrompt}

안녕하세요! ${t.name} ${r} ${n}명의 비바빌리지 학급 경제 계획을 도와드리겠습니다.

언제부터 시작하실 계획인가요?`:"비바빌리지 학급 경제 계획을 도와드리겠습니다. 학년과 학급 규모를 알려주세요.";try{return(await(await this.getModel().generateContent(i)).response).text()}catch(a){throw console.error("Gemini API Error:",a),new Error("AI 응답 생성 중 오류가 발생했습니다.")}}async sendMessage(t,n){const r=t.map(u=>`${u.role==="user"?"교사":"AI"}: ${u.content}`).join(`
`),i=`
현재까지 파악된 교사 프로필:
- 학급명: ${n.school||"미정"}
- 학년: ${n.grade?`${n.grade}학년`:"미정"}
- 학급 규모: ${n.classSize||"미정"}명
- 경험: ${n.experience||"미정"}
- 1학기 시작: ${n.academicCalendar.semester1Start||"미정"}
- 여름방학: ${n.academicCalendar.summerBreak||"미정"}
- 2학기 시작: ${n.academicCalendar.semester2Start||"미정"}
- 겨울방학: ${n.academicCalendar.winterBreak||"미정"}
`,a=t.length,l=`오늘 날짜: ${new Date().toLocaleDateString("ko-KR")}
${this.systemPrompt}

${i}

대화 내역:
${r}

지금까지 ${a}번 대화했습니다.

3번째 대화에서는 반드시 "계획을 확정하겠습니다! 잠시만 기다려주세요."라고 말해야 합니다.

비바빌리지 디지털 플랫폼 기반으로 간단히 질문하세요:
- 1번째: 중점 교육 목표 (저축습관/투자체험/직업체험/창업정신 등)
- 2번째: 학생들 특성이나 관심사 (활발한편인지, 경제에 관심있는지 등)
- 3번째: "계획을 확정하겠습니다! 잠시만 기다려주세요."

비바빌리지는 가상화폐 기반이므로 실제 예산이나 물리적 준비물은 묻지 마세요.`;try{return(await(await this.getModel().generateContent(l)).response).text()}catch(u){throw console.error("Gemini API Error:",u),new Error("AI 응답 생성 중 오류가 발생했습니다.")}}async generateFinalPlanWithDates(t,n,r,i,a){const s=t.map(y=>`${y.role==="user"?"교사":"AI"}: ${y.content}`).join(`
`);let l=a||14,u=r||"2025-09-25",f=i||"2025-12-31",m=`${l}주`;const p=`비바빌리지 학급 경제 교육 계획서를 JSON으로 생성하세요.

대화 내역: ${s}

설정된 활동 기간:
- 시작일: ${u}
- 종료일: ${f}
- 총 기간: ${l}주

비바빌리지 기능: 가상화폐, 직업시스템, 급여, 거래, 예금/적금, 주식투자, 아이템상점, 업적시스템

대화 내용을 바탕으로 ${l}주간 상세 계획을 생성하세요. 아래 JSON 형식만 반환하세요. 설명이나 다른 텍스트 없이 JSON만:

{
  "title": "비바빌리지 학급경제 계획",
  "duration": "${m}",
  "startDate": "${u}",
  "endDate": "${f}",
  "grade": 6,
  "classSize": 25,
  "weeklyPlans": [
    {
      "week": 1,
      "theme": "비바코인과 개인통장",
      "overview": "비바빌리지 학급경제의 첫걸음으로 가상화폐 개념을 이해하고 개인 경제활동의 기초를 다집니다. 학생들이 디지털 화폐 시스템에 친숙해지도록 합니다.",
      "activities": ["가상화폐 소개", "개인통장 개설", "기본 거래 실습"],
      "goals": ["화폐 개념 이해", "개인통장 사용법 학습"],
      "materials": ["컴퓨터", "비바빌리지 플랫폼"]
    },
    {
      "week": 2,
      "theme": "직업과 급여시스템",
      "overview": "다양한 직업을 통해 책임감과 근로 의식을 기르고, 급여를 받는 과정에서 노동의 가치를 이해합니다. 세금의 개념도 자연스럽게 학습합니다.",
      "activities": ["직업 선택", "급여 수령", "세금 이해"],
      "goals": ["직업 책임감", "급여 관리"],
      "materials": ["직업 카드", "급여명세서"]
    }
  ],
  "specialEvents": [
    {"date": "2025-10-15", "event": "중간 성과 발표회", "activity": "개인 경제 활동 발표"}
  ],
  "assessmentCriteria": ["참여도", "활동 완성도", "협력적 태도"],
  "parentCommunication": ["월간 보고서", "가정통신문", "경제 활동 포트폴리오"]
}

※ weeklyPlans는 ${l}주분 모두 작성하고, 각 주차별 overview를 2-3줄로 작성하세요. 비바빌리지 핵심 기능(가상화폐, 직업, 거래, 예금/적금, 주식투자, 아이템상점, 업적)을 순차적으로 다루세요.`;try{const b=(await(await this.getModel().generateContent(p)).response).text();let w=b.trim();w=w.replace(/```json\s*/,"").replace(/```\s*$/,"");const j=w.match(/\{[\s\S]*\}/);if(!j)throw new Error("유효한 JSON을 찾을 수 없습니다.");let A;try{A=JSON.parse(j[0])}catch(_){console.error("JSON parse error:",_),console.error("Raw response:",b),A={title:"비바빌리지 학급경제 계획",duration:m,startDate:u,endDate:f,grade:6,classSize:25,weeklyPlans:this.generateWeeklyPlans(l),specialEvents:[{date:"2025-10-15",event:"중간 경제 성과 발표회",activity:"개인별 경제 활동 발표"},{date:"2025-11-15",event:"모의 창업 경진대회",activity:"팀별 사업 아이디어 발표"},{date:"2025-12-20",event:"학급 경제 축제",activity:"전체 활동 정리 및 시상"}],assessmentCriteria:["참여도","활동 완성도","협력적 태도","창의적 사고"],parentCommunication:["월간 보고서","가정통신문","경제 활동 포트폴리오"]}}return{id:crypto.randomUUID(),...A,createdAt:new Date}}catch(y){throw console.error("Plan generation error:",y),new Error("계획서 생성 중 오류가 발생했습니다.")}}async generateFinalPlan(t,n){const r=t.map(f=>`${f.role==="user"?"교사":"AI"}: ${f.content}`).join(`
`);r.match(/(\d{4}-\d{1,2}-\d{1,2}|\d{1,2}월\s*\d{1,2}일|오늘|내일|\d{1,2}일)/),r.match(/(12월|겨울방학|학기말|\d{1,2}월\s*말|\d{4}-\d{1,2}-\d{1,2})/);let i=14,a="2025-09-25",s="2025-12-31",l="14주";r.includes("12월")?(i=14,l="14주 (3개월)"):r.includes("11월")&&(i=10,l="10주 (2개월)",s="2025-11-30");const u=`비바빌리지 학급 경제 교육 계획서를 JSON으로 생성하세요.

대화 내역: ${r}

비바빌리지 기능: 가상화폐, 직업시스템, 급여, 거래, 예금/적금, 주식투자, 아이템상점, 업적시스템

대화 내용을 바탕으로 ${i}주간 상세 계획을 생성하세요. 아래 JSON 형식만 반환하세요. 설명이나 다른 텍스트 없이 JSON만:

{
  "title": "비바빌리지 학급경제 계획",
  "duration": "${l}",
  "startDate": "${a}",
  "endDate": "${s}",
  "grade": 6,
  "classSize": 25,
  "weeklyPlans": [
    {
      "week": 1,
      "theme": "비바코인과 개인통장",
      "overview": "비바빌리지 학급경제의 첫걸음으로 가상화폐 개념을 이해하고 개인 경제활동의 기초를 다집니다. 학생들이 디지털 화폐 시스템에 친숙해지도록 합니다.",
      "activities": ["가상화폐 소개", "개인통장 개설", "기본 거래 실습"],
      "goals": ["화폐 개념 이해", "개인통장 사용법 학습"],
      "materials": ["컴퓨터", "비바빌리지 플랫폼"]
    },
    {
      "week": 2,
      "theme": "직업과 급여시스템",
      "overview": "다양한 직업을 통해 책임감과 근로 의식을 기르고, 급여를 받는 과정에서 노동의 가치를 이해합니다. 세금의 개념도 자연스럽게 학습합니다.",
      "activities": ["직업 선택", "급여 수령", "세금 이해"],
      "goals": ["직업 책임감", "급여 관리"],
      "materials": ["직업 카드", "급여명세서"]
    }
  ],
  "specialEvents": [
    {"date": "2025-10-15", "event": "중간 성과 발표회", "activity": "개인 경제 활동 발표"}
  ],
  "assessmentCriteria": ["참여도", "활동 완성도", "협력적 태도"],
  "parentCommunication": ["월간 보고서", "가정통신문", "경제 활동 포트폴리오"]
}

※ weeklyPlans는 ${i}주분 모두 작성하고, 각 주차별 overview를 2-3줄로 작성하세요. 비바빌리지 핵심 기능(가상화폐, 직업, 거래, 예금/적금, 주식투자, 아이템상점, 업적)을 순차적으로 다루세요.`;try{const p=(await(await this.getModel().generateContent(u)).response).text();let y=p.trim();y=y.replace(/```json\s*/,"").replace(/```\s*$/,"");const v=y.match(/\{[\s\S]*\}/);if(!v)throw new Error("유효한 JSON을 찾을 수 없습니다.");let b;try{b=JSON.parse(v[0])}catch(w){console.error("JSON parse error:",w),console.error("Raw response:",p),b={title:"비바빌리지 학급경제 계획",duration:l,startDate:a,endDate:s,grade:6,classSize:25,weeklyPlans:this.generateWeeklyPlans(i),specialEvents:[{date:"2025-10-15",event:"중간 경제 성과 발표회",activity:"개인별 경제 활동 발표"},{date:"2025-11-15",event:"모의 창업 경진대회",activity:"팀별 사업 아이디어 발표"},{date:"2025-12-20",event:"학급 경제 축제",activity:"전체 활동 정리 및 시상"}],assessmentCriteria:["참여도","활동 완성도","협력적 태도","창의적 사고"],parentCommunication:["월간 보고서","가정통신문","경제 활동 포트폴리오"]}}return{id:crypto.randomUUID(),...b,createdAt:new Date}}catch(f){throw console.error("Plan generation error:",f),new Error("계획서 생성 중 오류가 발생했습니다.")}}async modifyPlan(t,n){const r=`${this.systemPrompt}

기존 계획서:
${JSON.stringify(t,null,2)}

수정 요청사항:
${n}

위 요청사항을 반영하여 계획서를 수정하고, 수정된 전체 계획서를 JSON 형식으로 반환하세요.
기존 계획서의 형식을 유지하면서 요청된 부분만 수정하세요.

JSON만 반환하고 다른 설명은 포함하지 마세요.`;try{const l=(await(await this.getModel().generateContent(r)).response).text().match(/\{[\s\S]*\}/);if(!l)throw new Error("계획서 수정 실패");return{...JSON.parse(l[0]),id:t.id,createdAt:t.createdAt,modifiedAt:new Date}}catch(i){throw console.error("Plan modification error:",i),new Error("계획서 수정 중 오류가 발생했습니다.")}}generateWeeklyPlans(t){return[{week:1,theme:"비바코인과 개인통장",overview:"비바빌리지 학급경제의 첫걸음으로 가상화폐 개념을 이해하고 개인 경제활동의 기초를 다집니다. 학생들이 디지털 화폐 시스템에 친숙해지도록 합니다.",activities:["가상화폐 소개","개인통장 개설","기본 거래 실습"],goals:["화폐 개념 이해","개인통장 사용법 학습"],materials:["컴퓨터","비바빌리지 플랫폼"]},{week:2,theme:"직업과 급여시스템",overview:"다양한 직업을 통해 책임감과 근로 의식을 기르고, 급여를 받는 과정에서 노동의 가치를 이해합니다. 세금의 개념도 자연스럽게 학습합니다.",activities:["직업 선택","급여 수령","세금 이해"],goals:["직업 책임감","급여 관리"],materials:["직업 카드","급여명세서"]},{week:3,theme:"아이템 상점과 거래",overview:"비바빌리지 상점에서 아이템을 구매하고 친구들과 거래하는 경험을 통해 시장경제 원리를 체험합니다. 합리적인 소비 습관을 기릅니다.",activities:["아이템 구매","거래 체험","가격 협상"],goals:["거래 원리 이해","합리적 소비"],materials:["아이템 카탈로그","거래 장부"]},{week:4,theme:"저축과 예금",overview:"정기예금과 적금을 통해 저축의 중요성을 배우고 복리 이자의 마법을 경험합니다. 미래를 위한 계획적인 저축 습관을 형성합니다.",activities:["정기예금 가입","적금 시작","이자 계산"],goals:["저축 습관 형성","복리 이해"],materials:["예금상품 안내서","계산기"]},{week:5,theme:"세금과 국고",overview:"세금을 납부하고 공공재를 구매하는 과정을 통해 세금의 필요성과 공동체 의식을 기릅니다. 국고 운영에 참여하여 민주시민 의식을 함양합니다.",activities:["세금 납부","공공재 구매","국고 운영"],goals:["세금의 필요성 이해","공동체 의식"],materials:["세금 신고서","국고 장부"]},{week:6,theme:"주식 투자 기초",overview:"주식의 개념을 배우고 기업을 분석하여 모의 투자를 해봅니다. 투자의 기본 원리와 위험 관리의 중요성을 이해합니다.",activities:["주식 개념","종목 분석","모의 투자"],goals:["투자 원리 이해","위험 관리"],materials:["주식 차트","투자 일지"]},{week:7,theme:"포트폴리오 관리",overview:"투자 포트폴리오를 구성하고 수익률을 계산해봅니다. 분산 투자를 통한 리스크 관리 방법을 학습하고 투자 전략을 수립합니다.",activities:["수익률 계산","분산 투자","투자 전략"],goals:["포트폴리오 구성","리스크 관리"],materials:["투자 현황표","계산기"]},{week:8,theme:"대출과 신용",overview:"필요할 때 대출을 신청하고 신용등급의 중요성을 배웁니다. 계획적인 차용과 상환 계획 수립의 중요성을 이해합니다.",activities:["대출 신청","신용등급 확인","상환 계획"],goals:["신용의 중요성","계획적 차용"],materials:["대출 신청서","신용등급표"]},{week:9,theme:"창업과 사업",overview:"창의적인 사업 아이디어를 발굴하고 창업을 준비해봅니다. 기업가 정신을 기르고 수익 계산을 통해 사업의 기본을 이해합니다.",activities:["사업 아이디어","창업 준비","수익 계산"],goals:["기업가 정신","사업 계획 수립"],materials:["사업계획서","창업 자금"]},{week:10,theme:"경제 지표 분석",overview:"인플레이션과 경기 변동을 체험하며 거시경제 개념을 이해합니다. 시장 분석을 통해 경제 흐름을 읽는 능력을 기릅니다.",activities:["인플레이션 체험","경기 변동","시장 분석"],goals:["거시경제 이해","시장 동향 파악"],materials:["경제 지표 자료","분석 도구"]},{week:11,theme:"업적과 성과 평가",overview:"지금까지의 경제 활동을 돌아보고 달성한 업적을 확인합니다. 자신의 성과를 분석하고 개선점을 찾아 성장 마인드를 기릅니다.",activities:["업적 달성 확인","성과 분석","개선점 도출"],goals:["자기 평가 능력","성장 마인드"],materials:["업적 체크리스트","성과표"]},{week:12,theme:"종합 정리 및 발표",overview:"학급 경제 활동을 종합 정리하고 친구들 앞에서 성과를 발표합니다. 학습한 내용을 성찰하고 표현 능력을 기릅니다.",activities:["경제 활동 정리","성과 발표","소감 나누기"],goals:["학습 성찰","표현 능력 향상"],materials:["발표 자료","활동 포트폴리오"]},{week:13,theme:"심화 경제 활동",overview:"기본 활동을 넘어서 더 복잡한 경제 상황을 체험해봅니다. 실제 경제에서 일어나는 다양한 상황들을 시뮬레이션합니다.",activities:["복합 거래","경제 위기 대응","국제 거래"],goals:["응용 능력","문제 해결력"],materials:["시뮬레이션 도구","상황 카드"]},{week:14,theme:"미래 설계와 마무리",overview:"학습한 경제 지식을 바탕으로 미래 계획을 세우고 비바빌리지 활동을 마무리합니다. 실생활에 적용할 수 있는 경제 습관을 다짐합니다.",activities:["미래 계획 수립","경제 습관 다짐","활동 마무리"],goals:["미래 설계 능력","실생활 적용"],materials:["계획서","다짐 카드"]}].slice(0,t)}}const Vm=new jxe,Nxe=Object.freeze(Object.defineProperty({__proto__:null,geminiService:Vm},Symbol.toStringTag,{value:"Module"})),_xe={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},Axe=(e,t,n)=>{let r;const i=_xe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?r+" 후":r+" 전":r},Mxe={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},kxe={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cxe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Exe={date:ac({formats:Mxe,defaultWidth:"full"}),time:ac({formats:kxe,defaultWidth:"full"}),dateTime:ac({formats:Cxe,defaultWidth:"full"})},Txe={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},Oxe=(e,t,n,r)=>Txe[e],Pxe={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Dxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Rxe={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Lxe={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Ixe={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},$xe={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},zxe=(e,t)=>{const n=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},Bxe={ordinalNumber:zxe,era:Li({values:Pxe,defaultWidth:"wide"}),quarter:Li({values:Dxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Li({values:Rxe,defaultWidth:"wide"}),day:Li({values:Lxe,defaultWidth:"wide"}),dayPeriod:Li({values:Ixe,defaultWidth:"wide",formattingValues:$xe,defaultFormattingWidth:"wide"})},Vxe=/^(\d+)(일|번째)?/i,Uxe=/\d+/i,Fxe={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},Hxe={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},qxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},Wxe={any:[/1/i,/2/i,/3/i,/4/i]},Gxe={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},Yxe={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Kxe={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Zxe={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},Xxe={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},Qxe={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Jxe={ordinalNumber:j5({matchPattern:Vxe,parsePattern:Uxe,valueCallback:e=>parseInt(e,10)}),era:Ii({matchPatterns:Fxe,defaultMatchWidth:"wide",parsePatterns:Hxe,defaultParseWidth:"any"}),quarter:Ii({matchPatterns:qxe,defaultMatchWidth:"wide",parsePatterns:Wxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ii({matchPatterns:Gxe,defaultMatchWidth:"wide",parsePatterns:Yxe,defaultParseWidth:"any"}),day:Ii({matchPatterns:Kxe,defaultMatchWidth:"wide",parsePatterns:Zxe,defaultParseWidth:"any"}),dayPeriod:Ii({matchPatterns:Xxe,defaultMatchWidth:"any",parsePatterns:Qxe,defaultParseWidth:"any"})},rd={code:"ko",formatDistance:Axe,formatLong:Exe,formatRelative:Oxe,localize:Bxe,match:Jxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ebe({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const r5=N.forwardRef(ebe);function tbe({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nbe=N.forwardRef(tbe);function b2({isOpen:e,onClose:t,featureName:n,onApiKeySubmit:r}){const[i,a]=N.useState(""),[s,l]=N.useState(!1);if(!e)return null;const u=async f=>{if(f.preventDefault(),!!i.trim()){l(!0);try{await r(i.trim()),t()}catch(m){console.error("API Key 검증 실패:",m)}finally{l(!1)}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(r5,{className:"h-6 w-6 text-sky-500"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"프리미엄 기능"})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(nbe,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"bg-gradient-to-r from-sky-100 to-blue-100 rounded-lg p-6 mb-6",children:[d.jsx(r5,{className:"h-12 w-12 text-sky-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"해당 기능은 구독자 전용 기능입니다"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"더 많은 기능을 이용하려면 유료 구독해주세요."})]}),d.jsxs("div",{className:"bg-sky-50 rounded-lg p-4 mb-6",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"또는 직접 API 키를 입력하세요"}),d.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Google AI Studio에서 Gemini API 키를 발급받아 사용할 수 있습니다"}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsx("div",{children:d.jsx("input",{type:"text",placeholder:"Gemini API Key 입력",value:i,onChange:f=>a(f.target.value),className:"w-full px-4 py-3 border border-sky-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-sm",required:!0})}),d.jsx("button",{type:"submit",disabled:!i.trim()||s,className:"w-full bg-sky-500 hover:bg-sky-600 disabled:bg-gray-300 text-white px-4 py-3 rounded-lg font-medium transition-colors text-sm",children:s?"검증 중...":"API 키 사용하기"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:text-sky-700 text-sm font-medium",children:"Google AI Studio에서 API 키 발급받기 →"})})]})]})})}const rbe=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-100 px-1 rounded text-sm">$1</code>').replace(/\n/g,"<br>");function ibe(){const[e,t]=N.useState([]),[n,r]=N.useState(""),[i,a]=N.useState(!1),[s,l]=N.useState("dateSetup"),[u,f]=N.useState(0),[m,p]=N.useState(!1),[y,v]=N.useState(""),[b,w]=N.useState(""),[j,A]=N.useState(!1),{currentPlan:_,savedPlans:k,teacherProfile:E,setCurrentPlan:M,savePlan:O,updateTeacherProfile:L,clearCurrentPlan:D}=SW(),{isPremiumActive:R,validateApiKey:F}=Aw(),I=Ur(),V=$s(),q=N.useRef(null),re=N.useRef(null);N.useEffect(()=>{if(!R){A(!0);return}!m&&e.length===0&&s==="greeting"&&G()},[s,R]),N.useEffect(()=>{se()},[e]);const se=()=>{q.current?.scrollIntoView({behavior:"smooth"})},H=()=>{if(!y||!b){alert("시작일과 종료일을 모두 설정해주세요.");return}if(new Date(y)>=new Date(b)){alert("종료일은 시작일보다 나중이어야 합니다.");return}l("greeting"),G()},z=()=>{if(!y||!b)return 0;const J=new Date(y),le=new Date(b),_e=Math.abs(le.getTime()-J.getTime());return Math.ceil(_e/(1e3*60*60*24*7))},G=async()=>{if(a(!0),t([]),l("greeting"),f(0),I){const J=I.name.match(/(\d+)/),le=J?parseInt(J[1]):null;L({grade:le||void 0,classSize:V.length,school:I.name})}try{const J=y&&b?`
선생님께서 설정하신 활동 기간:
- 시작일: ${Vu(new Date(y),"yyyy년 M월 d일",{locale:rd})}
- 종료일: ${Vu(new Date(b),"yyyy년 M월 d일",{locale:rd})}
- 총 기간: ${z()}주

이 기간에 맞는 비바빌리지 학급 경제 활동 계획을 세워드리겠습니다.`:"",le=await Vm.startChatWithDates(I,V.length,y,b,z());t([{role:"assistant",content:le,timestamp:new Date}])}catch(J){console.error("Chat start error:",J);const le=I?`안녕하세요! ${I.name} 선생님! 학생 ${V.length}명과 함께하는 학급 경제 계획을 도와드리겠습니다. 언제부터 시작하실 예정인가요?`:"안녕하세요! 학급 경제 계획을 도와드리겠습니다. 먼저 몇 학년을 담당하고 계신가요?";t([{role:"assistant",content:le,timestamp:new Date}])}finally{a(!1)}},ie=async()=>{if(!n.trim()||i)return;const J=u+1;f(J);const le={role:"user",content:n.trim(),timestamp:new Date};t(_e=>[..._e,le]),r(""),a(!0),$(n);try{if(J>=3){const ee={role:"assistant",content:"좋습니다! 이제 계획을 확정하겠습니다. 잠시만 기다려주세요.",timestamp:new Date};t(we=>[...we,ee]),l("reviewing"),a(!1);return}const _e=await Vm.sendMessage([...e,le],E),Te={role:"assistant",content:_e,timestamp:new Date};t(ee=>[...ee,Te]),(_e.includes("계획을 확정")||_e.includes("잠시만 기다려"))&&l("reviewing")}catch(_e){console.error("Send message error:",_e),t(Te=>[...Te,{role:"assistant",content:"죄송합니다. 응답 생성 중 오류가 발생했습니다. 다시 시도해주세요.",timestamp:new Date}])}finally{a(!1)}},$=J=>{const le=J.match(/(\d+)학년/);le&&L({grade:parseInt(le[1])});const _e=J.match(/(\d+)명/);_e&&L({classSize:parseInt(_e[1])});const Te=/(\d{1,2})월\s*(\d{1,2})일/g,ee=[...J.matchAll(Te)];J.includes("개학")&&ee.forEach(we=>{J.includes("3월")&&J.includes("개학")&&L({academicCalendar:{...E.academicCalendar,semester1Start:`2025-03-${we[2].padStart(2,"0")}`}})})},Q=async()=>{a(!0);try{const J=await Vm.generateFinalPlanWithDates(e,E,y,b,z());M(J),O(J),l("completed"),p(!0)}catch(J){console.error("Plan generation error:",J),alert("계획서 생성 중 오류가 발생했습니다.")}finally{a(!1)}},ne=async()=>{_&&(p(!1),f(0),t([{role:"assistant",content:`**기존 계획** "${_.title}"의 어느 부분을 수정하고 싶으신가요?`,timestamp:new Date}]),l("collecting"))},ue=()=>{D(),p(!1),f(0),t([]),v(""),w(""),l("dateSetup")},xe=async J=>{if(await F(J))A(!1);else throw alert("유효하지 않은 API 키입니다. 다시 확인해주세요."),new Error("Invalid API key")};return m&&_?d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 p-6 mb-6",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["📚 ",_.title]}),d.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[d.jsxs("span",{children:["📅 ",_.duration]}),d.jsxs("span",{children:["👥 ",_.grade,"학년 ",_.classSize,"명"]}),d.jsxs("span",{children:["🗓️ ",_.startDate," ~ ",_.endDate]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:ne,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"수정하기"}),d.jsx("button",{onClick:ue,className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:"새 계획 만들기"})]})]})}),d.jsx("div",{className:"grid gap-4 mb-6",children:_.weeklyPlans.map(J=>d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/50 p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[J.week,"주차: ",J.theme]}),J.overview&&d.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed bg-gray-50 p-3 rounded-lg",children:J.overview}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"🎯 활동"}),d.jsx("ul",{className:"space-y-1",children:J.activities.map((le,_e)=>d.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[d.jsx("span",{className:"mr-2",children:"•"}),le]},_e))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"📊 목표"}),d.jsx("ul",{className:"space-y-1",children:J.goals.map((le,_e)=>d.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[d.jsx("span",{className:"mr-2",children:"•"}),le]},_e))})]})]}),J.materials.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"📦 준비물"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:J.materials.map((le,_e)=>d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded-lg text-gray-600",children:le},_e))})]})]},J.week))}),_.specialEvents.length>0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/50 p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🎉 특별 이벤트"}),d.jsx("div",{className:"space-y-3",children:_.specialEvents.map((J,le)=>d.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-gray-100 last:border-0",children:[d.jsx("div",{className:"px-3 py-1 bg-accent-100 text-accent-700 rounded-lg text-sm font-medium",children:J.date}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:J.event}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:J.activity})]})]},le))})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/50 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📝 평가 기준"}),d.jsx("ul",{className:"space-y-2",children:_.assessmentCriteria.map((J,le)=>d.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[d.jsxs("span",{className:"text-accent-600 mr-2",children:[le+1,"."]}),J]},le))})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/50 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💬 학부모 소통"}),d.jsx("ul",{className:"space-y-2",children:_.parentCommunication.map((J,le)=>d.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[d.jsxs("span",{className:"text-accent-600 mr-2",children:[le+1,"."]}),J]},le))})]})]})]}):d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-500 to-accent-600 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-2xl",children:"🤖"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI 활동 계획 도우미"}),d.jsx("p",{className:"text-sm text-gray-600",children:"학급 경제 교육 계획을 함께 만들어요"})]})]}),k.length>0&&d.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:["저장된 계획 (",k.length,")"]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[d.jsx("span",{children:"대화 진행도"}),d.jsx("span",{children:s==="completed"?"완료":"진행 중"})]}),d.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-accent-500 to-accent-600 transition-all duration-500",style:{width:s==="dateSetup"?"20%":s==="greeting"?"40%":s==="collecting"?"60%":s==="reviewing"?"80%":"100%"}})})]})]}),s==="dateSetup"&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 p-6 mb-6",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"📅 활동 기간 설정"}),d.jsx("p",{className:"text-gray-600",children:"비바빌리지 학급 경제 활동을 진행할 기간을 설정해주세요"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시작일"}),d.jsx("input",{type:"date",value:y,onChange:J=>v(J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent-500 focus:border-accent-500",min:new Date().toISOString().split("T")[0]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"종료일"}),d.jsx("input",{type:"date",value:b,onChange:J=>w(J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent-500 focus:border-accent-500",min:y||new Date().toISOString().split("T")[0]})]})]}),y&&b&&d.jsxs("div",{className:"mt-6 p-4 bg-accent-50 rounded-lg text-center",children:[d.jsxs("p",{className:"text-accent-700 font-medium",children:["📊 예상 활동 기간: ",d.jsxs("span",{className:"font-bold",children:[z(),"주"]})]}),d.jsxs("p",{className:"text-sm text-accent-600 mt-1",children:[Vu(new Date(y),"yyyy년 M월 d일",{locale:rd})," ~ ",Vu(new Date(b),"yyyy년 M월 d일",{locale:rd})]})]}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsx("button",{onClick:H,disabled:!y||!b,className:"px-6 py-3 bg-accent-600 text-white rounded-lg hover:bg-accent-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:"다음 단계로 →"})})]}),s!=="dateSetup"&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 h-[600px] flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.map((J,le)=>d.jsx("div",{className:`flex ${J.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${J.role==="user"?"bg-accent-600 text-white":"bg-gray-100 text-gray-800"}`,children:[J.role==="assistant"&&d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:"🤖"}),d.jsx("span",{className:"text-xs opacity-70",children:"AI 도우미"})]}),d.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:rbe(J.content)}}),d.jsx("div",{className:`text-xs mt-2 ${J.role==="user"?"text-white/70":"text-gray-500"}`,children:Vu(J.timestamp,"HH:mm",{locale:rd})})]})},le)),i&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:"🤖"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),d.jsx("div",{ref:q})]}),d.jsxs("div",{className:"border-t border-gray-200/50 p-4",children:[s==="reviewing"&&d.jsxs("div",{className:"mb-3 p-3 bg-accent-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-accent-700 mb-2",children:"계획이 준비되었습니다. 확정하시겠습니까?"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:Q,disabled:i,className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors disabled:opacity-50 text-sm",children:"계획 확정하기"}),d.jsx("button",{onClick:()=>l("collecting"),disabled:i,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 text-sm",children:"더 수정하기"})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("textarea",{ref:re,value:n,onChange:J=>r(J.target.value),onKeyDown:J=>{J.key==="Enter"&&!J.shiftKey?(J.preventDefault(),ie()):J.key==="Enter"&&J.shiftKey},placeholder:"메시지를 입력하세요... (Shift+Enter로 줄바꿈)",disabled:i||s==="completed",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 disabled:bg-gray-100 min-h-[48px] max-h-[120px] resize-none",rows:1,style:{height:"auto",overflowY:n.split(`
`).length>2?"scroll":"hidden"},onInput:J=>{const le=J.target;le.style.height="auto",le.style.height=Math.min(le.scrollHeight,120)+"px"}}),d.jsx("button",{onClick:ie,disabled:i||!n.trim()||s==="completed",className:"px-6 py-3 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors disabled:opacity-50",children:"전송"})]}),(()=>{const J=e[e.length-1]?.content?.toLowerCase()||"";return s==="greeting"&&u===0?d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>{r("3월 개학부터"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"3월 개학부터"}),d.jsx("button",{onClick:()=>{r("다음 주부터"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"다음 주부터"}),d.jsx("button",{onClick:()=>{r("1학기 전체"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"1학기 전체"})]}):J.includes("특별")||J.includes("행사")?d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>{r("운동회, 소풍 있어요"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"운동회, 소풍"}),d.jsx("button",{onClick:()=>{r("특별 행사 없어요"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"없음"})]}):J.includes("목표")||J.includes("중점")?d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>{r("저축 습관 기르기에 집중"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"저축 습관"}),d.jsx("button",{onClick:()=>{r("투자 개념 배우기"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"투자 개념"}),d.jsx("button",{onClick:()=>{r("창업 체험 활동"),ie()},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"창업 체험"})]}):null})()]})]}),d.jsx(b2,{isOpen:j,onClose:()=>A(!1),featureName:"AI 활동 계획",onApiKeySubmit:xe})]})}function abe(){const{studentId:e}=A8(),t=sf(),[n,r]=N.useState("overview"),[i,a]=N.useState([]),[s,l]=N.useState(""),[u,f]=N.useState(!1),[m,p]=N.useState(!1),{getStudent:y}=yr(),{getClassroom:v}=kc(),{getPortfolioByStudent:b}=ar(),{getSavingsAccountsByStudent:w}=Ts(),{isPremiumActive:j,validateApiKey:A}=Aw(),_=e?y(e):null,k=_?v(_.classroomId):null,E=b(e)||[],M=w(e)||[],O=E.reduce((q,re)=>q+re.quantity*re.currentPrice,0),L=M.reduce((q,re)=>q+re.totalBalance,0),D=(_?.balance||0)+O+L,R=D>0?L/D*100:0,F=async q=>{if(await A(q))p(!1);else throw alert("유효하지 않은 API 키입니다. 다시 확인해주세요."),new Error("Invalid API key")};if(!j)return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("button",{onClick:()=>t("/portfolio"),className:"px-4 py-2 text-sky-600 hover:text-sky-700 font-medium flex items-center space-x-2",children:[d.jsx("span",{children:"←"}),d.jsx("span",{children:"포트폴리오 목록"})]})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("span",{className:"text-3xl",children:"📊"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학생 상세 포트폴리오"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"개별 학생의 경제 활동을 심층 분석한 포트폴리오를 확인하세요"}),d.jsx("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-lg font-medium transition-colors",children:"포트폴리오 보기"})]})]})}),d.jsx(b2,{isOpen:m,onClose:()=>p(!1),featureName:"학생 상세 포트폴리오",onApiKeySubmit:F})]});const I=async()=>{if(_){f(!0);try{const re=JSON.parse(localStorage.getItem("premium-store")||"{}").state?.geminiApiKey;if(!re){alert("API 키를 찾을 수 없습니다. 다시 로그인해주세요.");return}const{GoogleGenerativeAI:se}=await xs(async()=>{const{GoogleGenerativeAI:ue}=await Promise.resolve().then(()=>x2);return{GoogleGenerativeAI:ue}},void 0),z=new se(re).getGenerativeModel({model:"gemini-2.0-flash-001",generationConfig:{temperature:.7,topP:.9,maxOutputTokens:1e3}}),G=`당신은 초등학교 경제교육 전문가이며, SEC(Small Economy in Classroom) 프로그램을 운영하는 교사입니다.
학생의 종합적인 경제활동 데이터를 분석하여 전문적이고 개인맞춤형 교육적 피드백을 제공해주세요.

📊 학생 경제활동 종합 분석 데이터:

🎓 기본 정보
- 학생명: ${_.name}
- 소속: ${k?.name}
- 현재 신용등급: ${_.creditGrade} (${_.creditScore}점/850점 만점)

💰 자산 포트폴리오 현황
- 총 자산: ${D.toLocaleString()}원
- 현금 보유액: ${_.balance.toLocaleString()}원 (${(_.balance/D*100).toFixed(1)}%)
- 주식 투자금: ${O.toLocaleString()}원 (${(O/D*100).toFixed(1)}%)
- 예금/적금: ${L.toLocaleString()}원 (${(L/D*100).toFixed(1)}%)
- 저축률: ${R.toFixed(1)}%

📈 거래 활동 분석
- 누적 총수익: ${_.totalEarnings.toLocaleString()}원
- 총 거래 횟수: ${_.totalTransactions}회
- 평균 거래 금액: ${_.totalTransactions>0?(_.totalEarnings/_.totalTransactions).toLocaleString():"0"}원
- 달성 업적 수: ${_.achievements?.length||0}개

🎯 학습 태도 지표
- 지각: ${_.lateCount}회
- 숙제 미제출: ${_.homeworkMissed}회
- 도서 연체: ${_.bookOverdue}회

다음 구조로 500-700자 분량의 종합적이고 전문적인 피드백을 작성해주세요:

1. **경제활동 성과 분석** (2-3문장)
   - 자산 구성의 균형성과 투자 성향 분석
   - 신용등급과 저축률을 통한 재무 관리 능력 평가

2. **강점과 특장점** (2-3문장)
   - 구체적인 데이터를 인용하여 학생의 뛰어난 점 칭찬
   - 다른 학생들과 비교했을 때의 상대적 우위 언급

3. **성장 기회와 개선 방향** (2-3문장)
   - 현재 포트폴리오의 취약점 분석
   - 학습 태도와 연관지은 종합적 개선 제안

4. **구체적 실행 방안** (1-2문장)
   - 다음 단계에서 실천할 수 있는 명확한 액션 아이템 제시
   - 기대되는 구체적 목표 수치 포함

따뜻하면서도 전문적인 어조로, 학생이 성취감을 느끼면서도 더 발전할 동기를 얻을 수 있도록 작성해주세요.`,Q=(await(await z.generateContent(G)).response).text(),ne={id:Date.now().toString(),content:Q,isAI:!0,createdAt:new Date().toISOString(),author:"AI 경제교육 전문가"};a(ue=>[ne,...ue])}catch(q){console.error("AI 코멘트 생성 실패:",q),alert("AI 코멘트 생성에 실패했습니다.")}finally{f(!1)}}},V=()=>{if(!s.trim())return;const q={id:Date.now().toString(),content:s,isAI:!1,createdAt:new Date().toISOString(),author:"담임 선생님"};a(re=>[q,...re]),l("")};return!_||!k?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학생을 찾을 수 없습니다"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"잘못된 학생 ID이거나 학생 데이터가 없습니다."}),d.jsx("button",{onClick:()=>t("/portfolio"),className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700",children:"포트폴리오 목록으로 돌아가기"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-sky-50 rounded-xl p-6 border border-sky-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-16 h-16 bg-sky-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:_.name.charAt(0)}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[_.name,"의 경제 활동 포트폴리오"]}),d.jsxs("p",{className:"text-sky-600 mt-1",children:[k.name," · 신용등급 ",_.creditGrade," · ",_.creditScore,"점"]})]})]}),d.jsx("button",{onClick:()=>t("/portfolio"),className:"bg-white text-sky-600 px-4 py-2 rounded-lg hover:bg-sky-50 transition border border-sky-200",children:"← 목록으로"})]})}),d.jsxs("div",{className:"bg-gradient-to-r from-sky-100 to-blue-100 rounded-xl p-6 border border-sky-200 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-sky-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-2xl",children:"🤖"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI 경제교육 전문가"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"자산 포트폴리오, 거래 패턴, 학습 태도를 종합 분석하여 500-700자 분량의 전문적인 교육 컨설팅을 제공합니다"})]})]}),d.jsx("button",{onClick:I,disabled:u,className:"bg-sky-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md",children:u?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"생성 중..."})]}):"✨ AI 코멘트 생성"})]}),i.filter(q=>q.isAI).length>0&&d.jsxs("div",{className:"mt-4 p-4 bg-white bg-opacity-60 rounded-lg border border-sky-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"최근 AI 코멘트"}),d.jsx("span",{className:"text-xs text-gray-500",children:new Date(i.filter(q=>q.isAI)[0]?.createdAt).toLocaleDateString()})]}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2",children:i.filter(q=>q.isAI)[0]?.content}),d.jsx("button",{onClick:()=>r("comments"),className:"text-sky-600 hover:text-sky-700 text-xs mt-2 underline font-medium",children:"전체 코멘트 보기"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-sky-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"총 자산"}),d.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[D.toLocaleString(),"원"]})]}),d.jsx("div",{className:"h-10 w-10 bg-sky-100 rounded-full flex items-center justify-center",children:"💰"})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-sky-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"신용점수"}),d.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[_.creditScore,"점"]})]}),d.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:"📊"})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-sky-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"저축률"}),d.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[R.toFixed(1),"%"]})]}),d.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:"📈"})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-sky-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"달성 업적"}),d.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[_.achievements?.length||0,"개"]})]}),d.jsx("div",{className:"h-10 w-10 bg-yellow-100 rounded-full flex items-center justify-center",children:"🏆"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky-100",children:[d.jsx("div",{className:"border-b border-sky-100",children:d.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"overview",name:"개요",icon:"📋"},{id:"assets",name:"자산 구성",icon:"💼"},{id:"activities",name:"활동 분석",icon:"📈"},{id:"comments",name:"교사 피드백",icon:"💬"}].map(q=>d.jsxs("button",{onClick:()=>r(q.id),className:`
                  py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2
                  ${n===q.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[q.icon," ",q.name]},q.id))})}),d.jsxs("div",{className:"p-6",children:[n==="overview"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-sky-50 rounded-lg p-4 border border-sky-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"기본 정보"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"이름"}),d.jsx("span",{className:"font-medium",children:_.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"학급"}),d.jsx("span",{className:"font-medium",children:k.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"가입일"}),d.jsx("span",{className:"font-medium",children:new Date(_.createdAt).toLocaleDateString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"총 거래 횟수"}),d.jsxs("span",{className:"font-medium",children:[_.totalTransactions,"회"]})]})]})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"신용 관리"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"신용등급"}),d.jsx("span",{className:`font-medium px-2 py-1 rounded text-sm ${_.creditGrade==="A+"||_.creditGrade==="A"?"bg-green-100 text-green-800":_.creditGrade==="B+"||_.creditGrade==="B"?"bg-blue-100 text-blue-800":_.creditGrade==="C+"||_.creditGrade==="C"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.creditGrade})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"지각 횟수"}),d.jsxs("span",{className:"font-medium",children:[_.lateCount,"회"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"숙제 미제출"}),d.jsxs("span",{className:"font-medium",children:[_.homeworkMissed,"회"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"도서 연체"}),d.jsxs("span",{className:"font-medium",children:[_.bookOverdue,"회"]})]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"경제 성과 요약"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-sky-600",children:_.totalEarnings.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 수입 (원)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"저축액 (원)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:O.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"투자액 (원)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:_.achievements?.length||0}),d.jsx("div",{className:"text-sm text-gray-500",children:"달성 업적"})]})]})]})]}),n==="assets"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-sky-50 rounded-lg p-4 border border-sky-200 text-center",children:[d.jsx("div",{className:"text-3xl mb-2",children:"💰"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"현금"}),d.jsxs("p",{className:"text-2xl font-bold text-sky-600 mt-2",children:[_.balance.toLocaleString(),"원"]}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["(",(_.balance/D*100).toFixed(1),"%)"]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200 text-center",children:[d.jsx("div",{className:"text-3xl mb-2",children:"📈"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"주식 투자"}),d.jsxs("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:[O.toLocaleString(),"원"]}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[E.length,"개 종목 (",(O/D*100).toFixed(1),"%)"]})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200 text-center",children:[d.jsx("div",{className:"text-3xl mb-2",children:"🏦"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"예금/적금"}),d.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[L.toLocaleString(),"원"]}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[M.length,"개 계좌 (",(L/D*100).toFixed(1),"%)"]})]})]}),E.length>0&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 p-4 border-b",children:"보유 주식"}),d.jsx("div",{className:"divide-y",children:E.map((q,re)=>d.jsxs("div",{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:q.stockSymbol}),d.jsxs("p",{className:"text-sm text-gray-500",children:[q.quantity,"주 보유"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-medium",children:[(q.quantity*q.currentPrice).toLocaleString(),"원"]}),d.jsxs("p",{className:"text-sm text-gray-500",children:["@",q.currentPrice.toLocaleString(),"원"]})]})]},re))})]}),M.length>0&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 p-4 border-b",children:"예금/적금 계좌"}),d.jsx("div",{className:"divide-y",children:M.map((q,re)=>d.jsxs("div",{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:q.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[q.type==="deposit"?"정기예금":"적금"," · ",q.interestRate,"%"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-medium",children:[q.totalBalance.toLocaleString(),"원"]}),d.jsxs("p",{className:"text-sm text-gray-500",children:["만기: ",new Date(q.maturityDate).toLocaleDateString()]})]})]},re))})]})]}),n==="activities"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-sky-50 rounded-lg p-4 border border-sky-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"거래 활동"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"총 거래 횟수"}),d.jsxs("span",{className:"font-medium",children:[_.totalTransactions,"회"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"평균 거래액"}),d.jsxs("span",{className:"font-medium",children:[_.totalTransactions>0?Math.round(_.totalEarnings/_.totalTransactions).toLocaleString():0,"원"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"거래 유형"}),d.jsx("span",{className:"font-medium",children:E.length>0?"적극형":M.length>0?"안정형":"보수형"})]})]})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"금융 습관"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"저축형"}),d.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${R>30?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R>30?"예":"아니오"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"투자형"}),d.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${E.length>0?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.length>0?"예":"아니오"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"활동 수준"}),d.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${_.totalTransactions>10?"bg-yellow-100 text-yellow-800":_.totalTransactions>5?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.totalTransactions>10?"높음":_.totalTransactions>5?"보통":"낮음"})]})]})]})]}),_.achievements&&_.achievements.length>0&&d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"달성 업적"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:_.achievements.map((q,re)=>d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"🏆"}),d.jsx("p",{className:"text-sm font-medium text-gray-800",children:q})]},re))})]})]}),n==="comments"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-sky-50 rounded-lg p-4 border border-sky-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"피드백 작성"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{value:s,onChange:q=>l(q.target.value),placeholder:"학생에 대한 피드백을 작성해주세요...",className:"w-full px-3 py-2 border border-sky-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",rows:3}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:I,disabled:u,className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium transition-colors",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"AI 코멘트 생성 중..."]}):d.jsx(d.Fragment,{children:"🤖 AI 코멘트 생성"})}),d.jsx("button",{onClick:V,disabled:!s.trim(),className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"코멘트 추가"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"피드백 목록"}),i.length>0?d.jsx("div",{className:"space-y-4",children:i.map(q=>d.jsxs("div",{className:`rounded-lg p-4 ${q.isAI?"bg-sky-50 border border-sky-200":"bg-white border border-gray-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:q.author}),q.isAI&&d.jsx("span",{className:"px-2 py-1 bg-sky-100 text-sky-700 text-xs rounded flex items-center gap-1",children:"🤖 AI 생성"})]}),d.jsx("button",{onClick:()=>a(re=>re.filter(se=>se.id!==q.id)),className:"text-gray-400 hover:text-red-600 transition",children:"✕"})]}),d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:q.content}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(q.createdAt).toLocaleString()})]},q.id))}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-4",children:"💬"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"아직 피드백이 없습니다"}),d.jsx("p",{children:"AI 코멘트를 생성하거나 직접 피드백을 작성해보세요."})]})]})]})]})]})]})}function sbe(){const e=Ur(),t=$s(),[n,r]=N.useState(""),[i,a]=N.useState(!1),{isPremiumActive:s,validateApiKey:l}=Aw(),u=t.filter(m=>m.name.toLowerCase().includes(n.toLowerCase())),f=async m=>{if(await l(m))a(!1);else throw alert("유효하지 않은 API 키입니다. 다시 확인해주세요."),new Error("Invalid API key")};return s?e?t.length===0?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학생이 없습니다"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"먼저 학생을 등록해주세요."}),d.jsx(xi,{to:"/students",className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700",children:"학생 관리로 이동"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"학생 포트폴리오"}),d.jsxs("p",{className:"text-gray-500 mt-2",children:[e.name," · 총 ",t.length,"명의 학생"]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:d.jsxs("div",{className:"max-w-md",children:[d.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"학생 검색"}),d.jsx("input",{id:"search",type:"text",placeholder:"학생 이름으로 검색...",value:n,onChange:m=>r(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>d.jsxs(xi,{to:`/portfolio/${m.id}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6 group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-12 h-12 bg-sky-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:m.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-sky-600 transition-colors",children:m.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:["신용등급 ",m.creditGrade]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"포트폴리오"}),d.jsx("div",{className:"text-sky-600 group-hover:text-sky-700",children:"📊"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"현재 잔액"}),d.jsxs("span",{className:"font-medium text-gray-900",children:[m.balance.toLocaleString(),"원"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"신용점수"}),d.jsxs("span",{className:"font-medium text-gray-900",children:[m.creditScore,"점"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"총 수입"}),d.jsxs("span",{className:"font-medium text-gray-900",children:[m.totalEarnings.toLocaleString(),"원"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"달성 업적"}),d.jsxs("span",{className:"font-medium text-gray-900",children:[m.achievements?.length||0,"개"]})]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.creditGrade==="A+"||m.creditGrade==="A"?"bg-green-100 text-green-800":m.creditGrade==="B+"||m.creditGrade==="B"?"bg-blue-100 text-blue-800":m.creditGrade==="C+"||m.creditGrade==="C"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.creditGrade," 등급"]}),m.achievements&&m.achievements.length>0&&d.jsxs("span",{className:"text-xs text-gray-500",children:["🏆 ",m.achievements.length]})]}),d.jsx("div",{className:"text-sky-600 group-hover:translate-x-1 transition-transform",children:"→"})]})})]},m.id))}),u.length===0&&n&&d.jsx("div",{className:"text-center py-12",children:d.jsxs("div",{className:"text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"검색 결과가 없습니다"}),d.jsxs("p",{children:['"',n,'"과 일치하는 학생이 없습니다.']})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"학급 통계"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-sky-600",children:t.length}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 학생 수"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.reduce((m,p)=>m+p.balance,0).toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 잔액 (원)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(t.reduce((m,p)=>m+p.creditScore,0)/t.length)}),d.jsx("div",{className:"text-sm text-gray-500",children:"평균 신용점수"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.reduce((m,p)=>m+(p.achievements?.length||0),0)}),d.jsx("div",{className:"text-sm text-gray-500",children:"총 업적 수"})]})]})]})]}):d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학급이 없습니다"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"먼저 학급을 생성해주세요."}),d.jsx(xi,{to:"/classes",className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700",children:"학급 관리로 이동"})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("span",{className:"text-3xl",children:"📊"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학생 포트폴리오"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"학생들의 경제 활동을 종합 분석한 포트폴리오를 확인하세요"}),d.jsx("button",{onClick:()=>a(!0),className:"px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-lg font-medium transition-colors",children:"포트폴리오 보기"})]})})}),d.jsx(b2,{isOpen:i,onClose:()=>a(!1),featureName:"학생 포트폴리오",onApiKeySubmit:f})]})}function obe(){const e=sf(),t=kc(n=>n.classrooms);return N.useEffect(()=>{t.length===0&&e("/classes")},[t,e]),d.jsx(AW,{children:d.jsxs(V8,{children:[d.jsx(Cr,{path:"/",element:d.jsx(gye,{})}),d.jsx(Cr,{path:"/classes",element:d.jsx(Wye,{})}),d.jsx(Cr,{path:"/students",element:d.jsx(Gye,{})}),d.jsx(Cr,{path:"/jobs",element:d.jsx(Yye,{})}),d.jsx(Cr,{path:"/transactions",element:d.jsx(Kye,{})}),d.jsx(Cr,{path:"/items",element:d.jsx(Zye,{})}),d.jsx(Cr,{path:"/banking",element:d.jsx(Hve,{})}),d.jsx(Cr,{path:"/stocks",element:d.jsx(Wve,{})}),d.jsx(Cr,{path:"/achievements",element:d.jsx(Gve,{})}),d.jsx(Cr,{path:"/ai-plan",element:d.jsx(ibe,{})}),d.jsx(Cr,{path:"/portfolio",element:d.jsx(sbe,{})}),d.jsx(Cr,{path:"/portfolio/:studentId",element:d.jsx(abe,{})})]})})}function lbe(){const{initialize:e}=_W(),t=Xo(n=>n.isInitialized);return N.useEffect(()=>{e()},[e]),t?d.jsx(oX,{children:d.jsx(u9,{children:d.jsx(obe,{})})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse shadow-lg",children:d.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),d.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"비바빌리지를 시작하는 중..."})]})})}ZV.createRoot(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(lbe,{})}));export{xs as _,cbe as c,Gi as g};
